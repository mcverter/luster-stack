<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Automating the Amazon EBS Snapshot Lifecycle - Amazon Elastic Compute Cloud</title>
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="home" href="#top" />
      <link rel="up" href="EBSSnapshots.html" title="Amazon EBS Snapshots" />
      <link rel="prev" href="ebs-modifying-snapshot-permissions.html" title="Sharing an Amazon EBS Snapshot" />
      <link rel="next" href="EBSOptimized.html" title="Amazon EBS–Optimized Instances" />
      <meta name="description" content="Use Amazon Data Lifecycle Manager to create, retain, and delete Amazon EBS snapshots." />
      <meta name="keywords" content="EC2,Amazon EC2,EC2 instance,instance,VM,virtual machine" />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="Amazon Elastic Compute Cloud" />
      <meta name="guide" content="User Guide for Linux Instances" />
      <meta name="guide-locale" content="en_us" />
      <link rel="icon" type="image/ico" href="/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/snapshot-lifecycle.html" />
      <link rel="stylesheet" type="text/css" href="/css/jquery-ui.min.css" />
      <link rel="stylesheet" type="text/css" href="/font/css/font-awesome.min.css" />
      <link rel="stylesheet" type="text/css" href="/css/google-font.css" />
      <link id="code-style" rel="stylesheet" type="text/css" href="/css/code/light.css" />
      <link rel="stylesheet" type="text/css" href="/css/jquery-ui.theme.css" />
      <link rel="stylesheet" type="text/css" href="/css/colorbox.css" />
      <link rel="stylesheet" type="text/css" href="/css/awsdocs.css?v=20170615" /><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      <div xmlns:db="http://docbook.org/ns/docbook" id="aws-nav" class="aws-nav-header">
         <div class="aws-nav-header-left">
            <div id="aws-nav-flyout-trigger" class="aws-nav-flyout-trigger"><i class="fa fa-bars fa-2x"></i></div>
            <div class="aws-nav-logo">
               <!--aws_logo_105x39.png--><a href="http://aws.amazon.com"><img src="/images/aws_logo_105x39.png" alt="Amazon Web Services" /></a></div>
         </div>
         <div id="aws-nav-header-right" class="aws-nav-header-right">
            <div class="aws-nav-cta-button-outer"><a id="aws-nav-cta-button" class="aws-nav-button" href="https://console.aws.amazon.com/console/home">Sign In to the Console</a></div>
            <div class="aws-nav-popover-trigger" data-dropdown="aws-nav-dropdown-lang"><select id="languageSelection" onchange="SelectLanguage()">
                  <option value="/de_de/AWSEC2/latest/UserGuide/snapshot-lifecycle.html">Deutsch</option>
                  <option value="/en_us/AWSEC2/latest/UserGuide/snapshot-lifecycle.html" selected="selected">English</option>
                  <option value="/es_es/AWSEC2/latest/UserGuide/snapshot-lifecycle.html">Español</option>
                  <option value="/fr_fr/AWSEC2/latest/UserGuide/snapshot-lifecycle.html">Français</option>
                  <option value="/it_it/AWSEC2/latest/UserGuide/snapshot-lifecycle.html">Italiano</option>
                  <option value="/ja_jp/AWSEC2/latest/UserGuide/snapshot-lifecycle.html">日本語</option>
                  <option value="/ko_kr/AWSEC2/latest/UserGuide/snapshot-lifecycle.html">한국어</option>
                  <option value="/pt_br/AWSEC2/latest/UserGuide/snapshot-lifecycle.html">Português</option>
                  <option value="/zh_cn/AWSEC2/latest/UserGuide/snapshot-lifecycle.html">中文 (简体)</option>
                  <option value="/zh_tw/AWSEC2/latest/UserGuide/snapshot-lifecycle.html">中文 (繁體)</option></select></div><a class="btn btn-rss-link" id="rss-link-top" target="_blank" href="amazon-ec2-release-notes.rss" title="View RSS Feed"></a><a class="btn btn-kindle-link" id="kindle-link-top" target="_blank" href="http://www.amazon.com/dp/B076452RSZ" title="Open Kindle"></a><a class="btn btn-pdf-link" id="pdf-link-top" href="ec2-ug.pdf#snapshot-lifecycle" target="_blank" title="Open PDF"></a><a class="btn btn-github-link" id="github-link-top" href="https://github.com/awsdocs/amazon-ec2-user-guide/tree/master/doc_source/snapshot-lifecycle.md" target="_blank" title="Edit on GitHub"></a><div id="aws-nav-quicklinks-separator" class="aws-nav-quicklinks-separator">
               <div class="aws-nav-left"></div>
               <div class="aws-nav-right"></div>
            </div>
         </div>
         <div xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" id="topnav-flyout-menu-container">
            <ul id="topnav-flyout-menu"><script id="flyout-item-template" type="text/x-handlebars-template">
                    {{#flyoutList}}

                        {{#if topTarget}}
                            <li class="awsdocs-flyout-link-wrapper"><a href="{{topTarget}}">{{listItem}}</a></li>
                        {{else}}
                            <li>{{listItem}}
                                {{#if subList}}
                                <ul>
                                    {{#subList}}
                                    <li class="awsdocs-flyout-link-wrapper"><a href="{{target}}">{{text}}</a></li>
                                    {{/subList}}
                                </ul>
                                {{/if}}
                            </li>
                        {{/if}}

                    {{/flyoutList}}
                </script></ul>
            <div id="topnav-flyout-menu-spacer"></div>
         </div>
      </div>
      <div id="content-container">
         <div id="left-column">
            <div id="left-col-header">
               <div xmlns:db="http://docbook.org/ns/docbook" id="left-col-top-content">
                  <div id="service-name">Amazon Elastic Compute Cloud </div>
                  <div id="search"><i id="search-icon" class="fa fa-search fa-2x"></i></div>
                  <div id="guide-info">User Guide for Linux Instances
                     <div id="content-button"><i id="toggle-contents" class="fa fa-bars"></i></div>
                  </div>
               </div>
               <form id="finegrainedSearch" method="get" onsubmit="return searchFormSubmit(this);" action="/search/doc-search.html">
                  <div id="search-form"><select id="search-select" name="searchPath">
                        <option value="all">Entire Site</option>
                        <option value="AWSMarketplace">AMIs from AWS Marketplace</option>
                        <option value="amis">AMIs from All Sources</option>
                        <option value="articles">Articles &amp; Tutorials</option>
                        <option value="products_and_info">AWS Product Information</option>
                        <option value="case_studies">Case Studies</option>
                        <option value="customerapps">Customer Apps</option>
                        <option value="documentation">Documentation</option>
                        <option value="documentation-product">Documentation - This Product</option>
                        <option value="documentation-guide" selected="selected">Documentation - This Guide</option>
                        <option value="datasets">Public Data Sets</option>
                        <option value="releasenotes">Release Notes</option>
                        <option value="solution_providers">Partners</option>
                        <option value="code">Sample Code &amp; Libraries</option></select><br /><input id="search-query" name="searchQuery" type="text" placeholder="Search" /><input id="search-button" src="/images/search-button.png" alt="Go" type="image" /></div><input type="hidden" name="this_doc_product" id="this_doc_product" value="Amazon Elastic Compute Cloud" /><input type="hidden" name="this_doc_guide" id="this_doc_guide" value="User Guide for Linux Instances" /><input type="hidden" name="doc_locale" value="en_us" /></form>
            </div>
            <div id="toc">
               <ul class="awstoc">
                  <li class="awstoc closed"><a class="awstoc" href="concepts.html">What Is Amazon EC2?</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-instances-and-amis.html">Instances and AMIs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="using-regions-availability-zones.html">Regions and Availability Zones</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="RootDeviceStorage.html">Root Device Volume</a></li>
                     </ul>
                  </li>
                  <li class="awstoc leaf"><a class="awstoc" href="get-set-up-for-amazon-ec2.html">Setting Up</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="EC2_GetStarted.html">Getting Started</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="ec2-best-practices.html">Best Practices</a></li>
                  <li class="awstoc closed"><a class="awstoc" href="ec2-tutorials.html">Tutorials</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-lamp-amazon-linux-2.html">Install a LAMP Server (Amazon Linux 2)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="install-LAMP.html">Install a LAMP Server (Amazon Linux AMI)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="hosting-wordpress.html">Tutorial: Hosting a WordPress Blog</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="SSL-on-an-instance.html">Tutorial: Configure Apache Web Server on Amazon Linux 2 to Use SSL/TLS</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-increase-availability.html">Tutorial: Increase the Availability of Your Application</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="tutorial_run_command.html">Tutorial: Remotely Manage Your Instances</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="AMIs.html">Amazon Machine Images</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ComponentsAMIs.html">AMI Types</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="virtualization_types.html">Virtualization Types</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="finding-an-ami.html">Finding a Linux AMI</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="sharing-amis.html">Shared AMIs</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="usingsharedamis-finding.html">Finding Shared AMIs</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="sharingamis-intro.html">Making an AMI Public</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="sharingamis-explicit.html">Sharing an AMI with Specific AWS Accounts</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="using-bookmarks.html">Using Bookmarks</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="building-shared-amis.html">Guidelines for Shared Linux AMIs</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="paid-amis.html">Paid AMIs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="creating-an-ami-ebs.html">Creating an Amazon EBS-Backed Linux AMI</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="creating-an-ami-instance-store.html">Creating an Instance Store-Backed Linux AMI</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="set-up-ami-tools.html">Setting Up the AMI Tools</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="create-instance-store-ami.html">Creating an AMI from an Instance Store-Backed Instance</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="Using_ConvertingS3toEBS.html">Converting to an Amazon EBS-Backed AMI</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ami-tools-commands.html">AMI Tools Reference</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="AMIEncryption.html">AMIs with Encrypted Snapshots</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="CopyingAMIs.html">Copying an AMI</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="deregister-ami.html">Deregistering Your Linux AMI</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="amazon-linux-ami-basics.html">Amazon Linux</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="amazon-linux-2-virtual-machine.html">Running Amazon Linux 2 as a Virtual Machine On-Premises</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="UserProvidedKernels.html">User Provided Kernels</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="Instances.html">Instances</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="instance-types.html">Instance Types</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="burstable-performance-instances.html">Burstable Performance Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="burstable-credits-baseline-concepts.html">CPU Credits and Baseline Performance</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="burstable-performance-instances-unlimited-mode.html">Unlimited Mode</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="unlimited-mode-examples.html">Examples</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc closed"><a class="awstoc" href="burstable-performance-instances-standard-mode.html">Standard Mode</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="standard-mode-examples.html">Examples</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc leaf"><a class="awstoc" href="burstable-performance-instances-how-to.html">Working with Burstable Performance Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="burstable-performance-instances-monitoring-cpu-credits.html">Monitoring Your CPU Credits</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="general-purpose-instances.html">General Purpose Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="compute-optimized-instances.html">Compute Optimized Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="memory-optimized-instances.html">Memory Optimized Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="storage-optimized-instances.html">Storage Optimized Instances</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="accelerated-computing-instances.html">Accelerated Computing Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="install-nvidia-driver.html">Installing the NVIDIA Driver on Linux Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="activate_grid.html">Activate NVIDIA GRID Virtual Applications (G3 Instances Only)</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="optimize_gpu.html">Optimizing GPU Settings (P2, P3, and G3 Instances)</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="fpga-getting-started.html">Getting Started with FPGA Development</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="concepts_micro_instances.html">T1 Micro Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-instance-resize.html">Changing the Instance Type</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="instance-optimize-cpu.html">Optimizing CPU Options</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="instance-purchasing-options.html">Instance Purchasing Options</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="ec2-reserved-instances.html">Reserved Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="reserved-instances-types.html">Types of Reserved Instances (Offering Classes)</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="apply_ri.html">How Reserved Instances Are Applied</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="concepts-reserved-instances-application.html">How You Are Billed</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-market-concepts-buying.html">Buying Reserved Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-market-general.html">Selling on the Reserved Instance Marketplace</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-modifying.html">Modifying Reserved Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-convertible-exchange.html">Exchanging Convertible Reserved Instances</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-scheduled-instances.html">Scheduled Instances</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="using-spot-instances.html">Spot Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="how-spot-instances-work.html">How Spot Instances Work</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-fleet.html">How Spot Fleet Works</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="using-spot-instances-history.html">Spot Instance Pricing History</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="spot-requests.html">Spot Instance Requests</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-request-examples.html">Example Launch Specifications</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc closed"><a class="awstoc" href="spot-fleet-requests.html">Spot Fleet Requests</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-examples.html">Example Configurations</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-cloudwatch-metrics.html">CloudWatch Metrics for Spot Fleet</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="spot-fleet-automatic-scaling.html">Automatic Scaling for Spot Fleet</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-target-tracking.html">Target Tracking Scaling Policies</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-step-scaling.html">Step Scaling Policies</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-scheduled-scaling.html">Scheduled Scaling</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-bid-status.html">Spot Request Status</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-interruptions.html">Spot Instance Interruptions</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-data-feeds.html">Spot Instance Data Feed</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="using-spot-limits.html">Spot Instance Limits</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="dedicated-hosts-overview.html">Dedicated Hosts</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="how-dedicated-hosts-work.html">Working with Dedicated Hosts</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="dedicated-hosts-aws-config.html">Tracking Configuration Changes</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="dedicated-instance.html">Dedicated Instances</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="ec2-instance-lifecycle.html">Instance Lifecycle</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="LaunchingAndUsingInstances.html">Launch</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="launching-instance.html">Launching an Instance Using the Launch Instance Wizard</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ec2-launch-templates.html">Launching an Instance from a Launch Template</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="launch-more-like-this.html">Launching an Instance From an Existing Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="instance-launch-snapshot.html">Launching a Linux Instance from a Backup</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="launch-marketplace-console.html">Launching an AWS Marketplace Instance</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="ec2-fleet.html">Launching an EC2 Fleet</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="ec2-fleet-configuration-strategies.html">EC2 Fleet Configuration Strategies</a></li>
                                          <li class="awstoc closed"><a class="awstoc" href="manage-ec2-fleet.html">Managing an EC2 Fleet</a><ul class="awstoc">
                                                <li class="awstoc leaf"><a class="awstoc" href="ec2-fleet-examples.html">Example Configurations</a></li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="AccessingInstances.html">Connect</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="AccessingInstancesLinux.html">Connect Using SSH</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="putty.html">Connect Using PuTTY</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="WSL.html">Connect Using WSL</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="mindterm.html">Connect Using MindTerm</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="Stop_Start.html">Stop and Start</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-instance-reboot.html">Reboot</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="instance-retirement.html">Retire</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="terminating-instances.html">Terminate</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-instance-recover.html">Recover</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="Configure_Instance.html">Configure Instances</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="managing-software.html">Managing Software</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="install-updates.html">Updating Instance Software</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="add-repositories.html">Adding Repositories</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="find-software.html">Finding Software Packages</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="install-software.html">Installing Software Packages</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="compile-software.html">Preparing to Compile Software</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="managing-users.html">Managing Users</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="processor_state_control.html">Processor State Control</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="set-time.html">Setting the Time</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="set-hostname.html">Changing the Hostname</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="dynamic-dns.html">Setting Up Dynamic DNS</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="user-data.html">Running Commands at Launch</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="ec2-instance-metadata.html">Instance Metadata and User Data</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="instance-identity-documents.html">Instance Identity Documents</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="identify_ec2_instances.html">Identify Instances</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="monitoring_ec2.html">Monitoring</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="monitoring_automated_manual.html">Automated and Manual Monitoring</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="monitoring_best_practices.html">Best Practices for Monitoring</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="monitoring-instances-status-check.html">Monitoring the Status of Your Instances</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="monitoring-system-instance-status-check.html">Instance Status Checks</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="monitoring-instances-status-check_sched.html">Scheduled Events</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="using-cloudwatch.html">Monitoring Your Instances Using CloudWatch</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="using-cloudwatch-new.html">Enable Detailed Monitoring</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="viewing_metrics_with_cloudwatch.html">List Available Metrics</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="monitoring_get_statistics.html">Get Statistics for Metrics</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="US_SingleMetricPerInstance.html">Get Statistics for a Specific Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="GetSingleMetricAllDimensions.html">Aggregate Statistics Across Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="GetMetricAutoScalingGroup.html">Aggregate Statistics by Auto Scaling Group</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="US_SingleMetricPerAMI.html">Aggregate Statistics by AMI</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="graphs-in-the-aws-management-console.html">Graph Metrics</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="using-cloudwatch-createalarm.html">Create an Alarm</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="UsingAlarmActions.html">Create Alarms That Stop, Terminate, Reboot, or Recover an Instance</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="automating_with_cloudwatch_events.html">Automating Amazon EC2 with CloudWatch Events</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="mon-scripts.html">Monitoring Memory and Disk Metrics</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="EC2_Network_and_Security.html">Network and Security</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-key-pairs.html">Key Pairs</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="using-network-security.html">Security Groups</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="security-group-rules-reference.html">Security Group Rules Reference</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="UsingIAM.html">Controlling Access</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="iam-policies-for-amazon-ec2.html">IAM Policies</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="iam-policy-structure.html">Policy Structure</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ec2-supported-iam-actions-resources.html">Supported Resource-Level Permissions</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ExamplePolicies_EC2.html">Example Policies for CLI or SDK</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="iam-policies-ec2-console.html">Example Policies for the Console</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="iam-roles-for-amazon-ec2.html">IAM Roles</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="authorizing-access-to-an-instance.html">Network Access</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="using-instance-addressing.html">Instance IP Addressing</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="MultipleIP.html">Multiple IP Addresses</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="elastic-ip-addresses-eip.html">Elastic IP Addresses</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="using-eni.html">Network Interfaces</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="requester-managed-eni.html">Requester-Managed Network Interfaces</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="enhanced-networking.html">Enhanced Networking</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="sriov-networking.html">Enhanced Networking: Intel 82599 VF</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="enhanced-networking-ena.html">Enhanced Networking: ENA</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-ena.html">Troubleshooting ENA</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="placement-groups.html">Placement Groups</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="network_mtu.html">Network MTU</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="using-vpc.html">Virtual Private Clouds</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="ec2-classic-platform.html">EC2-Classic</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="vpc-classiclink.html">ClassicLink</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="vpc-migrate.html">Migrating from EC2-Classic to a VPC</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc opened"><a class="awstoc" href="Storage.html">Storage</a><ul class="awstoc">
                        <li class="awstoc opened"><a class="awstoc" href="AmazonEBS.html">Amazon EBS</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="EBSVolumes.html">EBS Volumes</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="EBSVolumeTypes.html">EBS Volume Types</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-creating-volume.html">Creating a Volume</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-restoring-volume.html">Restoring from a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-attaching-volume.html">Attaching a Volume to an Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-using-volumes.html">Making a Volume Available for Use</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-describing-volumes.html">Volume Information</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="monitoring-volume-status.html">Monitoring the Status of Your Volumes</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-detaching-volume.html">Detaching a Volume from an Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-deleting-volume.html">Deleting a Volume</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="ebs-modify-volume.html">Modifying a Volume</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="volume_constraints.html">Volume Size Constraints</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="console-modify.html">Using the Console</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="cli-modify.html">Using the CLI</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="monitoring_mods.html">Monitoring Progress</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="expand-linux-partition.html">Expanding a Linux Partition</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="recognize-expanded-volume-linux.html">Extending Linux File Systems</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="limitations.html">Limitations</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="stop-start.html">Appendix: Manual Stop/Start Modification</a></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li class="awstoc opened"><a class="awstoc" href="EBSSnapshots.html">EBS Snapshots</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-creating-snapshot.html">Creating a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-deleting-snapshot.html">Deleting a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-copy-snapshot.html">Copying a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-describing-snapshots.html">Viewing Snapshot Information</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-modifying-snapshot-permissions.html">Sharing a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc selected" href="snapshot-lifecycle.html">Automating Snapshots</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="EBSOptimized.html">EBS Optimization</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="EBSEncryption.html">EBS Encryption</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="nvme-ebs-volumes.html">EBS Volumes and NVMe</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="EBSPerformance.html">EBS Performance</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-ec2-config.html">EC2 Configuration</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-io-characteristics.html">I/O Characteristics and Monitoring</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-initialize.html">Initialize Volumes</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="raid-config.html">RAID Configuration</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="benchmark_procedures.html">Benchmark EBS Volumes</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="ebs-cloud-watch-events.html">EBS CloudWatch Events</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="InstanceStorage.html">Instance Store</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="add-instance-store-volumes.html">Add Instance Store Volumes</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ssd-instance-store.html">SSD Instance Store Volumes</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="instance-store-swap-volumes.html">Instance Store Swap Volumes</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="disk-performance.html">Optimizing Disk Performance</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="AmazonEFS.html">Amazon EFS</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="AmazonS3.html">Amazon S3</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="volume_limits.html">Instance Volume Limits</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="device_naming.html">Device Naming</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="block-device-mapping-concepts.html">Block Device Mapping</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="using-public-data-sets.html">Using Public Data Sets</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="EC2_Resources.html">Resources and Tags</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="resources.html">Resource Locations</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="resource-ids.html">Resource IDs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="Using_Filtering.html">Listing and Filtering Your Resources</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="Using_Tags.html">Tagging Your Resources</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-resource-limits.html">Service Limits</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="usage-reports.html">Usage Reports</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="Linux-Server-EC2Rescue.html">EC2Rescue for Linux</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_install.html">Installing EC2Rescue for Linux</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_verify.html">(Optional) Verify the Signature of EC2Rescue for Linux</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_working.html">Working with EC2Rescue for Linux</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_moduledev.html">Developing EC2Rescue Modules</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="ec2-instance-troubleshoot.html">Troubleshooting</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-launch.html">Troubleshooting Launch Issues</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstancesConnecting.html">Connecting to Your Instance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstancesStopping.html">Stopping Your Instance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstancesShuttingDown.html">Terminating Your Instance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstanceRecovery.html">Instance Recovery Failures</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstances.html">Failed Status Checks</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="instance-console.html">Getting Console Output and Rebooting Instances</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="instance-booting-from-wrong-volume.html">Booting from the Wrong Volume</a></li>
                     </ul>
                  </li>
                  <li class="awstoc leaf"><a class="awstoc" href="DocumentHistory.html">Document History</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="glossary.html">AWS Glossary</a></li>
                  <li id="toc-additional-links"><a class="btn btn-pdf-link" id="pdf-link-alt" href="ec2-ug.pdf#top" target="_blank" title="Open PDF"></a><a class="btn btn-kindle-link" id="kindle-link-alt" target="_blank" href="http://www.amazon.com/dp/B076452RSZ" title="Open Kindle"></a><a class="btn btn-rss-link" id="rss-link-alt" target="_blank" href="amazon-ec2-release-notes.rss" title="View RSS Feed"></a></li>
               </ul>
            </div>
         </div>
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> » <a href="/ec2/index.html">Amazon EC2</a> » <a href="index.html">User Guide for Linux Instances</a> » <a href="Storage.html">Storage</a> » <a href="AmazonEBS.html">Amazon Elastic Block Store (Amazon EBS)</a> » <a href="EBSSnapshots.html">Amazon EBS Snapshots</a> » <span class="breadcrumb">Automating the Amazon EBS Snapshot Lifecycle</span></div>
                           </td>
                        </tr>
                     </table>
                     <div></div>
                     <h1 class="topictitle" id="snapshot-lifecycle">Automating the Amazon EBS Snapshot Lifecycle</h1>
                     <p>You can use Amazon Data Lifecycle Manager (Amazon DLM) to automate the creation, retention,
                        and deletion of snapshots 
                        taken to back up your Amazon EBS volumes. Automating snapshot management helps you
                        to:
                     </p>
                     <div class="itemizedlist">
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>Protect valuable data by enforcing a regular backup schedule.</p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Retain backups as required by auditors or internal compliance.</p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Reduce storage costs by deleting outdated backups.</p>
                              
                           </li>
                        </ul>
                     </div>
                     <p>Combined with the monitoring features of Amazon CloudWatch Events and AWS CloudTrail,
                        Amazon DLM provides a complete
                        backup solution for EBS volumes at no additional cost.
                     </p>
                     
                     <h2 id="dlm-elements">Understanding Amazon DLM</h2>
                     
                     
                     <p>The following are the key elements that you should understand before you get started
                        with Amazon DLM.
                     </p>
                     
                     
                     
                     <h3 id="dlm-ebs-snapshots">Snapshots</h3>
                     
                     <p>Snapshots are the primary means to back up data from your EBS volumes. To save storage
                        costs, successive snapshots are incremental, containing only the volume data that
                        changed
                        since the previous snapshot. When you delete one snapshot in a series of snapshots
                        for a
                        volume, only the data unique to that snapshot is removed. The rest of the captured
                        history
                        of the volume is preserved.
                     </p>
                     
                     <p>For more information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSSnapshots.html" target="_blank">Amazon EBS Snapshots</a>.
                     </p>
                     
                     
                     
                     
                     <h3 id="dlm-tagging-volumes">Volume Tags</h3>
                     
                     <p>Amazon DLM uses resource tags to identify the EBS volumes to back up. Tags are customizable
                        metadata that you can assign to your AWS resources (including EBS volumes and snapshots).
                        An
                        Amazon DLM policy (described below) targets a volume for backup using a single unique
                        tag.
                        Multiple tags can be assigned to a volume if you want to run multiple policies on
                        it.
                     </p>
                     
                     <p>You can't use a '\' or '=' character in a tag key.</p>
                     
                     <p>For more information about tagging Amazon EC2 objects, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html" target="_blank">Tagging Your Amazon EC2 Resources</a>.
                     </p>
                     
                     
                     
                     
                     <h3 id="dlm-tagging-snapshots">Snapshot Tags</h3>
                     
                     <p>Amazon DLM applies the following tags to all snapshots created by a policy, to distinguish
                        them from snapshots created by any other means:
                     </p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><code class="code">aws:dlm:lifecycle-policy-id</code></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><code class="code">aws:dlm:lifecycle-schedule-name</code></p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     <p>You can also specify custom tags to be applied to snapshots on creation.</p>
                     
                     <p>You can't use a '\' or '=' character in a tag key.</p>
                     
                     <p>Volume tags are not inherited by the snapshots that Amazon DLM creates.</p>
                     
                     
                     
                     
                     <h3 id="dlm-lifecycle-policies">Lifecycle Policies</h3>
                     
                     
                     <div class="itemizedlist">
                        
                        <p>A lifecycle policy consists of these core settings:</p>
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>Resource type—The AWS resource managed by the policy, in this case, EBS
                                 volumes.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Target tag—The tag that must be associated with an EBS volume for it to be
                                 managed by the policy.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Schedule—Defines how often to create snapshots and the maximum number of snapshots
                                 to keep.
                                 Snapshot creation starts within an hour of the specified start time.
                                 If creating a new snapshot exceeds the maximum number of snapshots to keep for the
                                 volume, 
                                 the oldest snapshot is deleted.
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     
                     <div class="itemizedlist">
                        
                        <p>The following considerations apply to lifecycle policies:</p>
                        
                        
                        
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>A policy does not begin creating snapshots until you set its activation status to
                                 <em>enabled</em>. You can configure a policy to be enabled
                                 upon creation.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Snapshots begin to be created by a policy within one hour following the specified
                                 start time.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>If you modify a policy by removing or changing its target tag, the EBS volumes with
                                 that tag are no longer affected by the policy.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>If you modify the schedule name for a policy, the snapshots created under the old
                                 schedule
                                 name are no longer affected by the policy.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>You can create multiple policies to back up an EBS volume, as long as each policy
                                 targets a unique tag on the volume. Target tags cannot be reused across policies,
                                 even
                                 disabled policies. If an EBS volume has two tags, where tag A is the target for policy
                                 A
                                 to create a snapshot every 12 hours, and tag B is the target for policy B to create
                                 a
                                 snapshot every 24 hours, Amazon DLM creates snapshots according to the schedules for
                                 both
                                 policies.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>When you copy a snapshot created by a policy, the retention schedule is not carried
                                 over to the copy. This ensures that Amazon DLM does not delete snapshots that should
                                 be 
                                 retained for a longer period of time.
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     <p>For example, you could create a policy that manages all EBS volumes with the tag
                        <code class="code">account=Finance</code>, creates snapshots every 24 hours at 0900, and retains the
                        five most recent snapshots. Snapshot creation could start as late as 0959.
                     </p>
                     
                     
                     
                     
                     <h2 id="dlm-permissions">Permissions for Amazon DLM</h2>
                     
                     
                     <p>Amazon DLM uses an IAM role to get the permissions that are required to manage snapshots
                        on your behalf.
                        Amazon DLM creates the <b>AWSDataLifecycleManagerDefaultRole</b> role the first time that 
                        you create a lifecycle policy using the AWS Management Console. You can also create
                        this role using the 
                        <a href="https://docs.aws.amazon.com/cli/latest/reference/dlm/create-default-role.html" target="_blank">create-default-role</a> command as follows:
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws dlm create-default-role</code></strong></code></pre>
                     
                     <p>Alternatively, you can create a custom IAM role with the required permissions and
                        select it
                        when you create a lifecycle policy. 
                     </p>
                     
                     
                     <p class="title"><b>To create a custom IAM role</b></p>
                     <ol>
                        <li>
                           		
                           <p>Create a role with the following permissions:</p>
                           		<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
   "Version": "2012-10-17",
   "Statement": [
      {
         "Effect": "Allow",
         "Action": [
            "ec2:CreateSnapshot",
            "ec2:DeleteSnapshot",
            "ec2:DescribeVolumes",
            "ec2:DescribeSnapshots"
         ],
         "Resource": "*"
      },
      {
         "Effect": "Allow",
         "Action": [
            "ec2:CreateTags"
         ],
         "Resource": "arn:aws:ec2:*::snapshot/*"
      }
   ]
}</code></pre>
                           		<p>For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user.html" target="_blank">Creating 
                                 			a Role</a> in the <em>IAM User Guide</em>.
                           </p>
                           	
                        </li>
                        <li>
                           		
                           <p>Add a trust relationship to the role.</p>
                           		
                           		
                           <ol>
                              <li>
                                 <p>In the IAM console, choose <b>Roles</b>.
                                 </p>
                              </li>
                              <li>
                                 <p>Select the role you created and then choose <b>Trust relationships</b>.
                                 </p>
                              </li>
                              <li>
                                 <p>Choose <b>Edit Trust Relationship</b>, add the following policy, and then choose <b>Update Trust Policy</b>.
                                 </p>
                                 				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{ 
   "Version": "2012-10-17",
   "Statement": [ 
      { 
         "Effect": "Allow", 
         "Principal": { 
            "Service": "dlm.amazonaws.com"
         }, 
         "Action": "sts:AssumeRole" 
      } 
   ] 
}</code></pre>
                                 			</li>
                           </ol>
                           	
                        </li>
                     </ol>  
                     
                     
                     <h2 id="dlm-access-control">Permissions for IAM Users</h2>
                     
                     <p>An IAM user must have the following permissions to use Amazon DLM:</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
   "Version": "2012-10-17",
   "Statement": [
      {
         "Effect": "Allow",
         "Action": "iam:PassRole",
         "Resource": "arn:aws:iam::123456789012:role/AWSDataLifecycleManagerDefaultRole"
      },
      {
         "Effect": "Allow",
         "Action": "dlm:*",
         "Resource": "*"
      }
   ]
}</code></pre>
                     <p>For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_change-permissions.html" target="_blank">Changing Permissions for an IAM User</a>
                        in the <em>IAM User Guide</em>.
                     </p>
                     
                     
                     <h2 id="dlm-limits">Limits</h2>
                     
                     <p>Your AWS account has the following limits related to Amazon DLM:</p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>You can create up to 100 lifecycle policies per region.</p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>You can add up to 50 tags per resource.</p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>You can create one schedule per lifecycle policy.</p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     
                     <h2 id="snapshot-lifecycle-console">Working with Amazon DLM Using the Console</h2>
                     
                     <p>The following examples show how to use Amazon DLM to perform typical procedures to
                        manage  
                        the backups of your EBS volumes.
                     </p>
                     <a id="console-create-policy"></a><p class="title"><b>To create a lifecycle policy</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           
                           <p>In the navigation pane, choose <b>Elastic Block Store</b>,
                              <b>Lifecycle Manager</b>, <b>Create snapshot lifecycle
                                 policy</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Provide the following information for your policy as needed:</p>
                           
                           
                           <div class="itemizedlist">
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p><b>Description</b>—A description of the policy.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Target volumes with tags</b>—The resource tags
                                       that identify the volumes to back up.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Schedule Name</b>—A name for the backup schedule.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Create snapshots every</b> <b><em>n</em></b>
                                       <b>Hours</b>—The number of hours between policy runs. The supported values are 12 and 24.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Snapshot creation start time</b>
                                       <b><em>hh</em></b>:<b><em>mm</em></b>
                                       <b>UTC</b>—The time of day when policy runs are scheduled to start. 
                                       The policy runs start within an hour after the scheduled time.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Retention rule</b>—The maximum number of snapshots to
                                       retain for each volume. The supported range is 1 to 1000. After the limit is reached,
                                       
                                       the oldest snapshot is deleted when a new one is created.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Tag created snapshots</b>—The resource tags to apply to 
                                       the snapshots that are created. These tags are in addition to the tags applied by
                                       Amazon DLM.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>IAM role</b>—An IAM role that has permissions to create, delete, and describe snapshots, 
                                       and to describe volumes. AWS provides a default role, <b>AWSDataLifecycleManagerDefaultRole</b>, or
                                       you can create a custom IAM role.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Policy status after creation</b>—Choose 
                                       <b>Enable policy</b> to start the policy runs at the next scheduled time 
                                       or <b>Disable policy</b> to prevent the policy from running.
                                    </p>
                                    
                                 </li>
                              </ul>
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Create Policy</b>.
                           </p>
                           
                        </li>
                     </ol>
                     <a id="console-view-policy"></a><p class="title"><b>To display a lifecycle policy</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           
                           <p>In the navigation pane, choose <b>Elastic Block Store</b>,
                              <b>Lifecycle Manager</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Select a lifecycle policy from the list. The <b>Details</b> tab displays
                              the following information about the policy:
                           </p>
                           
                           <div class="itemizedlist">
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p><b>Policy ID</b></p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Date created</b></p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Date modified</b></p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Target volumes with these tags</b></p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Rule summary</b></p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Description</b></p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Policy state</b></p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Tags added to snapshots</b></p>
                                    
                                 </li>
                              </ul>
                           </div>
                           
                        </li>
                     </ol>
                     <a id="console-modify-policy"></a><p class="title"><b>To modify a lifecycle policy</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           
                           <p>In the navigation pane, choose <b>Elastic Block Store</b>,
                              <b>Lifecycle Manager</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Select a lifecycle policy from the list.</p>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Actions</b>, <b>Modify policy</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>In an existing lifecycle policy, you can modify the following policy values:</p>
                           
                           
                           <div class="itemizedlist">
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p><b>Description</b>—A description of the policy.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Target volumes with tags</b>—The resource tags
                                       that identify the volumes to back up.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Schedule Name</b>—A name for the backup schedule.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Create snapshots every</b> <b><em>n</em></b>
                                       <b>Hours</b>—The number of hours between policy runs. The supported values are 12 and 24.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Snapshot creation start time</b>
                                       <b><em>hh</em></b>:<b><em>mm</em></b>
                                       <b>UTC</b>—The time of day when policy runs are scheduled to start. 
                                       The policy runs start within an hour after the scheduled time.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Retention rule</b>—The maximum number of snapshots to
                                       retain for each volume. The supported range is 1 to 1000. After the limit is reached,
                                       
                                       the oldest snapshot is deleted when a new one is created.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Tag created snapshots</b>—The resource tags to apply to 
                                       the snapshots that are created. These tags are in addition to the tags applied by
                                       Amazon DLM.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>IAM role</b>—An IAM role that has permissions to create, delete, and describe snapshots, 
                                       and to describe volumes. AWS provides a default role, <b>AWSDataLifecycleManagerDefaultRole</b>, or
                                       you can create a custom IAM role.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p><b>Policy status after creation</b>—Choose 
                                       <b>Enable policy</b> to start the policy runs at the next scheduled time 
                                       or <b>Disable policy</b> to prevent the policy from running.
                                    </p>
                                    
                                 </li>
                              </ul>
                           </div>
                           
                        </li>
                     </ol>
                     <a id="console-delete-policy"></a><p class="title"><b>To delete a lifecycle policy</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           
                           <p>In the navigation pane, choose <b>Elastic Block Store</b>,
                              <b>Lifecycle Manager</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Select a lifecycle policy from the list.</p>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Actions</b>, <b>Delete policy</b>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     
                     <h2 id="snaphot-lifecycle-cli">Working with Amazon DLM Using the Command Line</h2>
                     
                     
                     <p>The following examples show how to use Amazon DLM to perform typical procedures to
                        manage the
                        backups of your EBS volumes.
                     </p>
                     
                     
                     <div class="example">
                        <p class="title"><b>Example: Create a lifecycle policy</b></p>
                        <div class="example-contents">
                           <p>Use the <a href="https://docs.aws.amazon.com/cli/latest/reference/dlm/create-lifecycle-policy.html" target="_blank">create-lifecycle-policy</a> 
                              command to create a lifecycle policy. To simplify the syntax, this example references
                              a JSON file, 
                              <code>policyDetails.json</code>, that includes the policy details.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws dlm create-lifecycle-policy --description "<em class="replaceable"><code>My first policy</code></em>" --state ENABLED --execution-role-arn arn:aws:iam::<em class="replaceable"><code>12345678910</code></em>:role/<em class="replaceable"><code>AWSDataLifecycleManagerDefaultRole</code></em> --policy-details file://<em class="replaceable"><code>policyDetails.json</code></em></code></strong></code></pre><p>The following is an example of the <code>policyDetails.json</code> file:
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
   "ResourceTypes": [
      "VOLUME"
   ],
   "TargetTags": [
      {
         "Key": "<em class="replaceable"><code>costcenter</code></em>",
         "Value": "<em class="replaceable"><code>115</code></em>"
      }
   ],
   "Schedules":[
      {
         "Name": "<em class="replaceable"><code>DailySnapshots</code></em>",
         "TagsToAdd": [
            {
               "Key": "<em class="replaceable"><code>type</code></em>",
               "Value": "<em class="replaceable"><code>myDailySnapshot</code></em>"
            }
         ],
         "CreateRule": {
            "Interval": <em class="replaceable"><code>24</code></em>,
            "IntervalUnit": "HOURS",
            "Times": [
               "<em class="replaceable"><code>03:00</code></em>"
            ]
         },
         "RetainRule": {
            "Count":<em class="replaceable"><code>5</code></em>
         }
      }
   ]
}</code></pre><p>Upon success, the command returns the ID of the newly created policy. The following
                              is example output:
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
   "PolicyId": "policy-<em class="replaceable"><code>0123456789abcdef0</code></em>"
}</code></pre></div>
                     </div>
                     
                     
                     <div class="example">
                        <p class="title"><b>Example: Display a lifecycle policy</b></p>
                        <div class="example-contents">
                           <p>Use the <a href="https://docs.aws.amazon.com/cli/latest/reference/dlm/get-lifecycle-policy.html" target="_blank">get-lifecycle-policy</a> 
                              command to display information about a lifecycle policy.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws dlm get-lifecycle-policy --policy-id policy-<em class="replaceable"><code>0123456789abcdef0</code></em></code></strong></code></pre><p>The following is example output. It includes the information that you specified, plus
                              metadata inserted by AWS.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
   "Policy":{
      "Description": "<em class="replaceable"><code>My first policy</code></em>",
      "DateCreated": "2018-05-15T00:16:21+0000",
      "State": "<em class="replaceable"><code>ENABLED</code></em>",
      "ExecutionRoleArn": "arn:aws:iam::210774411744:role/<em class="replaceable"><code>AWSDataLifecycleManagerDefaultRole</code></em>",
      "PolicyId": "policy-<em class="replaceable"><code>0123456789abcdef0</code></em>",
      "DateModified": "2018-05-15T00:16:22+0000",
      "PolicyDetails": {
         "ResourceTypes": [
            "VOLUME"
         ],
         "TargetTags": [
            {
               "Value": "<em class="replaceable"><code>115</code></em>",
               "Key": "<em class="replaceable"><code>costcenter</code></em>"
            }
         ],
         "Schedules": [
            {
               "TagsToAdd": [
                  {
                     "Value": "<em class="replaceable"><code>myDailySnapshot</code></em>",
                     "Key": "<em class="replaceable"><code>type</code></em>"
                  }
               ],
               "RetainRule": {
                  "Count": <em class="replaceable"><code>5</code></em>
               },
               "CreateRule": {
                  "Interval": <em class="replaceable"><code>24</code></em>,
                  "IntervalUnit": "HOURS",
                  "Times": [
                     "<em class="replaceable"><code>03:00</code></em>"
                  ]
               },
               "Name": "<em class="replaceable"><code>DailySnapshots</code></em>"
            }
         ]
      }
   }
}</code></pre></div>
                     </div>
                     
                     
                     
                     <div class="example">
                        <p class="title"><b>Example To modify a lifecycle policy</b></p>
                        <div class="example-contents">
                           <p>Use the <a href="https://docs.aws.amazon.com/cli/latest/reference/dlm/update-lifecycle-policy.html" target="_blank">update-lifecycle-policy</a> 
                              command to modify the information in a lifecycle policy. To simplify the syntax, this
                              example references
                              a JSON file, <code>policyDetailsUpdated.json</code>, that includes the policy details.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws dlm update-lifecycle-policy --state DISABLED --execution-role-arn arn:aws:iam::<em class="replaceable"><code>12345678910</code></em>:role/<em class="replaceable"><code>AWSDataLifecycleManagerDefaultRole</code></em>" --policy-details file://<em class="replaceable"><code>policyDetailsUpdated.json</code></em></code></strong></code></pre><p>The following is an example of the <code>policyDetailsUpdated.json</code> file:
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
   "ResourceTypes":[
      "VOLUME"
   ],
   "TargetTags":[
      {
         "Key": "<em class="replaceable"><code>costcenter</code></em>",
         "Value": "<em class="replaceable"><code>120</code></em>"
      }
   ],
   "Schedules":[
      {
         "Name": "<em class="replaceable"><code>DailySnapshots</code></em>",
         "TagsToAdd": [
            {
               "Key": "<em class="replaceable"><code>type</code></em>",
               "Value": "<em class="replaceable"><code>myDailySnapshot</code></em>"
            }
         ],
         "CreateRule": {
            "Interval": <em class="replaceable"><code>12</code></em>,
            "IntervalUnit": "HOURS",
            "Times": [
               "<em class="replaceable"><code>15:00</code></em>"
            ]
         },
         "RetainRule": {
            "Count" :<em class="replaceable"><code>5</code></em>
         }
      }
   ]
}</code></pre><p>To view the updated policy, use the <code class="code">get-lifecycle-policy</code> command. 
                              You can see that the state, the value of the tag, the snapshot interval, and the snapshot
                              start time were changed.
                           </p>
                        </div>
                     </div>
                     
                     
                     <div class="example">
                        <p class="title"><b>Example: Delete a lifecycle policy</b></p>
                        <div class="example-contents">
                           <p>Use the <a href="https://docs.aws.amazon.com/cli/latest/reference/dlm/delete-lifecycle-policy.html" target="_blank">delete-lifecycle-policy</a> 
                              command to delete a lifecycle policy and free up the target tags specified in the
                              policy for reuse.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws dlm delete-lifecycle-policy --policy-id policy-<em class="replaceable"><code>0123456789abcdef0</code></em></code></strong></code></pre></div>
                     </div>
                     
                     
                     <h2 id="snaphot-lifecycle-api">Working with Amazon DLM Using the API</h2>
                     
                     <p>The <a href="https://docs.aws.amazon.com/dlm/latest/APIReference/" target="_blank">Amazon Data Lifecycle Manager API Reference</a> 
                        provides descriptions and syntax for each of the actions and data types for the Amazon
                        DLM Query API.
                     </p>
                     
                     <p>Alternatively, you can use one of the AWS SDKs to access an API that's tailored to
                        the
                        programming language or platform that you're using. For more information, see <a href="https://aws.amazon.com/tools/#SDKs" target="_blank">AWS SDKs</a>.
                     </p>
                     
                     
                     <h2 id="dlm-monitor-lifecycle">Monitoring the Snapshot Lifecycle</h2>
                     
                     
                     <p>You can use the following features to monitor the lifecycle of your snapshots.</p>
                     
                     
                     
                     <h3 id="monitor-console-cli">Console and AWS CLI</h3>
                     
                     <p>You can view your lifecycle policies using the Amazon EC2 console or the AWS CLI.
                        Each snapshot created by a policy has a time stamp and policy-related tags. You can
                        filter
                        snapshots using tags to verify that your backups are being created as you intend.
                        For
                        information about viewing lifecycle policies using the console, see <a href="snapshot-lifecycle.html#console-view-policy">To display a lifecycle policy</a>. For information about displaying information about lifecycle 
                        policies using the CLI, see <a href="snapshot-lifecycle.html#display-policy-cli">Example: Display a lifecycle policy</a>.
                     </p>
                     
                     
                     
                     
                     <h3 id="monitor-cloudwatch-events">CloudWatch Events</h3>
                     
                     <p>Amazon EBS and Amazon DLM emit events related to lifecycle policy actions. You can
                        use AWS Lambda and
                        Amazon CloudWatch Events to handle event notifications programmatically. For more
                        information, see the <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/" target="_blank">Amazon CloudWatch Events User Guide</a>.
                     </p>
                     
                     <p>The following events are available:</p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><code class="code">createSnapshot</code>—An Amazon EBS event emitted when a
                                 <code class="code">CreateSnapshot</code> action succeeds or fails. For more information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-cloud-watch-events.html" target="_blank">Amazon CloudWatch Events for
                                    Amazon EBS</a>.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><code class="code">DLM Policy State Change</code>—A Amazon DLM event emitted when a lifecycle policy
                                 enters an error state. The event contains a description of what caused the error.
                                 The
                                 following is an example of an event when the permissions granted by the IAM role are
                                 insufficient:
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
   "version": "0",
   "id": "01234567-0123-0123-0123-0123456789ab",
   "detail-type": "DLM Policy State Change",
   "source": "aws.dlm",
   "account": "123456789012",
   "time": "2018-05-25T13:12:22Z",
   "region": "us-east-1",
   "resources": [
      "arn:aws:dlm:us-east-1:123456789012:policy/policy-0123456789abcdef"
   ],
   "detail": {
      "state": "ERROR",
      "cause": "Role provided does not have sufficient permissions",
      "policy_id": "arn:aws:dlm:us-east-1:123456789012:policy/policy-0123456789abcdef"
   }
}</code></pre>
                              <p>The following is an example of an event when a limit is exceeded:</p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
   "version": "0",
   "id": "01234567-0123-0123-0123-0123456789ab",
   "detail-type": "DLM Policy State Change",
   "source": "aws.dlm",
   "account": "123456789012",
   "time": "2018-05-25T13:12:22Z",
   "region": "us-east-1",
   "resources": [
      "arn:aws:dlm:us-east-1:123456789012:policy/policy-0123456789abcdef"
   ],
   "detail":{
      "state": "ERROR",
      "cause": "Maximum allowed active snapshot limit exceeded",
      "policy_id": "arn:aws:dlm:us-east-1:123456789012:policy/policy-0123456789abcdef"
   }
}</code></pre>
                              </li>
                        </ul>
                     </div>
                     
                     
                     
                     
                     <h3 id="monitor-lifecycle-cloudtrail">AWS CloudTrail</h3>
                     
                     <p>With AWS CloudTrail, you can track user activity and API usage to demonstrate compliance
                        with
                        internal policies and regulatory standards. For more information, see the <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/" target="_blank">AWS CloudTrail User Guide</a>.
                     </p>
                     
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="ebs-modifying-snapshot-permissions.html">« Previous </a><a class="awstoc" accesskey="n" href="EBSOptimized.html">Next »</a></div>
                     <div id="copyright-main-footer">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Understanding Amazon DLM"><a class="pagetoc" href="#dlm-elements">Understanding Amazon DLM</a></li>
                        <li class="pagetoc" name="Permissions for Amazon DLM"><a class="pagetoc" href="#dlm-permissions">Permissions for Amazon DLM</a></li>
                        <li class="pagetoc" name="Permissions for IAM Users"><a class="pagetoc" href="#dlm-access-control">Permissions for IAM Users</a></li>
                        <li class="pagetoc" name="Limits"><a class="pagetoc" href="#dlm-limits">Limits</a></li>
                        <li class="pagetoc" name="Working with Amazon DLM Using the Console"><a class="pagetoc" href="#snapshot-lifecycle-console">Working with Amazon DLM Using the Console</a></li>
                        <li class="pagetoc" name="Working with Amazon DLM Using the Command Line"><a class="pagetoc" href="#snaphot-lifecycle-cli">Working with Amazon DLM Using the Command Line</a></li>
                        <li class="pagetoc" name="Working with Amazon DLM Using the API"><a class="pagetoc" href="#snaphot-lifecycle-api">Working with Amazon DLM Using the API</a></li>
                        <li class="pagetoc" name="Monitoring the Snapshot Lifecycle"><a class="pagetoc" href="#dlm-monitor-lifecycle">Monitoring the Snapshot Lifecycle</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using our site, you consent
            to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      <div id="footer">
         <div id="footer_short_fb" class="hide" title="Feedback"><a target="_blank" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EC2&amp;topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/snapshot-lifecycle.html&amp;hidden_guide_name=User Guide for Linux Instances&amp;hidden_api_version=&amp;hidden_file_name=snapshot-lifecycle"><i class="awsdocs-footer-text fa fa-envelope-o"></i></a></div>
         <div id="footer_toggle" class="mediaobject">
            <div id="footer_toggle_img" class="awsdocs-footer-text fa fa-caret-down"></div>
            <div id="footer_toggle_img_collapse" class="hide awsdocs-footer-text fa fa-caret-right"></div>
         </div>
         <div id="footer-left"><a class="awsdocs-footer-text" target="_top" href="http://aws.amazon.com/terms">Terms of Use</a><span class="awsdocs-footer-text"> | </span><a class="awsdocs-footer-text" target="_top" href="http://aws.amazon.com/privacy">Privacy</a><span class="awsdocs-footer-text"> | </span><span class="awsdocs-footer-text">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</span></div>
         <div id="footer-right">
            <div id="feedback">
               <div id="forums"><a id="forum_link" target="_blank" href="http://forums.aws.amazon.com/forum.jspa?forumID=30" class="awsdocs-footer-text">Have a question? Try the Forums.</a></div>
               <div id="feedback-message" class="awsdocs-footer-text">Did this page help you?</div>
               <div id="feedback-yesno-buttons"><a class="awstoc btn btn-default" target="_blank" href="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/snapshot-lifecycle.html">Yes</a><a class="awstoc btn btn-default" target="_blank" href="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/snapshot-lifecycle.html">No</a></div>
               <div id="feedback-feedback-button"><a class="awstoc btn btn-default" target="_blank" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EC2&amp;topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/snapshot-lifecycle.html&amp;hidden_guide_name=User Guide for Linux Instances&amp;hidden_api_version=&amp;hidden_file_name=snapshot-lifecycle">Feedback</a></div>
            </div>
         </div>
      </div>
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon Elastic Compute Cloud';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide for Linux Instances';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   </body>
</html>