<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Expanding a Linux Partition - Amazon Elastic Compute Cloud</title>
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="home" href="#top" />
      <link rel="up" href="ebs-modify-volume.html" title="Modifying the Size, IOPS, or Type of an EBS Volume on Linux" />
      <link rel="prev" href="monitoring_mods.html" title="Monitoring the Progress of Volume Modifications" />
      <link rel="next" href="recognize-expanded-volume-linux.html" title="Extending a Linux File System after Resizing&#xA;        the Volume" />
      <meta name="description" content="Extend a Linux partition on an existing volume without losing the data on the volume." />
      <meta name="keywords" content="EC2,Amazon EC2,EC2 instance,instance,VM,virtual machine" />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="Amazon Elastic Compute Cloud" />
      <meta name="guide" content="User Guide for Linux Instances" />
      <meta name="guide-locale" content="en_us" />
      <link rel="icon" type="image/ico" href="/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/expand-linux-partition.html" />
      <link rel="stylesheet" type="text/css" href="/css/jquery-ui.min.css" />
      <link rel="stylesheet" type="text/css" href="/font/css/font-awesome.min.css" />
      <link rel="stylesheet" type="text/css" href="/css/google-font.css" />
      <link id="code-style" rel="stylesheet" type="text/css" href="/css/code/light.css" />
      <link rel="stylesheet" type="text/css" href="/css/jquery-ui.theme.css" />
      <link rel="stylesheet" type="text/css" href="/css/colorbox.css" />
      <link rel="stylesheet" type="text/css" href="/css/awsdocs.css?v=20170615" /><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      <div xmlns:db="http://docbook.org/ns/docbook" id="aws-nav" class="aws-nav-header">
         <div class="aws-nav-header-left">
            <div id="aws-nav-flyout-trigger" class="aws-nav-flyout-trigger"><i class="fa fa-bars fa-2x"></i></div>
            <div class="aws-nav-logo">
               <!--aws_logo_105x39.png--><a href="http://aws.amazon.com"><img src="/images/aws_logo_105x39.png" alt="Amazon Web Services" /></a></div>
         </div>
         <div id="aws-nav-header-right" class="aws-nav-header-right">
            <div class="aws-nav-cta-button-outer"><a id="aws-nav-cta-button" class="aws-nav-button" href="https://console.aws.amazon.com/console/home">Sign In to the Console</a></div>
            <div class="aws-nav-popover-trigger" data-dropdown="aws-nav-dropdown-lang"><select id="languageSelection" onchange="SelectLanguage()">
                  <option value="/de_de/AWSEC2/latest/UserGuide/expand-linux-partition.html">Deutsch</option>
                  <option value="/en_us/AWSEC2/latest/UserGuide/expand-linux-partition.html" selected="selected">English</option>
                  <option value="/es_es/AWSEC2/latest/UserGuide/expand-linux-partition.html">Español</option>
                  <option value="/fr_fr/AWSEC2/latest/UserGuide/expand-linux-partition.html">Français</option>
                  <option value="/it_it/AWSEC2/latest/UserGuide/expand-linux-partition.html">Italiano</option>
                  <option value="/ja_jp/AWSEC2/latest/UserGuide/expand-linux-partition.html">日本語</option>
                  <option value="/ko_kr/AWSEC2/latest/UserGuide/expand-linux-partition.html">한국어</option>
                  <option value="/pt_br/AWSEC2/latest/UserGuide/expand-linux-partition.html">Português</option>
                  <option value="/zh_cn/AWSEC2/latest/UserGuide/expand-linux-partition.html">中文 (简体)</option>
                  <option value="/zh_tw/AWSEC2/latest/UserGuide/expand-linux-partition.html">中文 (繁體)</option></select></div><a class="btn btn-rss-link" id="rss-link-top" target="_blank" href="amazon-ec2-release-notes.rss" title="View RSS Feed"></a><a class="btn btn-kindle-link" id="kindle-link-top" target="_blank" href="http://www.amazon.com/dp/B076452RSZ" title="Open Kindle"></a><a class="btn btn-pdf-link" id="pdf-link-top" href="ec2-ug.pdf#expand-linux-partition" target="_blank" title="Open PDF"></a><a class="btn btn-github-link" id="github-link-top" href="https://github.com/awsdocs/amazon-ec2-user-guide/tree/master/doc_source/expand-linux-partition.md" target="_blank" title="Edit on GitHub"></a><div id="aws-nav-quicklinks-separator" class="aws-nav-quicklinks-separator">
               <div class="aws-nav-left"></div>
               <div class="aws-nav-right"></div>
            </div>
         </div>
         <div xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" id="topnav-flyout-menu-container">
            <ul id="topnav-flyout-menu"><script id="flyout-item-template" type="text/x-handlebars-template">
                    {{#flyoutList}}

                        {{#if topTarget}}
                            <li class="awsdocs-flyout-link-wrapper"><a href="{{topTarget}}">{{listItem}}</a></li>
                        {{else}}
                            <li>{{listItem}}
                                {{#if subList}}
                                <ul>
                                    {{#subList}}
                                    <li class="awsdocs-flyout-link-wrapper"><a href="{{target}}">{{text}}</a></li>
                                    {{/subList}}
                                </ul>
                                {{/if}}
                            </li>
                        {{/if}}

                    {{/flyoutList}}
                </script></ul>
            <div id="topnav-flyout-menu-spacer"></div>
         </div>
      </div>
      <div id="content-container">
         <div id="left-column">
            <div id="left-col-header">
               <div xmlns:db="http://docbook.org/ns/docbook" id="left-col-top-content">
                  <div id="service-name">Amazon Elastic Compute Cloud </div>
                  <div id="search"><i id="search-icon" class="fa fa-search fa-2x"></i></div>
                  <div id="guide-info">User Guide for Linux Instances
                     <div id="content-button"><i id="toggle-contents" class="fa fa-bars"></i></div>
                  </div>
               </div>
               <form id="finegrainedSearch" method="get" onsubmit="return searchFormSubmit(this);" action="/search/doc-search.html">
                  <div id="search-form"><select id="search-select" name="searchPath">
                        <option value="all">Entire Site</option>
                        <option value="AWSMarketplace">AMIs from AWS Marketplace</option>
                        <option value="amis">AMIs from All Sources</option>
                        <option value="articles">Articles &amp; Tutorials</option>
                        <option value="products_and_info">AWS Product Information</option>
                        <option value="case_studies">Case Studies</option>
                        <option value="customerapps">Customer Apps</option>
                        <option value="documentation">Documentation</option>
                        <option value="documentation-product">Documentation - This Product</option>
                        <option value="documentation-guide" selected="selected">Documentation - This Guide</option>
                        <option value="datasets">Public Data Sets</option>
                        <option value="releasenotes">Release Notes</option>
                        <option value="solution_providers">Partners</option>
                        <option value="code">Sample Code &amp; Libraries</option></select><br /><input id="search-query" name="searchQuery" type="text" placeholder="Search" /><input id="search-button" src="/images/search-button.png" alt="Go" type="image" /></div><input type="hidden" name="this_doc_product" id="this_doc_product" value="Amazon Elastic Compute Cloud" /><input type="hidden" name="this_doc_guide" id="this_doc_guide" value="User Guide for Linux Instances" /><input type="hidden" name="doc_locale" value="en_us" /></form>
            </div>
            <div id="toc">
               <ul class="awstoc">
                  <li class="awstoc closed"><a class="awstoc" href="concepts.html">What Is Amazon EC2?</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-instances-and-amis.html">Instances and AMIs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="using-regions-availability-zones.html">Regions and Availability Zones</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="RootDeviceStorage.html">Root Device Volume</a></li>
                     </ul>
                  </li>
                  <li class="awstoc leaf"><a class="awstoc" href="get-set-up-for-amazon-ec2.html">Setting Up</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="EC2_GetStarted.html">Getting Started</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="ec2-best-practices.html">Best Practices</a></li>
                  <li class="awstoc closed"><a class="awstoc" href="ec2-tutorials.html">Tutorials</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-lamp-amazon-linux-2.html">Install a LAMP Server (Amazon Linux 2)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="install-LAMP.html">Install a LAMP Server (Amazon Linux AMI)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="hosting-wordpress.html">Tutorial: Hosting a WordPress Blog</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="SSL-on-an-instance.html">Tutorial: Configure Apache Web Server on Amazon Linux 2 to Use SSL/TLS</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-increase-availability.html">Tutorial: Increase the Availability of Your Application</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="tutorial_run_command.html">Tutorial: Remotely Manage Your Instances</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="AMIs.html">Amazon Machine Images</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ComponentsAMIs.html">AMI Types</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="virtualization_types.html">Virtualization Types</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="finding-an-ami.html">Finding a Linux AMI</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="sharing-amis.html">Shared AMIs</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="usingsharedamis-finding.html">Finding Shared AMIs</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="sharingamis-intro.html">Making an AMI Public</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="sharingamis-explicit.html">Sharing an AMI with Specific AWS Accounts</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="using-bookmarks.html">Using Bookmarks</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="building-shared-amis.html">Guidelines for Shared Linux AMIs</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="paid-amis.html">Paid AMIs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="creating-an-ami-ebs.html">Creating an Amazon EBS-Backed Linux AMI</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="creating-an-ami-instance-store.html">Creating an Instance Store-Backed Linux AMI</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="set-up-ami-tools.html">Setting Up the AMI Tools</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="create-instance-store-ami.html">Creating an AMI from an Instance Store-Backed Instance</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="Using_ConvertingS3toEBS.html">Converting to an Amazon EBS-Backed AMI</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ami-tools-commands.html">AMI Tools Reference</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="AMIEncryption.html">AMIs with Encrypted Snapshots</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="CopyingAMIs.html">Copying an AMI</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="deregister-ami.html">Deregistering Your Linux AMI</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="amazon-linux-ami-basics.html">Amazon Linux</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="amazon-linux-2-virtual-machine.html">Running Amazon Linux 2 as a Virtual Machine On-Premises</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="UserProvidedKernels.html">User Provided Kernels</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="Instances.html">Instances</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="instance-types.html">Instance Types</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="burstable-performance-instances.html">Burstable Performance Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="burstable-credits-baseline-concepts.html">CPU Credits and Baseline Performance</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="burstable-performance-instances-unlimited-mode.html">Unlimited Mode</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="unlimited-mode-examples.html">Examples</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc closed"><a class="awstoc" href="burstable-performance-instances-standard-mode.html">Standard Mode</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="standard-mode-examples.html">Examples</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc leaf"><a class="awstoc" href="burstable-performance-instances-how-to.html">Working with Burstable Performance Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="burstable-performance-instances-monitoring-cpu-credits.html">Monitoring Your CPU Credits</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="general-purpose-instances.html">General Purpose Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="compute-optimized-instances.html">Compute Optimized Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="memory-optimized-instances.html">Memory Optimized Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="storage-optimized-instances.html">Storage Optimized Instances</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="accelerated-computing-instances.html">Accelerated Computing Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="install-nvidia-driver.html">Installing the NVIDIA Driver on Linux Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="activate_grid.html">Activate NVIDIA GRID Virtual Applications (G3 Instances Only)</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="optimize_gpu.html">Optimizing GPU Settings (P2, P3, and G3 Instances)</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="fpga-getting-started.html">Getting Started with FPGA Development</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="concepts_micro_instances.html">T1 Micro Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-instance-resize.html">Changing the Instance Type</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="instance-optimize-cpu.html">Optimizing CPU Options</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="instance-purchasing-options.html">Instance Purchasing Options</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="ec2-reserved-instances.html">Reserved Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="reserved-instances-types.html">Types of Reserved Instances (Offering Classes)</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="apply_ri.html">How Reserved Instances Are Applied</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="concepts-reserved-instances-application.html">How You Are Billed</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-market-concepts-buying.html">Buying Reserved Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-market-general.html">Selling on the Reserved Instance Marketplace</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-modifying.html">Modifying Reserved Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-convertible-exchange.html">Exchanging Convertible Reserved Instances</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-scheduled-instances.html">Scheduled Instances</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="using-spot-instances.html">Spot Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="how-spot-instances-work.html">How Spot Instances Work</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-fleet.html">How Spot Fleet Works</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="using-spot-instances-history.html">Spot Instance Pricing History</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="spot-requests.html">Spot Instance Requests</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-request-examples.html">Example Launch Specifications</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc closed"><a class="awstoc" href="spot-fleet-requests.html">Spot Fleet Requests</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-examples.html">Example Configurations</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-cloudwatch-metrics.html">CloudWatch Metrics for Spot Fleet</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="spot-fleet-automatic-scaling.html">Automatic Scaling for Spot Fleet</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-target-tracking.html">Target Tracking Scaling Policies</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-step-scaling.html">Step Scaling Policies</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-scheduled-scaling.html">Scheduled Scaling</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-bid-status.html">Spot Request Status</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-interruptions.html">Spot Instance Interruptions</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-data-feeds.html">Spot Instance Data Feed</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="using-spot-limits.html">Spot Instance Limits</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="dedicated-hosts-overview.html">Dedicated Hosts</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="how-dedicated-hosts-work.html">Working with Dedicated Hosts</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="dedicated-hosts-aws-config.html">Tracking Configuration Changes</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="dedicated-instance.html">Dedicated Instances</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="ec2-instance-lifecycle.html">Instance Lifecycle</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="LaunchingAndUsingInstances.html">Launch</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="launching-instance.html">Launching an Instance Using the Launch Instance Wizard</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ec2-launch-templates.html">Launching an Instance from a Launch Template</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="launch-more-like-this.html">Launching an Instance From an Existing Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="instance-launch-snapshot.html">Launching a Linux Instance from a Backup</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="launch-marketplace-console.html">Launching an AWS Marketplace Instance</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="ec2-fleet.html">Launching an EC2 Fleet</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="ec2-fleet-configuration-strategies.html">EC2 Fleet Configuration Strategies</a></li>
                                          <li class="awstoc closed"><a class="awstoc" href="manage-ec2-fleet.html">Managing an EC2 Fleet</a><ul class="awstoc">
                                                <li class="awstoc leaf"><a class="awstoc" href="ec2-fleet-examples.html">Example Configurations</a></li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="AccessingInstances.html">Connect</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="AccessingInstancesLinux.html">Connect Using SSH</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="putty.html">Connect Using PuTTY</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="WSL.html">Connect Using WSL</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="mindterm.html">Connect Using MindTerm</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="Stop_Start.html">Stop and Start</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-instance-reboot.html">Reboot</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="instance-retirement.html">Retire</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="terminating-instances.html">Terminate</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-instance-recover.html">Recover</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="Configure_Instance.html">Configure Instances</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="managing-software.html">Managing Software</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="install-updates.html">Updating Instance Software</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="add-repositories.html">Adding Repositories</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="find-software.html">Finding Software Packages</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="install-software.html">Installing Software Packages</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="compile-software.html">Preparing to Compile Software</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="managing-users.html">Managing Users</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="processor_state_control.html">Processor State Control</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="set-time.html">Setting the Time</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="set-hostname.html">Changing the Hostname</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="dynamic-dns.html">Setting Up Dynamic DNS</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="user-data.html">Running Commands at Launch</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="ec2-instance-metadata.html">Instance Metadata and User Data</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="instance-identity-documents.html">Instance Identity Documents</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="identify_ec2_instances.html">Identify Instances</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="monitoring_ec2.html">Monitoring</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="monitoring_automated_manual.html">Automated and Manual Monitoring</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="monitoring_best_practices.html">Best Practices for Monitoring</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="monitoring-instances-status-check.html">Monitoring the Status of Your Instances</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="monitoring-system-instance-status-check.html">Instance Status Checks</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="monitoring-instances-status-check_sched.html">Scheduled Events</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="using-cloudwatch.html">Monitoring Your Instances Using CloudWatch</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="using-cloudwatch-new.html">Enable Detailed Monitoring</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="viewing_metrics_with_cloudwatch.html">List Available Metrics</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="monitoring_get_statistics.html">Get Statistics for Metrics</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="US_SingleMetricPerInstance.html">Get Statistics for a Specific Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="GetSingleMetricAllDimensions.html">Aggregate Statistics Across Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="GetMetricAutoScalingGroup.html">Aggregate Statistics by Auto Scaling Group</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="US_SingleMetricPerAMI.html">Aggregate Statistics by AMI</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="graphs-in-the-aws-management-console.html">Graph Metrics</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="using-cloudwatch-createalarm.html">Create an Alarm</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="UsingAlarmActions.html">Create Alarms That Stop, Terminate, Reboot, or Recover an Instance</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="automating_with_cloudwatch_events.html">Automating Amazon EC2 with CloudWatch Events</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="mon-scripts.html">Monitoring Memory and Disk Metrics</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="EC2_Network_and_Security.html">Network and Security</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-key-pairs.html">Key Pairs</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="using-network-security.html">Security Groups</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="security-group-rules-reference.html">Security Group Rules Reference</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="UsingIAM.html">Controlling Access</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="iam-policies-for-amazon-ec2.html">IAM Policies</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="iam-policy-structure.html">Policy Structure</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ec2-supported-iam-actions-resources.html">Supported Resource-Level Permissions</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ExamplePolicies_EC2.html">Example Policies for CLI or SDK</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="iam-policies-ec2-console.html">Example Policies for the Console</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="iam-roles-for-amazon-ec2.html">IAM Roles</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="authorizing-access-to-an-instance.html">Network Access</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="using-instance-addressing.html">Instance IP Addressing</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="MultipleIP.html">Multiple IP Addresses</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="elastic-ip-addresses-eip.html">Elastic IP Addresses</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="using-eni.html">Network Interfaces</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="requester-managed-eni.html">Requester-Managed Network Interfaces</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="enhanced-networking.html">Enhanced Networking</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="sriov-networking.html">Enhanced Networking: Intel 82599 VF</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="enhanced-networking-ena.html">Enhanced Networking: ENA</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-ena.html">Troubleshooting ENA</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="placement-groups.html">Placement Groups</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="network_mtu.html">Network MTU</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="using-vpc.html">Virtual Private Clouds</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="ec2-classic-platform.html">EC2-Classic</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="vpc-classiclink.html">ClassicLink</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="vpc-migrate.html">Migrating from EC2-Classic to a VPC</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc opened"><a class="awstoc" href="Storage.html">Storage</a><ul class="awstoc">
                        <li class="awstoc opened"><a class="awstoc" href="AmazonEBS.html">Amazon EBS</a><ul class="awstoc">
                              <li class="awstoc opened"><a class="awstoc" href="EBSVolumes.html">EBS Volumes</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="EBSVolumeTypes.html">EBS Volume Types</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-creating-volume.html">Creating a Volume</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-restoring-volume.html">Restoring from a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-attaching-volume.html">Attaching a Volume to an Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-using-volumes.html">Making a Volume Available for Use</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-describing-volumes.html">Volume Information</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="monitoring-volume-status.html">Monitoring the Status of Your Volumes</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-detaching-volume.html">Detaching a Volume from an Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-deleting-volume.html">Deleting a Volume</a></li>
                                    <li class="awstoc opened"><a class="awstoc" href="ebs-modify-volume.html">Modifying a Volume</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="volume_constraints.html">Volume Size Constraints</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="console-modify.html">Using the Console</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="cli-modify.html">Using the CLI</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="monitoring_mods.html">Monitoring Progress</a></li>
                                          <li class="awstoc leaf"><a class="awstoc selected" href="expand-linux-partition.html">Expanding a Linux Partition</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="recognize-expanded-volume-linux.html">Extending Linux File Systems</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="limitations.html">Limitations</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="stop-start.html">Appendix: Manual Stop/Start Modification</a></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="EBSSnapshots.html">EBS Snapshots</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-creating-snapshot.html">Creating a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-deleting-snapshot.html">Deleting a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-copy-snapshot.html">Copying a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-describing-snapshots.html">Viewing Snapshot Information</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-modifying-snapshot-permissions.html">Sharing a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="snapshot-lifecycle.html">Automating Snapshots</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="EBSOptimized.html">EBS Optimization</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="EBSEncryption.html">EBS Encryption</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="nvme-ebs-volumes.html">EBS Volumes and NVMe</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="EBSPerformance.html">EBS Performance</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-ec2-config.html">EC2 Configuration</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-io-characteristics.html">I/O Characteristics and Monitoring</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-initialize.html">Initialize Volumes</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="raid-config.html">RAID Configuration</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="benchmark_procedures.html">Benchmark EBS Volumes</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="ebs-cloud-watch-events.html">EBS CloudWatch Events</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="InstanceStorage.html">Instance Store</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="add-instance-store-volumes.html">Add Instance Store Volumes</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ssd-instance-store.html">SSD Instance Store Volumes</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="instance-store-swap-volumes.html">Instance Store Swap Volumes</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="disk-performance.html">Optimizing Disk Performance</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="AmazonEFS.html">Amazon EFS</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="AmazonS3.html">Amazon S3</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="volume_limits.html">Instance Volume Limits</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="device_naming.html">Device Naming</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="block-device-mapping-concepts.html">Block Device Mapping</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="using-public-data-sets.html">Using Public Data Sets</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="EC2_Resources.html">Resources and Tags</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="resources.html">Resource Locations</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="resource-ids.html">Resource IDs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="Using_Filtering.html">Listing and Filtering Your Resources</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="Using_Tags.html">Tagging Your Resources</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-resource-limits.html">Service Limits</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="usage-reports.html">Usage Reports</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="Linux-Server-EC2Rescue.html">EC2Rescue for Linux</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_install.html">Installing EC2Rescue for Linux</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_verify.html">(Optional) Verify the Signature of EC2Rescue for Linux</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_working.html">Working with EC2Rescue for Linux</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_moduledev.html">Developing EC2Rescue Modules</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="ec2-instance-troubleshoot.html">Troubleshooting</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-launch.html">Troubleshooting Launch Issues</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstancesConnecting.html">Connecting to Your Instance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstancesStopping.html">Stopping Your Instance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstancesShuttingDown.html">Terminating Your Instance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstanceRecovery.html">Instance Recovery Failures</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstances.html">Failed Status Checks</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="instance-console.html">Getting Console Output and Rebooting Instances</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="instance-booting-from-wrong-volume.html">Booting from the Wrong Volume</a></li>
                     </ul>
                  </li>
                  <li class="awstoc leaf"><a class="awstoc" href="DocumentHistory.html">Document History</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="glossary.html">AWS Glossary</a></li>
                  <li id="toc-additional-links"><a class="btn btn-pdf-link" id="pdf-link-alt" href="ec2-ug.pdf#top" target="_blank" title="Open PDF"></a><a class="btn btn-kindle-link" id="kindle-link-alt" target="_blank" href="http://www.amazon.com/dp/B076452RSZ" title="Open Kindle"></a><a class="btn btn-rss-link" id="rss-link-alt" target="_blank" href="amazon-ec2-release-notes.rss" title="View RSS Feed"></a></li>
               </ul>
            </div>
         </div>
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> » <a href="/ec2/index.html">Amazon EC2</a> » <a href="index.html">User Guide for Linux Instances</a> » <a href="Storage.html">Storage</a> » <a href="AmazonEBS.html">Amazon Elastic Block Store (Amazon EBS)</a> » <a href="EBSVolumes.html">Amazon EBS Volumes</a> » <a href="ebs-modify-volume.html">Modifying the Size, IOPS, or Type of an EBS Volume on Linux</a> » <span class="breadcrumb">Expanding a Linux Partition</span></div>
                           </td>
                        </tr>
                     </table>
                     <div></div>
                     <h1 class="topictitle" id="expand-linux-partition">Expanding a Linux Partition</h1>
                     <p>Some Amazon EC2 root volumes and volumes that are restored from snapshots contain
                        a partition
                        that actually holds the file system and the data. If you think of a volume as a container,
                        a
                        partition is another container inside the volume, and the data resides on the partition.
                        Growing the volume size does not grow the partition; to take advantage of a larger
                        volume,
                        the partition must be expanded to the new size.
                     </p>
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>Not all volumes restored from snapshots are partitioned, and this procedure may not
                           apply to your volume. You may just need to resize the file system on your volume to
                           make
                           all of the space available. If you are not sure if your volume has a partition that
                           needs resizing, see <a href="recognize-expanded-volume-linux.html#procedure_partition_check">To check if your volume partition needs
                              resizing</a> for more information.
                        </p>
                     </div>
                     <p>If the partition you want to expand is not the root partition, then you can simply
                        unmount
                        it and resize the partition from the instance itself. If the partition to resize is
                        the root
                        partition for an instance, the process becomes more complicated because you cannot
                        unmount
                        the root partition of a running instance. You have to perform the following procedures
                        on
                        another instance, which is referred to as a <em>secondary instance</em>.
                     </p>
                     <div class="aws-note">
                        <p class="aws-note">Important</p>
                        <p>The following procedures were written for and tested on Amazon Linux. Other distributions
                           with
                           different tool sets and tool versions may behave differently.
                        </p>
                     </div>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#prepare-linux-root-part">Preparing a Linux Root Partition for
                                 Expansion</a></li>
                           <li><a href="#expanding-partition-parted">Expanding a Linux Partition Using
                                 parted</a></li>
                           <li><a href="#expanding-partition-gdisk">Expanding a Linux Partition Using gdisk</a></li>
                           <li><a href="#return-expanded-root-partition">Returning an Expanded Partition to Its Original
                                 Instance</a></li>
                        </ul>
                     </div>
                     <h2 id="prepare-linux-root-part">Preparing a Linux Root Partition for
                        Expansion
                     </h2>
                     
                     
                     <p>There are several steps to take to expand the root partition of an instance. If the
                        partition to expand is not the root partition, then this procedure is not necessary.
                        
                     </p>
                     <a id="root_partition_prepare"></a><p class="title"><b>To prepare a Linux root partition for
                           expansion</b></p>
                     <ol>
                        <li>
                           
                           <p>If your primary instance is running, stop it. You cannot perform the rest of
                              this procedure on a running instance. For more information, see <a href="Stop_Start.html">Stop and Start Your Instance</a>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Check the integrity of your volume. File-system corruption that is picked up
                              by the snapshot may render a restored root volume unbootable.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Take a snapshot of your volume. It can be easy to corrupt or lose your data in
                              the following procedures. If you have a fresh snapshot, you can always start
                              over in case of a mistake and your data is still safe. For more information, see
                              <a href="ebs-creating-snapshot.html">Creating an Amazon EBS Snapshot</a>.
                           </p>
                           
                        </li>
                        <li><a id="identify_root_device_step"></a>
                           
                           <p>Record the device name that the volume is attached to. You can find this
                              information on the <b>Root device</b> field of the instance's
                              details pane. The value is likely <code>/dev/sda1</code> or
                              <code>/dev/xvda</code>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Detach the volume from the primary instance. For more information, see <a href="ebs-detaching-volume.html">Detaching an Amazon EBS Volume from an Instance</a>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Attach the volume to another (secondary) instance in the same Availability
                              Zone. For more information, see <a href="ebs-attaching-volume.html">Attaching an Amazon EBS Volume to an Instance</a>. If your EBS volume is encrypted, you
                              must use a secondary instance that supports Amazon EBS encryption; otherwise, you
                              can use
                              a <code class="literal">t2.micro</code> instance for this procedure. For more
                              information, see <a href="EBSEncryption.html#EBSEncryption_supported_instances">Supported Instance Types</a>. If you do not already
                              have a secondary instance, you must launch one. For more information, see <a href="launching-instance.html">Launching an Instance Using the Launch Instance Wizard</a>.
                           </p>
                           <div class="aws-note">
                              <p class="aws-note">Important</p>
                              <p>The secondary instance must be running when you attach the volume, and
                                 you should not reboot the secondary instance while multiple root volumes
                                 are attached; booting an instance with multiple root volumes attached
                                 could cause the instance to boot to the wrong volume.
                              </p>
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>Log in to the secondary instance with SSH. For more information, see <a href="AccessingInstances.html">Connect to Your Linux Instance</a>. Continue
                              with the next procedure.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <h2 id="expanding-partition-parted">Expanding a Linux Partition Using
                        <b>parted</b></h2>
                     
                     
                     <p>The <b>parted</b> utility is a partition editing tool that is available on
                        most Linux distributions. It can create and edit both MBR partition tables and GPT
                        partition tables. Some versions of <b>parted</b> (newer than version 2.1)
                        have limited support for GPT partition tables and they may cause boot issues if their
                        version of <b>parted</b> is used to modify boot volumes. You can check your
                        version of <b>parted</b> with the <code class="literal">parted --version</code>
                        command.
                     </p>
                     
                     <p>If you are expanding a partition that resides on a GPT partitioned device, you should
                        choose to use the <b>gdisk</b> utility instead. If you're not sure which
                        disk label type your volume uses, you can check it with the <b>sudo fdisk
                           -l</b> command. For more information, see <a href="expand-linux-partition.html#part-resize-gdisk">To expand a Linux partition using
                           gdisk</a>.
                     </p>
                     
                     <p class="title"><b>To expand a Linux partition using <b>parted</b></b></p>
                     <p>If the partition to expand is the root partition, be sure to follow the steps in
                        <a href="expand-linux-partition.html#root_partition_prepare">To prepare a Linux root partition for
                           expansion</a>
                        first.
                     </p>
                     <ol>
                        <li>
                           
                           <p>Identify the device that contains the partition that you want to expand. Use
                              the <b>lsblk</b> command to list all devices and partitions attached
                              to the
                              instance.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>lsblk</code></strong><code class="computeroutput" copy="false">
NAME    MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
xvdf    202:80   0  100G  0 disk
└─xvdf1 202:81   0    8G  0 part /mnt
xvda1   202:1    0   30G  0 disk /</code></code></pre><p>In this example, the <code>xvdf</code> device has 100 GiB of available storage and it
                              contains an 8-GiB partition.
                           </p>
                           
                        </li>
                        <li><a id="partition_unmount_step_parted"></a>
                           
                           <p>Unmount the partition if it is mounted. Run the <b>umount</b>
                              command with the value of <code class="literal">MOUNTPOINT</code> from the
                              <b>lsblk</b> command. In this example, the
                              <code class="literal">MOUNTPOINT</code> value for the partition is
                              <code>/mnt</code>.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo umount <em class="replaceable"><code>/mnt</code></em></code></strong></code></pre>
                           </li>
                        <li>
                           
                           <p>Take a snapshot of your volume (unless you just took one in the previous
                              procedure). It can be easy to corrupt or lose your data in the following
                              procedures. If you have a fresh snapshot, you can always start over in case of a
                              mistake and your data is still safe. For more information, see <a href="ebs-creating-snapshot.html">Creating an Amazon EBS Snapshot</a>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Run the <b>parted</b> command on the device (and not the partition
                              on the device). Remember to add the <code>/dev/</code> prefix to the
                              name that <b>lsblk</b>
                              outputs.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo parted <em class="replaceable"><code>/dev/xvdf</code></em></code></strong><code class="computeroutput" copy="false">
GNU Parted 2.1
Using /dev/xvdf
Welcome to GNU Parted! Type 'help' to view a list of commands.</code></code></pre>
                           </li>
                        <li>
                           
                           <p>Change the <b>parted</b> units of measure to
                              sectors.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">(parted) </code><strong class="userinput"><code>unit s</code></strong></code></pre>
                           </li>
                        <li>
                           
                           <p>Run the <b>print</b> command to list the partitions on the device.
                              For certain partition table types, you might be prompted to repair the partition
                              table for the larger volume size. Answer 'Ignore' to any questions about fixing
                              the existing partition table; you create a new table later.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">(parted) </code><strong class="userinput"><code>print</code></strong></code></pre>
                           <ol>
                              <li>
                                 
                                 <p>If you receive the following message, enter 'Ignore' to prevent the
                                    backup GPT location from changing.
                                    
                                 </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Error: The backup GPT table is not at the end of the disk, as it should be.  This might mean that another operating
system believes the disk is smaller.  Fix, by moving the backup to the end (and removing the old backup)?
Fix/Ignore/Cancel? <strong class="userinput"><code>Ignore</code></strong></code></pre>
                                 </li>
                              <li>
                                 
                                 <p>If you receive the following message, enter 'Ignore' again to keep the
                                    space on the drive the
                                    same.
                                 </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Warning: Not all of the space available to /dev/xvdf appears to be used, you can fix the GPT to use all of the
space (an extra 46137344 blocks) or continue with the current setting?
Fix/Ignore? <strong class="userinput"><code>Ignore</code></strong></code></pre>
                                 </li>
                           </ol>
                           
                        </li>
                        <li>
                           
                           <p>Examine the output for the total size of the disk, the partition table type,
                              the number of the partition, the start point of the partition, and any flags,
                              such as <code class="literal">boot</code>. For <code class="literal">gpt</code> partition tables,
                              note the name of the partition; for <code class="literal">msdos</code> partition tables,
                              note the <code class="literal">Type</code> field (<code class="literal">primary</code> or
                              <code class="literal">extended</code>). These values are used in the upcoming
                              steps.
                           </p>
                           
                           <p>The following is a <code class="literal">gpt</code> partition table
                              example.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Model: Xen Virtual Block Device (xvd)
Disk /dev/xvdf: <em class="replaceable"><code>209715200s</code></em>
Sector size (logical/physical): 512B/512B
Partition Table: <em class="replaceable"><code>gpt</code></em>

Number  Start  End        Size       File system  Name                 Flags
128     2048s  4095s      2048s                   BIOS Boot Partition  bios_grub
 <em class="replaceable"><code>1</code></em>      <em class="replaceable"><code>4096s</code></em>  16777182s  16773087s  ext4         <em class="replaceable"><code>Linux</code></em></code></pre>
                           <p>The following is an <code class="literal">msdos</code> partition table
                              example.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Model: Xen Virtual Block Device (xvd)
Disk /dev/xvdg: <em class="replaceable"><code>104857600s</code></em>
Sector size (logical/physical): 512B/512B
Partition Table: <em class="replaceable"><code>msdos</code></em>

Number  Start  End        Size       Type     File system  Flags
 <em class="replaceable"><code>1</code></em>      <em class="replaceable"><code>2048s</code></em>  35649535s  35647488s  <em class="replaceable"><code>primary</code></em>  ext3</code></pre>
                           </li>
                        <li>
                           
                           <p>Delete the partition entry for the partition using the number (1) from the
                              previous
                              step.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">(parted) </code><strong class="userinput"><code>rm 1</code></strong></code></pre>
                           </li>
                        <li>
                           
                           <p>Create a new partition that extends to the end of the volume.</p>
                           
                           <p>(For the <code class="literal">gpt</code> partition table example) Note the start point
                              and name of partition 1 above. For the <code class="literal">gpt</code> example, there is
                              a start point of 4096s, and the name <code class="literal">Linux</code>. Run the
                              <b>mkpart</b> command with the start point of partition 1, the
                              name, and 100% to use all of the available
                              space.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">(parted) </code><strong class="userinput"><code>mkpart <em class="replaceable"><code>Linux 4096s 100%</code></em></code></strong></code></pre>
                           <p>(For the <code class="literal">msdos</code> partition table example) Note the start
                              point and the partition type of partition 1 above. For the
                              <code class="literal">msdos</code> example, there is a start point of 2048s and a
                              partition type of <code class="literal">primary</code>. Run the <b>mkpart</b>
                              command with a primary partition type, the start point of partition 1, and 100%
                              to use all of the available
                              space.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">(parted) </code><strong class="userinput"><code>mkpart <em class="replaceable"><code>primary 2048s 100%</code></em></code></strong></code></pre>
                           </li>
                        <li>
                           
                           <p>Run the <b>print</b> command again to verify your
                              partition.
                           </p>
                           
                           <p>(For the <code class="literal">gpt</code> partition table
                              example)
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">(parted) </code><strong class="userinput"><code>print</code></strong>
Model: Xen Virtual Block Device (xvd)
Disk /dev/xvdf: 209715200s
Sector size (logical/physical): 512B/512B
Partition Table: gpt

Number  Start  End         Size        File system  Name                 Flags
128     2048s  4095s       2048s                    BIOS Boot Partition  bios_grub
 1      4096s  209713151s  209709056s  ext4         Linux</code></pre><p>(For
                              the <code class="literal">msdos</code> partition table
                              example)
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">(parted) </code><strong class="userinput"><code>print</code></strong><code class="computeroutput" copy="false">
Model: Xen Virtual Block Device (xvd)
Disk /dev/xvdg: 104857600s
Sector size (logical/physical): 512B/512B
Partition Table: msdos

Number  Start  End         Size        Type     File system  Flags
 1      2048s  104857599s  104855552s  primary  ext3</code></code></pre>
                           </li>
                        <li>
                           
                           <p>Check to see that any flags that were present earlier are still present for
                              the partition that you expanded. In some cases, the <code class="literal">boot</code> flag may be lost. If a flag was dropped from the partition when
                              it was expanded, add the flag with the following command, substituting your
                              partition number and the flag name. For example, the following command adds the
                              <code class="literal">boot</code> flag to partition 1.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">(parted) </code>set <em class="replaceable"><code>1</code></em> <em class="replaceable"><code>boot</code></em> on</code></pre><p>You
                              can run the <b>print</b> command again to verify your change.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Run the <b>quit</b> command to exit <b>parted</b>.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">(parted) </code><strong class="userinput"><code>quit</code></strong></code></pre><div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>Because you removed a partition and added a partition,
                                 <b>parted</b> may warn that you may need to update
                                 <code>/etc/fstab</code>. This is only required if the
                                 partition number changes.
                              </p>
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>Check the file system to make sure that there are no errors (this is required
                              before you may extend the file system). Note the file system type from the
                              previous <b>print</b> commands. Choose one of the commands below
                              based on your file system type; if you are using a different file system,
                              consult the documentation for that file system to determine the correct check
                              command.
                           </p>
                           
                           <p>(For <code class="literal">ext3</code> or <code class="literal">ext4</code> file
                              systems)
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo e2fsck -f <em class="replaceable"><code>/dev/xvdf1</code></em></code></strong><code class="computeroutput" copy="false">
e2fsck 1.42.3 (14-May-2012)
Pass 1: Checking inodes, blocks, and sizes
Pass 2: Checking directory structure
Pass 3: Checking directory connectivity
Pass 4: Checking reference counts
Pass 5: Checking group summary information
/: 31568/524288 files (0.4% non-contiguous), 266685/2096635 blocks</code></code></pre>
                           <p>(For <code class="literal">xfs</code> file
                              systems)
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo xfs_repair <em class="replaceable"><code>/dev/xvdf1</code></em></code></strong><code class="computeroutput" copy="false">
Phase 1 - find and verify superblock...
Phase 2 - using internal log
        - zero log...
        - scan filesystem freespace and inode maps...
        - found root inode chunk
Phase 3 - for each AG...
        - scan and clear agi unlinked lists...
        - process known inodes and perform inode discovery...
        - agno = 0
        - agno = 1
        - agno = 2
        - agno = 3
        - process newly discovered inodes...
Phase 4 - check for duplicate blocks...
        - setting up duplicate extent list...
        - check for inodes claiming duplicate blocks...
        - agno = 0
        - agno = 1
        - agno = 2
        - agno = 3
Phase 5 - rebuild AG headers and trees...
        - reset superblock...
Phase 6 - check inode connectivity...
        - resetting contents of realtime bitmap and summary inodes
        - traversing filesystem ...
        - traversal finished ...
        - moving disconnected inodes to lost+found ...
Phase 7 - verify and correct link counts...
done</code></code></pre>
                           </li>
                        <li>
                           
                           <p>The next steps differ depending on whether the expanded partition belongs on
                              the current instance or if it is the root partition for another instance. 
                           </p>
                           
                           <div class="itemizedlist">
                              
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p>If this partition belongs on the current instance, remount the
                                       partition at the <code class="literal">MOUNTPOINT</code> identified in <a href="expand-linux-partition.html#partition_unmount_step_parted">Step 2</a>.
                                    </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo mount <em class="replaceable"><code>/dev/xvdf1</code></em> <em class="replaceable"><code>/mnt</code></em></code></strong></code></pre><p>After
                                       you have mounted the partition, extend the file system to use the newly
                                       available space by following the procedures in <a href="recognize-expanded-volume-linux.html">Extending a Linux File System after Resizing
                                          the Volume</a>.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>If this volume is the root partition for another instance, proceed to
                                       the procedures in <a href="expand-linux-partition.html#return-expanded-root-partition">Returning an Expanded Partition to Its Original
                                          Instance</a>.
                                    </p>
                                    
                                 </li>
                              </ul>
                           </div>
                           
                        </li>
                     </ol>
                     
                     <h2 id="expanding-partition-gdisk">Expanding a Linux Partition Using gdisk</h2>
                     
                     
                     <p>The <b>gdisk</b> utility (sometimes called GPT fdisk) is a text-based,
                        menu-driven tool for creating and editing partition tables, and it has better support
                        for GPT partition tables than <b>parted</b> in some distributions. Many
                        common Linux distributions (such as Amazon Linux and Ubuntu) provide <b>gdisk</b> by
                        default. If your distribution does not provide the <b>gdisk</b> command, you
                        can find out how to get it by visiting <a href="http://www.rodsbooks.com/gdisk/download.html" target="_blank">Obtaining GPT fdisk</a>; in
                        many cases, it is much easier to launch an Amazon Linux instance to use as a secondary
                        instance
                        because the <b>gdisk</b> command is already available.
                     </p>
                     <a id="part-resize-gdisk"></a><p class="title"><b>To expand a Linux partition using
                           <b>gdisk</b></b></p>
                     <p>If the partition to expand is the root partition, be sure to follow the steps in
                        <a href="expand-linux-partition.html#root_partition_prepare">To prepare a Linux root partition for
                           expansion</a>
                        first.
                     </p>
                     <ol>
                        <li>
                           
                           <p>Identify the device that contains the partition that you want to expand. Use
                              the <b>lsblk</b> command to list all devices and partitions attached
                              to the
                              instance.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>lsblk</code></strong><code class="computeroutput" copy="false">
NAME    MAJ:MIN RM  SIZE RO MOUNTPOINT
xvdf    202:80   0  100G  0
xvdf1   202:81   0  9.9G  0 /mnt
xvda1   202:1    0   30G  0 /</code></code></pre><p>In this example, the <code>xvdf</code> device has 100 GiB of available storage and it
                              contains a 9.9-GiB partition.
                           </p>
                           
                        </li>
                        <li><a id="partition_unmount_step_gdisk"></a>
                           
                           <p>Unmount the partition if it is mounted. Run the <b>umount</b>
                              command with the value of <code class="literal">MOUNTPOINT</code> from the
                              <b>lsblk</b> command. In this example, the
                              <code class="literal">MOUNTPOINT</code> value for the partition is
                              <code>/mnt</code>.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo umount <em class="replaceable"><code>/mnt</code></em></code></strong></code></pre>
                           </li>
                        <li>
                           
                           <p>Take a snapshot of your volume (unless you just took one in the previous
                              procedure). It can be easy to corrupt or lose your data in the following
                              procedures. If you have a fresh snapshot, you can always start over in case of a
                              mistake and your data is still safe. For more information, see <a href="ebs-creating-snapshot.html">Creating an Amazon EBS Snapshot</a>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Run the <b>gdisk</b> command on the device (and not the partition
                              on the device). Remember to add the <code>/dev/</code> prefix to the
                              name that <b>lsblk</b>
                              outputs.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo gdisk <em class="replaceable"><code>/dev/xvdf</code></em></code></strong><code class="computeroutput" copy="false">
gdisk /dev/xvdf
GPT fdisk (gdisk) version 0.8.10

Partition table scan:
  MBR: protective
  BSD: not present
  APM: not present
  GPT: present

Found valid GPT with protective MBR; using GPT.</code></code></pre>
                           </li>
                        <li>
                           
                           <p>Run the <b>p</b> command to print the partition table for the
                              device.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Examine the output for the disk identifier, partition number, starting sector,
                              code for the partition, and name of the partition. If your volume has multiple
                              partitions, take note of each
                              one.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">Command (? for help): </code><strong class="userinput"><code>p</code></strong><code class="computeroutput" copy="false">
Disk /dev/xvdf: 209715200 sectors, 100.0 GiB
Logical sector size: 512 bytes
Disk identifier (GUID): 947F4655-F3BF-4A1F-8203-000000000000
Partition table holds up to 128 entries
First usable sector is 34, last usable sector is 20705246
Partitions will be aligned on 2048-sector boundaries
Total free space is 2108 sectors (1.0 MiB)

Number  Start (sector)    End (sector)  Size       Code  Name
   1            2048        20705152   9.9 GiB     EF00  lxroot</code></code></pre><p>In the preceding example, the disk identifier is <code class="literal">947F4655-F3BF-4A1F-8203-000000000000</code>, the partition number is <code class="literal">1</code>, the starting sector is <code class="literal">2048</code>, the code is <code class="literal">EF00</code>, and the name
                              is <code class="literal">lxroot</code>. Your values will vary.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Because the existing partition table was originally created for a smaller
                              volume, create a new partition table for the larger volume. Run the
                              <b>o</b> command to create a new, empty partition table.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">Command (? for help): </code><strong class="userinput"><code>o</code></strong><code class="computeroutput" copy="false">
This option deletes all partitions and creates a new protective MBR.
Proceed? (Y/N): <strong class="userinput"><code>Y</code></strong></code></code></pre>
                           </li>
                        <li>
                           
                           <p>Use the <b>n</b> command to create a new partition entry for each
                              partition on the device. 
                           </p>
                           
                           <ul>
                              
                              <li>
                                 
                                 <p>If your volume has only one partition, at each prompt, enter the
                                    values that you recorded earlier. For the last sector value, use the
                                    default value to expand to the entire volume
                                    size.
                                 </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">Command (? for help): </code><strong class="userinput"><code>n</code></strong><code class="computeroutput" copy="false">
Partition number (1-128, default 1): <strong class="userinput"><code>1</code></strong>
First sector (34-209715166, default = 2048) or {+-}size{KMGTP}: <strong class="userinput"><code>2048</code></strong>
Last sector (2048-209715166, default = 209715166) or {+-}size{KMGTP}: <strong class="userinput"><code>209715166</code></strong>
Current type is 'Linux filesystem'
Hex code or GUID (L to show codes, Enter = 8300): <strong class="userinput"><code>EF00</code></strong>
Changed type of partition to 'EFI System'</code></code></pre>
                                 </li>
                              
                              <li>
                                 
                                 <p>If your volume has more than one partition, there is likely a BIOS
                                    boot partition, and a main data partition. Create a new partition entry
                                    for the BIOS boot partition using the values that you recorded earlier.
                                    Create another new partition entry for the main data partition using the
                                    values that you recorded earlier. For the last sector value, use the
                                    default value to expand to the entire volume size.
                                 </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Command (? for help): <strong class="userinput"><code>n</code></strong>
Partition number (1-128, default 1): <strong class="userinput"><code>1</code></strong>
First sector (34-209715166, default = 2048) or {+-}size{KMGTP}:  <strong class="userinput"><code>2048</code></strong>
Last sector (2048-209715166, default = 209715166) or {+-}size{KMGTP}: <strong class="userinput"><code>4095</code></strong>
Current type is 'Linux filesystem'
Hex code or GUID (L to show codes, Enter = 8300): <strong class="userinput"><code>EF02</code></strong>
Changed type of partition to 'BIOS boot partition'

Command (? for help): <strong class="userinput"><code>n</code></strong>
Partition number (2-128, default 2): <strong class="userinput"><code>2</code></strong>
First sector (34-209715166, default = 4096) or {+-}size{KMGTP}: <strong class="userinput"><code>4096</code></strong>
Last sector (4096-209715166, default = 209715166) or {+-}size{KMGTP}: <strong class="userinput"><code>209715166</code></strong>
Current type is 'Linux filesystem'
Hex code or GUID (L to show codes, Enter = 8300): <strong class="userinput"><code>0700</code></strong>
Changed type of partition to 'Microsoft basic data'</code></pre>
                                 </li>
                              
                           </ul>
                           
                        </li>
                        <li>
                           
                           <p>Use the <b>c</b> command to change the name of each partition to
                              the name of the previous partition. If your partition did not have a name,
                              simply type
                              <code class="code">Enter</code>.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Command (? for help): <strong class="userinput"><code>c</code></strong>
Using 1
Enter name: <strong class="userinput"><code>lxroot</code></strong></code></pre>
                           </li>
                        <li>
                           
                           <p>Use the <b>x</b> command to enter the expert command menu.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Use the <b>g</b> command to change the disk identifier to the
                              original
                              value.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Expert command (? for help): <strong class="userinput"><code>g</code></strong>
Enter the disk's unique GUID ('R' to randomize): <strong class="userinput"><code>947F4655-F3BF-4A1F-8203-000000000000</code></strong>
The new disk GUID is 947F4655-F3BF-4A1F-8203-000000000000</code></pre>
                           </li>
                        <li>
                           
                           <p>Use the <b>w</b> command to write the changes to the device and
                              exit.
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Expert command (? for help): <strong class="userinput"><code>w</code></strong>

Final checks complete. About to write GPT data. THIS WILL OVERWRITE EXISTING
PARTITIONS!!

Do you want to proceed? (Y/N): <strong class="userinput"><code>Y</code></strong>
OK; writing new GUID partition table (GPT) to /dev/xvdf.
The operation has completed successfully.</code></pre>
                           </li>
                        <li>
                           
                           <p>Check the file system to make sure that there are no errors (this is required
                              before you may extend the file system).
                           </p>
                           
                           <ol>
                              <li>
                                 
                                 <p>Find the file system type with the following command, substituting the
                                    partition you just expanded (this may be
                                    <code><em class="replaceable"><code>/dev/xvdf2</code></em></code> if
                                    your volume had multiple
                                    partitions).
                                 </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo file -sL <em class="replaceable"><code>/dev/xvdf1</code></em></code></strong></code></pre>
                                 </li>
                              <li>
                                 
                                 <p>Choose one of the commands below based on your file system type. If
                                    you are using a different file system, consult the documentation for
                                    that file system to determine the correct check command.
                                 </p>
                                 
                                 <p>(For <code class="literal">ext3</code> or <code class="literal">ext4</code> file
                                    systems)
                                 </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo e2fsck -f <em class="replaceable"><code>/dev/xvdf1</code></em></code></strong>
e2fsck 1.42.3 (14-May-2012)
Pass 1: Checking inodes, blocks, and sizes
Pass 2: Checking directory structure
Pass 3: Checking directory connectivity
Pass 4: Checking reference counts
Pass 5: Checking group summary information
/: 31568/524288 files (0.4% non-contiguous), 266685/2096635 blocks</code></pre>
                                 <p>(For <code class="literal">xfs</code> file systems)
                                 </p>
                                 <div class="aws-note">
                                    <p class="aws-note">Note</p>
                                    <p>You may need to install the <code class="literal">xfsprogs</code>
                                       package to work with XFS file systems. Use the following command
                                       to add XFS support to your Amazon Linux
                                       instance.
                                    </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo yum install -y xfsprogs</code></strong></code></pre></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo xfs_repair <em class="replaceable"><code>/dev/xvdf1</code></em></code></strong><code class="computeroutput" copy="false">
Phase 1 - find and verify superblock...
Phase 2 - using internal log
        - zero log...
        - scan filesystem freespace and inode maps...
        - found root inode chunk
Phase 3 - for each AG...
        - scan and clear agi unlinked lists...
        - process known inodes and perform inode discovery...
        - agno = 0
        - agno = 1
        - agno = 2
        - agno = 3
        - process newly discovered inodes...
Phase 4 - check for duplicate blocks...
        - setting up duplicate extent list...
        - check for inodes claiming duplicate blocks...
        - agno = 0
        - agno = 1
        - agno = 2
        - agno = 3
Phase 5 - rebuild AG headers and trees...
        - reset superblock...
Phase 6 - check inode connectivity...
        - resetting contents of realtime bitmap and summary inodes
        - traversing filesystem ...
        - traversal finished ...
        - moving disconnected inodes to lost+found ...
Phase 7 - verify and correct link counts...
done</code></code></pre>
                                 </li>
                           </ol>
                           
                        </li>
                        <li>
                           
                           <p>The next steps differ depending on whether the expanded partition belongs on
                              the current instance or if it is the root partition for another instance. 
                           </p>
                           
                           <div class="itemizedlist">
                              
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p>If this partition belongs on the current instance, remount the
                                       partition at the <code class="literal">MOUNTPOINT</code> identified in <a href="expand-linux-partition.html#partition_unmount_step_gdisk">Step 2</a>.
                                    </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo mount <em class="replaceable"><code>/dev/xvdf1</code></em> <em class="replaceable"><code>/mnt</code></em></code></strong></code></pre><p>After
                                       you have mounted the partition, extend the file system to use the newly
                                       available space by following the procedures in <a href="recognize-expanded-volume-linux.html">Extending a Linux File System after Resizing
                                          the Volume</a>.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>If this volume is the root partition for another instance, proceed to
                                       the procedures in <a href="expand-linux-partition.html#return-expanded-root-partition">Returning an Expanded Partition to Its Original
                                          Instance</a>.
                                    </p>
                                    
                                 </li>
                              </ul>
                           </div>
                           
                        </li>
                     </ol>
                     
                     <h2 id="return-expanded-root-partition">Returning an Expanded Partition to Its Original
                        Instance
                     </h2>
                     
                     
                     <p>If you expanded a root partition from another instance, follow this procedure to
                        return the volume to its original instance.
                     </p>
                     
                     <p class="title"><b>To return an expanded root partition to its original instance</b></p>
                     <ol>
                        <li>
                           
                           <p>Detach the expanded partition from its secondary instance. For more
                              information, see <a href="ebs-detaching-volume.html">Detaching an Amazon EBS Volume from an Instance</a>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Reattach the volume to the primary instance using the device name that you
                              identified in <a href="expand-linux-partition.html#identify_root_device_step">Step 4</a> of the <a href="expand-linux-partition.html#root_partition_prepare">preparation procedure</a>. For more
                              information, see <a href="ebs-attaching-volume.html">Attaching an Amazon EBS Volume to an Instance</a>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Start the primary instance. For more information, see <a href="Stop_Start.html">Stop and Start Your Instance</a>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>(Optional) If you launched a secondary instance for the sole purpose of
                              expanding the partition, you can terminate the instance to stop incurring
                              charges. For more information, see <a href="terminating-instances.html">Terminate Your Instance</a>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Connect to your primary instance and extend the file system to use the newly
                              available space by following the procedures in <a href="recognize-expanded-volume-linux.html">Extending a Linux File System after Resizing
                                 the Volume</a>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <p>After you are finished with this expanding the file system, you can create an AMI
                        from
                        the instance that you can use to launch new instances with the desired partition size.
                        For more information, see <a href="AMIs.html">Amazon Machine Images (AMI)</a>.
                     </p>
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="monitoring_mods.html">« Previous </a><a class="awstoc" accesskey="n" href="recognize-expanded-volume-linux.html">Next »</a></div>
                     <div id="copyright-main-footer">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Preparing a Linux Root Partition for&#xA;            Expansion"><a class="pagetoc" href="#prepare-linux-root-part">Preparing a Linux Root Partition for
                              Expansion</a></li>
                        <li class="pagetoc" name="Expanding a Linux Partition Using&#xA;                parted"><a class="pagetoc" href="#expanding-partition-parted">Expanding a Linux Partition Using
                              parted</a></li>
                        <li class="pagetoc" name="Expanding a Linux Partition Using gdisk"><a class="pagetoc" href="#expanding-partition-gdisk">Expanding a Linux Partition Using gdisk</a></li>
                        <li class="pagetoc" name="Returning an Expanded Partition to Its Original&#xA;                Instance"><a class="pagetoc" href="#return-expanded-root-partition">Returning an Expanded Partition to Its Original
                              Instance</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using our site, you consent
            to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      <div id="footer">
         <div id="footer_short_fb" class="hide" title="Feedback"><a target="_blank" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EC2&amp;topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/expand-linux-partition.html&amp;hidden_guide_name=User Guide for Linux Instances&amp;hidden_api_version=&amp;hidden_file_name=expand-linux-partition"><i class="awsdocs-footer-text fa fa-envelope-o"></i></a></div>
         <div id="footer_toggle" class="mediaobject">
            <div id="footer_toggle_img" class="awsdocs-footer-text fa fa-caret-down"></div>
            <div id="footer_toggle_img_collapse" class="hide awsdocs-footer-text fa fa-caret-right"></div>
         </div>
         <div id="footer-left"><a class="awsdocs-footer-text" target="_top" href="http://aws.amazon.com/terms">Terms of Use</a><span class="awsdocs-footer-text"> | </span><a class="awsdocs-footer-text" target="_top" href="http://aws.amazon.com/privacy">Privacy</a><span class="awsdocs-footer-text"> | </span><span class="awsdocs-footer-text">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</span></div>
         <div id="footer-right">
            <div id="feedback">
               <div id="forums"><a id="forum_link" target="_blank" href="http://forums.aws.amazon.com/forum.jspa?forumID=30" class="awsdocs-footer-text">Have a question? Try the Forums.</a></div>
               <div id="feedback-message" class="awsdocs-footer-text">Did this page help you?</div>
               <div id="feedback-yesno-buttons"><a class="awstoc btn btn-default" target="_blank" href="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/expand-linux-partition.html">Yes</a><a class="awstoc btn btn-default" target="_blank" href="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/expand-linux-partition.html">No</a></div>
               <div id="feedback-feedback-button"><a class="awstoc btn btn-default" target="_blank" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EC2&amp;topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/expand-linux-partition.html&amp;hidden_guide_name=User Guide for Linux Instances&amp;hidden_api_version=&amp;hidden_file_name=expand-linux-partition">Feedback</a></div>
            </div>
         </div>
      </div>
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon Elastic Compute Cloud';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide for Linux Instances';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   </body>
</html>