<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Managing an EC2 Fleet - Amazon Elastic Compute Cloud</title>
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="home" href="#top" />
      <link rel="up" href="ec2-fleet.html" title="Launching an EC2 Fleet" />
      <link rel="prev" href="ec2-fleet-configuration-strategies.html" title="EC2 Fleet Configuration Strategies" />
      <link rel="next" href="ec2-fleet-examples.html" title="EC2 Fleet Example Configurations" />
      <meta name="description" content="Create an EC2 Fleet that specifies the launch configuration for your On-Demand Instances and Spot Instances, including the price that you are willing to pay per unit hour." />
      <meta name="keywords" content="EC2,Amazon EC2,EC2 instance,instance,VM,virtual machine" />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="Amazon Elastic Compute Cloud" />
      <meta name="guide" content="User Guide for Linux Instances" />
      <meta name="guide-locale" content="en_us" />
      <link rel="icon" type="image/ico" href="/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/manage-ec2-fleet.html" />
      <link rel="stylesheet" type="text/css" href="/css/jquery-ui.min.css" />
      <link rel="stylesheet" type="text/css" href="/font/css/font-awesome.min.css" />
      <link rel="stylesheet" type="text/css" href="/css/google-font.css" />
      <link id="code-style" rel="stylesheet" type="text/css" href="/css/code/light.css" />
      <link rel="stylesheet" type="text/css" href="/css/jquery-ui.theme.css" />
      <link rel="stylesheet" type="text/css" href="/css/colorbox.css" />
      <link rel="stylesheet" type="text/css" href="/css/awsdocs.css?v=20170615" /><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      <div xmlns:db="http://docbook.org/ns/docbook" id="aws-nav" class="aws-nav-header">
         <div class="aws-nav-header-left">
            <div id="aws-nav-flyout-trigger" class="aws-nav-flyout-trigger"><i class="fa fa-bars fa-2x"></i></div>
            <div class="aws-nav-logo">
               <!--aws_logo_105x39.png--><a href="http://aws.amazon.com"><img src="/images/aws_logo_105x39.png" alt="Amazon Web Services" /></a></div>
         </div>
         <div id="aws-nav-header-right" class="aws-nav-header-right">
            <div class="aws-nav-cta-button-outer"><a id="aws-nav-cta-button" class="aws-nav-button" href="https://console.aws.amazon.com/console/home">Sign In to the Console</a></div>
            <div class="aws-nav-popover-trigger" data-dropdown="aws-nav-dropdown-lang"><select id="languageSelection" onchange="SelectLanguage()">
                  <option value="/de_de/AWSEC2/latest/UserGuide/manage-ec2-fleet.html">Deutsch</option>
                  <option value="/en_us/AWSEC2/latest/UserGuide/manage-ec2-fleet.html" selected="selected">English</option>
                  <option value="/es_es/AWSEC2/latest/UserGuide/manage-ec2-fleet.html">Español</option>
                  <option value="/fr_fr/AWSEC2/latest/UserGuide/manage-ec2-fleet.html">Français</option>
                  <option value="/it_it/AWSEC2/latest/UserGuide/manage-ec2-fleet.html">Italiano</option>
                  <option value="/ja_jp/AWSEC2/latest/UserGuide/manage-ec2-fleet.html">日本語</option>
                  <option value="/ko_kr/AWSEC2/latest/UserGuide/manage-ec2-fleet.html">한국어</option>
                  <option value="/pt_br/AWSEC2/latest/UserGuide/manage-ec2-fleet.html">Português</option>
                  <option value="/zh_cn/AWSEC2/latest/UserGuide/manage-ec2-fleet.html">中文 (简体)</option>
                  <option value="/zh_tw/AWSEC2/latest/UserGuide/manage-ec2-fleet.html">中文 (繁體)</option></select></div><a class="btn btn-rss-link" id="rss-link-top" target="_blank" href="amazon-ec2-release-notes.rss" title="View RSS Feed"></a><a class="btn btn-kindle-link" id="kindle-link-top" target="_blank" href="http://www.amazon.com/dp/B076452RSZ" title="Open Kindle"></a><a class="btn btn-pdf-link" id="pdf-link-top" href="ec2-ug.pdf#manage-ec2-fleet" target="_blank" title="Open PDF"></a><a class="btn btn-github-link" id="github-link-top" href="https://github.com/awsdocs/amazon-ec2-user-guide/tree/master/doc_source/manage-ec2-fleet.md" target="_blank" title="Edit on GitHub"></a><div id="aws-nav-quicklinks-separator" class="aws-nav-quicklinks-separator">
               <div class="aws-nav-left"></div>
               <div class="aws-nav-right"></div>
            </div>
         </div>
         <div xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" id="topnav-flyout-menu-container">
            <ul id="topnav-flyout-menu"><script id="flyout-item-template" type="text/x-handlebars-template">
                    {{#flyoutList}}

                        {{#if topTarget}}
                            <li class="awsdocs-flyout-link-wrapper"><a href="{{topTarget}}">{{listItem}}</a></li>
                        {{else}}
                            <li>{{listItem}}
                                {{#if subList}}
                                <ul>
                                    {{#subList}}
                                    <li class="awsdocs-flyout-link-wrapper"><a href="{{target}}">{{text}}</a></li>
                                    {{/subList}}
                                </ul>
                                {{/if}}
                            </li>
                        {{/if}}

                    {{/flyoutList}}
                </script></ul>
            <div id="topnav-flyout-menu-spacer"></div>
         </div>
      </div>
      <div id="content-container">
         <div id="left-column">
            <div id="left-col-header">
               <div xmlns:db="http://docbook.org/ns/docbook" id="left-col-top-content">
                  <div id="service-name">Amazon Elastic Compute Cloud </div>
                  <div id="search"><i id="search-icon" class="fa fa-search fa-2x"></i></div>
                  <div id="guide-info">User Guide for Linux Instances
                     <div id="content-button"><i id="toggle-contents" class="fa fa-bars"></i></div>
                  </div>
               </div>
               <form id="finegrainedSearch" method="get" onsubmit="return searchFormSubmit(this);" action="/search/doc-search.html">
                  <div id="search-form"><select id="search-select" name="searchPath">
                        <option value="all">Entire Site</option>
                        <option value="AWSMarketplace">AMIs from AWS Marketplace</option>
                        <option value="amis">AMIs from All Sources</option>
                        <option value="articles">Articles &amp; Tutorials</option>
                        <option value="products_and_info">AWS Product Information</option>
                        <option value="case_studies">Case Studies</option>
                        <option value="customerapps">Customer Apps</option>
                        <option value="documentation">Documentation</option>
                        <option value="documentation-product">Documentation - This Product</option>
                        <option value="documentation-guide" selected="selected">Documentation - This Guide</option>
                        <option value="datasets">Public Data Sets</option>
                        <option value="releasenotes">Release Notes</option>
                        <option value="solution_providers">Partners</option>
                        <option value="code">Sample Code &amp; Libraries</option></select><br /><input id="search-query" name="searchQuery" type="text" placeholder="Search" /><input id="search-button" src="/images/search-button.png" alt="Go" type="image" /></div><input type="hidden" name="this_doc_product" id="this_doc_product" value="Amazon Elastic Compute Cloud" /><input type="hidden" name="this_doc_guide" id="this_doc_guide" value="User Guide for Linux Instances" /><input type="hidden" name="doc_locale" value="en_us" /></form>
            </div>
            <div id="toc">
               <ul class="awstoc">
                  <li class="awstoc closed"><a class="awstoc" href="concepts.html">What Is Amazon EC2?</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-instances-and-amis.html">Instances and AMIs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="using-regions-availability-zones.html">Regions and Availability Zones</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="RootDeviceStorage.html">Root Device Volume</a></li>
                     </ul>
                  </li>
                  <li class="awstoc leaf"><a class="awstoc" href="get-set-up-for-amazon-ec2.html">Setting Up</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="EC2_GetStarted.html">Getting Started</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="ec2-best-practices.html">Best Practices</a></li>
                  <li class="awstoc closed"><a class="awstoc" href="ec2-tutorials.html">Tutorials</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-lamp-amazon-linux-2.html">Install a LAMP Server (Amazon Linux 2)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="install-LAMP.html">Install a LAMP Server (Amazon Linux AMI)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="hosting-wordpress.html">Tutorial: Hosting a WordPress Blog</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="SSL-on-an-instance.html">Tutorial: Configure Apache Web Server on Amazon Linux 2 to Use SSL/TLS</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-increase-availability.html">Tutorial: Increase the Availability of Your Application</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="tutorial_run_command.html">Tutorial: Remotely Manage Your Instances</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="AMIs.html">Amazon Machine Images</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ComponentsAMIs.html">AMI Types</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="virtualization_types.html">Virtualization Types</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="finding-an-ami.html">Finding a Linux AMI</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="sharing-amis.html">Shared AMIs</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="usingsharedamis-finding.html">Finding Shared AMIs</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="sharingamis-intro.html">Making an AMI Public</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="sharingamis-explicit.html">Sharing an AMI with Specific AWS Accounts</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="using-bookmarks.html">Using Bookmarks</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="building-shared-amis.html">Guidelines for Shared Linux AMIs</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="paid-amis.html">Paid AMIs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="creating-an-ami-ebs.html">Creating an Amazon EBS-Backed Linux AMI</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="creating-an-ami-instance-store.html">Creating an Instance Store-Backed Linux AMI</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="set-up-ami-tools.html">Setting Up the AMI Tools</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="create-instance-store-ami.html">Creating an AMI from an Instance Store-Backed Instance</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="Using_ConvertingS3toEBS.html">Converting to an Amazon EBS-Backed AMI</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ami-tools-commands.html">AMI Tools Reference</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="AMIEncryption.html">AMIs with Encrypted Snapshots</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="CopyingAMIs.html">Copying an AMI</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="deregister-ami.html">Deregistering Your Linux AMI</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="amazon-linux-ami-basics.html">Amazon Linux</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="amazon-linux-2-virtual-machine.html">Running Amazon Linux 2 as a Virtual Machine On-Premises</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="UserProvidedKernels.html">User Provided Kernels</a></li>
                     </ul>
                  </li>
                  <li class="awstoc opened"><a class="awstoc" href="Instances.html">Instances</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="instance-types.html">Instance Types</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="burstable-performance-instances.html">Burstable Performance Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="burstable-credits-baseline-concepts.html">CPU Credits and Baseline Performance</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="burstable-performance-instances-unlimited-mode.html">Unlimited Mode</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="unlimited-mode-examples.html">Examples</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc closed"><a class="awstoc" href="burstable-performance-instances-standard-mode.html">Standard Mode</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="standard-mode-examples.html">Examples</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc leaf"><a class="awstoc" href="burstable-performance-instances-how-to.html">Working with Burstable Performance Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="burstable-performance-instances-monitoring-cpu-credits.html">Monitoring Your CPU Credits</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="general-purpose-instances.html">General Purpose Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="compute-optimized-instances.html">Compute Optimized Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="memory-optimized-instances.html">Memory Optimized Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="storage-optimized-instances.html">Storage Optimized Instances</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="accelerated-computing-instances.html">Accelerated Computing Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="install-nvidia-driver.html">Installing the NVIDIA Driver on Linux Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="activate_grid.html">Activate NVIDIA GRID Virtual Applications (G3 Instances Only)</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="optimize_gpu.html">Optimizing GPU Settings (P2, P3, and G3 Instances)</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="fpga-getting-started.html">Getting Started with FPGA Development</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="concepts_micro_instances.html">T1 Micro Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-instance-resize.html">Changing the Instance Type</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="instance-optimize-cpu.html">Optimizing CPU Options</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="instance-purchasing-options.html">Instance Purchasing Options</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="ec2-reserved-instances.html">Reserved Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="reserved-instances-types.html">Types of Reserved Instances (Offering Classes)</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="apply_ri.html">How Reserved Instances Are Applied</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="concepts-reserved-instances-application.html">How You Are Billed</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-market-concepts-buying.html">Buying Reserved Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-market-general.html">Selling on the Reserved Instance Marketplace</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-modifying.html">Modifying Reserved Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-convertible-exchange.html">Exchanging Convertible Reserved Instances</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-scheduled-instances.html">Scheduled Instances</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="using-spot-instances.html">Spot Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="how-spot-instances-work.html">How Spot Instances Work</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-fleet.html">How Spot Fleet Works</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="using-spot-instances-history.html">Spot Instance Pricing History</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="spot-requests.html">Spot Instance Requests</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-request-examples.html">Example Launch Specifications</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc closed"><a class="awstoc" href="spot-fleet-requests.html">Spot Fleet Requests</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-examples.html">Example Configurations</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-cloudwatch-metrics.html">CloudWatch Metrics for Spot Fleet</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="spot-fleet-automatic-scaling.html">Automatic Scaling for Spot Fleet</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-target-tracking.html">Target Tracking Scaling Policies</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-step-scaling.html">Step Scaling Policies</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-scheduled-scaling.html">Scheduled Scaling</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-bid-status.html">Spot Request Status</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-interruptions.html">Spot Instance Interruptions</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-data-feeds.html">Spot Instance Data Feed</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="using-spot-limits.html">Spot Instance Limits</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="dedicated-hosts-overview.html">Dedicated Hosts</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="how-dedicated-hosts-work.html">Working with Dedicated Hosts</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="dedicated-hosts-aws-config.html">Tracking Configuration Changes</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="dedicated-instance.html">Dedicated Instances</a></li>
                           </ul>
                        </li>
                        <li class="awstoc opened"><a class="awstoc" href="ec2-instance-lifecycle.html">Instance Lifecycle</a><ul class="awstoc">
                              <li class="awstoc opened"><a class="awstoc" href="LaunchingAndUsingInstances.html">Launch</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="launching-instance.html">Launching an Instance Using the Launch Instance Wizard</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ec2-launch-templates.html">Launching an Instance from a Launch Template</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="launch-more-like-this.html">Launching an Instance From an Existing Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="instance-launch-snapshot.html">Launching a Linux Instance from a Backup</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="launch-marketplace-console.html">Launching an AWS Marketplace Instance</a></li>
                                    <li class="awstoc opened"><a class="awstoc" href="ec2-fleet.html">Launching an EC2 Fleet</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="ec2-fleet-configuration-strategies.html">EC2 Fleet Configuration Strategies</a></li>
                                          <li class="awstoc opened"><a class="awstoc selected" href="manage-ec2-fleet.html">Managing an EC2 Fleet</a><ul class="awstoc">
                                                <li class="awstoc leaf"><a class="awstoc" href="ec2-fleet-examples.html">Example Configurations</a></li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="AccessingInstances.html">Connect</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="AccessingInstancesLinux.html">Connect Using SSH</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="putty.html">Connect Using PuTTY</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="WSL.html">Connect Using WSL</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="mindterm.html">Connect Using MindTerm</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="Stop_Start.html">Stop and Start</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-instance-reboot.html">Reboot</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="instance-retirement.html">Retire</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="terminating-instances.html">Terminate</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-instance-recover.html">Recover</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="Configure_Instance.html">Configure Instances</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="managing-software.html">Managing Software</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="install-updates.html">Updating Instance Software</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="add-repositories.html">Adding Repositories</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="find-software.html">Finding Software Packages</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="install-software.html">Installing Software Packages</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="compile-software.html">Preparing to Compile Software</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="managing-users.html">Managing Users</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="processor_state_control.html">Processor State Control</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="set-time.html">Setting the Time</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="set-hostname.html">Changing the Hostname</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="dynamic-dns.html">Setting Up Dynamic DNS</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="user-data.html">Running Commands at Launch</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="ec2-instance-metadata.html">Instance Metadata and User Data</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="instance-identity-documents.html">Instance Identity Documents</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="identify_ec2_instances.html">Identify Instances</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="monitoring_ec2.html">Monitoring</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="monitoring_automated_manual.html">Automated and Manual Monitoring</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="monitoring_best_practices.html">Best Practices for Monitoring</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="monitoring-instances-status-check.html">Monitoring the Status of Your Instances</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="monitoring-system-instance-status-check.html">Instance Status Checks</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="monitoring-instances-status-check_sched.html">Scheduled Events</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="using-cloudwatch.html">Monitoring Your Instances Using CloudWatch</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="using-cloudwatch-new.html">Enable Detailed Monitoring</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="viewing_metrics_with_cloudwatch.html">List Available Metrics</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="monitoring_get_statistics.html">Get Statistics for Metrics</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="US_SingleMetricPerInstance.html">Get Statistics for a Specific Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="GetSingleMetricAllDimensions.html">Aggregate Statistics Across Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="GetMetricAutoScalingGroup.html">Aggregate Statistics by Auto Scaling Group</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="US_SingleMetricPerAMI.html">Aggregate Statistics by AMI</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="graphs-in-the-aws-management-console.html">Graph Metrics</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="using-cloudwatch-createalarm.html">Create an Alarm</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="UsingAlarmActions.html">Create Alarms That Stop, Terminate, Reboot, or Recover an Instance</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="automating_with_cloudwatch_events.html">Automating Amazon EC2 with CloudWatch Events</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="mon-scripts.html">Monitoring Memory and Disk Metrics</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="EC2_Network_and_Security.html">Network and Security</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-key-pairs.html">Key Pairs</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="using-network-security.html">Security Groups</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="security-group-rules-reference.html">Security Group Rules Reference</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="UsingIAM.html">Controlling Access</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="iam-policies-for-amazon-ec2.html">IAM Policies</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="iam-policy-structure.html">Policy Structure</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ec2-supported-iam-actions-resources.html">Supported Resource-Level Permissions</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ExamplePolicies_EC2.html">Example Policies for CLI or SDK</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="iam-policies-ec2-console.html">Example Policies for the Console</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="iam-roles-for-amazon-ec2.html">IAM Roles</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="authorizing-access-to-an-instance.html">Network Access</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="using-instance-addressing.html">Instance IP Addressing</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="MultipleIP.html">Multiple IP Addresses</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="elastic-ip-addresses-eip.html">Elastic IP Addresses</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="using-eni.html">Network Interfaces</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="requester-managed-eni.html">Requester-Managed Network Interfaces</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="enhanced-networking.html">Enhanced Networking</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="sriov-networking.html">Enhanced Networking: Intel 82599 VF</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="enhanced-networking-ena.html">Enhanced Networking: ENA</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-ena.html">Troubleshooting ENA</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="placement-groups.html">Placement Groups</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="network_mtu.html">Network MTU</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="using-vpc.html">Virtual Private Clouds</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="ec2-classic-platform.html">EC2-Classic</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="vpc-classiclink.html">ClassicLink</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="vpc-migrate.html">Migrating from EC2-Classic to a VPC</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="Storage.html">Storage</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="AmazonEBS.html">Amazon EBS</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="EBSVolumes.html">EBS Volumes</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="EBSVolumeTypes.html">EBS Volume Types</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-creating-volume.html">Creating a Volume</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-restoring-volume.html">Restoring from a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-attaching-volume.html">Attaching a Volume to an Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-using-volumes.html">Making a Volume Available for Use</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-describing-volumes.html">Volume Information</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="monitoring-volume-status.html">Monitoring the Status of Your Volumes</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-detaching-volume.html">Detaching a Volume from an Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-deleting-volume.html">Deleting a Volume</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="ebs-modify-volume.html">Modifying a Volume</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="volume_constraints.html">Volume Size Constraints</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="console-modify.html">Using the Console</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="cli-modify.html">Using the CLI</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="monitoring_mods.html">Monitoring Progress</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="expand-linux-partition.html">Expanding a Linux Partition</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="recognize-expanded-volume-linux.html">Extending Linux File Systems</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="limitations.html">Limitations</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="stop-start.html">Appendix: Manual Stop/Start Modification</a></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="EBSSnapshots.html">EBS Snapshots</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-creating-snapshot.html">Creating a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-deleting-snapshot.html">Deleting a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-copy-snapshot.html">Copying a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-describing-snapshots.html">Viewing Snapshot Information</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-modifying-snapshot-permissions.html">Sharing a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="snapshot-lifecycle.html">Automating Snapshots</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="EBSOptimized.html">EBS Optimization</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="EBSEncryption.html">EBS Encryption</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="nvme-ebs-volumes.html">EBS Volumes and NVMe</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="EBSPerformance.html">EBS Performance</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-ec2-config.html">EC2 Configuration</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-io-characteristics.html">I/O Characteristics and Monitoring</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-initialize.html">Initialize Volumes</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="raid-config.html">RAID Configuration</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="benchmark_procedures.html">Benchmark EBS Volumes</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="ebs-cloud-watch-events.html">EBS CloudWatch Events</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="InstanceStorage.html">Instance Store</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="add-instance-store-volumes.html">Add Instance Store Volumes</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ssd-instance-store.html">SSD Instance Store Volumes</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="instance-store-swap-volumes.html">Instance Store Swap Volumes</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="disk-performance.html">Optimizing Disk Performance</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="AmazonEFS.html">Amazon EFS</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="AmazonS3.html">Amazon S3</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="volume_limits.html">Instance Volume Limits</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="device_naming.html">Device Naming</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="block-device-mapping-concepts.html">Block Device Mapping</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="using-public-data-sets.html">Using Public Data Sets</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="EC2_Resources.html">Resources and Tags</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="resources.html">Resource Locations</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="resource-ids.html">Resource IDs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="Using_Filtering.html">Listing and Filtering Your Resources</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="Using_Tags.html">Tagging Your Resources</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-resource-limits.html">Service Limits</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="usage-reports.html">Usage Reports</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="Linux-Server-EC2Rescue.html">EC2Rescue for Linux</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_install.html">Installing EC2Rescue for Linux</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_verify.html">(Optional) Verify the Signature of EC2Rescue for Linux</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_working.html">Working with EC2Rescue for Linux</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_moduledev.html">Developing EC2Rescue Modules</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="ec2-instance-troubleshoot.html">Troubleshooting</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-launch.html">Troubleshooting Launch Issues</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstancesConnecting.html">Connecting to Your Instance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstancesStopping.html">Stopping Your Instance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstancesShuttingDown.html">Terminating Your Instance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstanceRecovery.html">Instance Recovery Failures</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstances.html">Failed Status Checks</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="instance-console.html">Getting Console Output and Rebooting Instances</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="instance-booting-from-wrong-volume.html">Booting from the Wrong Volume</a></li>
                     </ul>
                  </li>
                  <li class="awstoc leaf"><a class="awstoc" href="DocumentHistory.html">Document History</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="glossary.html">AWS Glossary</a></li>
                  <li id="toc-additional-links"><a class="btn btn-pdf-link" id="pdf-link-alt" href="ec2-ug.pdf#top" target="_blank" title="Open PDF"></a><a class="btn btn-kindle-link" id="kindle-link-alt" target="_blank" href="http://www.amazon.com/dp/B076452RSZ" title="Open Kindle"></a><a class="btn btn-rss-link" id="rss-link-alt" target="_blank" href="amazon-ec2-release-notes.rss" title="View RSS Feed"></a></li>
               </ul>
            </div>
         </div>
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> » <a href="/ec2/index.html">Amazon EC2</a> » <a href="index.html">User Guide for Linux Instances</a> » <a href="Instances.html">Amazon EC2 Instances</a> » <a href="ec2-instance-lifecycle.html">Instance Lifecycle</a> » <a href="LaunchingAndUsingInstances.html">Launch Your Instance</a> » <a href="ec2-fleet.html">Launching an EC2 Fleet</a> » <span class="breadcrumb">Managing an EC2 Fleet</span></div>
                           </td>
                        </tr>
                     </table>
                     <div></div>
                     <h1 class="topictitle" id="manage-ec2-fleet">Managing an EC2 Fleet</h1>
                     <p>To use an EC2 Fleet, you create a request that includes the target capacity, On-Demand
                        capacity,
                        			Spot capacity, one or more launch specifications for the instances, and the maximum
                        			price that you are willing to pay. The fleet request must include a launch template
                        that
                        			defines the information that the fleet needs to launch an instance, such as an
                        AMI,
                        			instance type, subnet or Availability Zone, and one or more security groups. You
                        can
                        			specify launch specification overrides for the instance type, subnet, Availability
                        Zone,
                        			and maximum price you're willing to pay, and you can assign weighted capacity to
                        each
                        			launch specification override.
                     </p>
                     <p>If your fleet includes Spot Instances, Amazon EC2 attempts to maintain your fleet
                        target capacity as
                        			Spot prices change.
                     </p>
                     <p>An EC2 Fleet request remains active until it expires or you delete it. When you delete
                        a
                        			fleet, you may specify whether deletion terminates the instances in that fleet.
                     </p>
                     <div class="highlights">
                        <p><strong>Contents</strong></p>
                        <ul>
                           <li><a href="#EC2-fleet-states">EC2 Fleet Request States</a></li>
                           <li><a href="#ec2-fleet-prerequisites">EC2 Fleet Prerequisites</a></li>
                           <li><a href="#ec2-fleet-health-checks">EC2 Fleet Health Checks</a></li>
                           <li><a href="#ec2-fleet-cli-skeleton">Generating an EC2 Fleet JSON Configuration
                                 					File</a></li>
                           <li><a href="#create-ec2-fleet">Creating an EC2 Fleet</a></li>
                           <li><a href="#tag-ec2-fleet">Tagging an EC2 Fleet</a></li>
                           <li><a href="#manage-ec2-fleet">Monitoring Your EC2 Fleet</a></li>
                           <li><a href="#modify-ec2-fleet">Modifying an EC2 Fleet</a></li>
                           <li><a href="#delete-fleet">Deleting an EC2 Fleet</a></li>
                           <li><a href="ec2-fleet-examples.html">EC2 Fleet Example Configurations</a></li>
                        </ul>
                     </div>
                     			
                     <h2 id="EC2-fleet-states">EC2 Fleet Request States</h2>
                     			
                     <p>An EC2 Fleet request can be in one of the following states:</p>
                     			
                     <div class="itemizedlist">
                        				
                        				
                        				
                        				
                        				
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              					
                              <p><code class="code">submitted</code> – The EC2 Fleet request is being evaluated and
                                 						Amazon EC2 is preparing to launch the target number of instances, which can
                                 						include On-Demand Instances, Spot Instances, or both.
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p><code class="code">active</code> – The EC2 Fleet request has been validated and Amazon EC2
                                 						is attempting to maintain the target number of running instances. The
                                 						request remains in this state until it is modified or deleted.
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p><code class="code">modifying</code> – The EC2 Fleet request is being modified. The
                                 						request remains in this state until the modification is fully processed or
                                 						the request is deleted. A one-time <code class="code">request</code> cannot be modified,
                                 						and this state does not apply to such requests.
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p><code class="code">deleted_running</code> – The EC2 Fleet request is deleted and does
                                 						not launch additional instances. Its existing instances continue to run
                                 						until they are interrupted or terminated. The request remains in this state
                                 						until all instances are interrupted or terminated.
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p><code class="code">deleted_terminating</code> – The EC2 Fleet request is deleted and
                                 						its instances are terminating. The request remains in this state until all
                                 						instances are terminated.
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p><code class="code">deleted</code> – The EC2 Fleet is deleted and has no running
                                 						instances. The request is deleted two days after its instances are
                                 						terminated.
                              </p>
                              				
                           </li>
                        </ul>
                     </div>
                     			
                     <p>The following illustration represents the transitions between the EC2 Fleet request
                        				states. If you exceed your fleet limits, the request is deleted immediately.
                     </p>
                     			
                     <div class="mediaobject">
                        				
                        					<img src="images/EC2_fleet_states.png" alt="&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;EC2 Fleet request states&#xA;&#x9;&#x9;&#x9;&#x9;" style="max-width:50%" />
                        				
                        				
                        			
                     </div>
                     		
                     			
                     <h2 id="ec2-fleet-prerequisites">EC2 Fleet Prerequisites</h2>
                     			
                     <p>To create an EC2 Fleet, the following prerequisites must be in place.</p>
                     
                     			
                     				
                     <h3 id="ec2-fleet-prerequisites-launch-template">Launch
                        						Template
                     </h3>
                     				
                     <p>A launch template includes information about the instances to launch, such as
                        					the instance type, Availability Zone, and the maximum price that you are willing
                        					to pay. For more information, see <a href="ec2-launch-templates.html">Launching an Instance from a Launch Template</a>.
                     </p>
                     			
                     
                     			
                     				
                     <h3 id="ec2-fleet-service-linked-role">Service-Linked Role for EC2 Fleet</h3>
                     				
                     <p>The <code class="code">AWSServiceRoleForEC2Fleet</code> role grants the EC2 Fleet permission to request, 
                        					launch, terminate, and tag instances on your behalf.
                        				    Amazon EC2 uses this service-linked role to complete the following actions:
                     </p>
                     				
                     <div class="itemizedlist">
                        					
                        					
                        					
                        					
                        					
                        					
                        				
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:RequestSpotInstances</code> – Request Spot Instances.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:TerminateInstances</code> – Terminate Spot Instances.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:DescribeImages</code> – Describe Amazon Machine Images
                                 							(AMI) for the Spot Instances.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:DescribeInstanceStatus</code> – Describe the status of
                                 							the Spot Instances.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:DescribeSubnets</code> – Describe the subnets for
                                 							Spot Instances.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:CreateTags</code> - Add system tags to Spot Instances.
                              </p>
                              					
                           </li>
                        </ul>
                     </div>
                     				
                     <p>Ensure that this role exists before you use the AWS CLI or an API to create an EC2
                        Fleet. 
                        					To create the role, use the IAM console as follows.
                     </p>
                     				
                     <p class="title"><b>To create the IAM role for EC2 Fleet</b></p>
                     <ol>
                        <li>
                           <p>Open the IAM console at
                              <a href="https://console.aws.amazon.com/iam/" target="_blank">https://console.aws.amazon.com/iam/</a>.
                           </p>
                        </li>
                        <li>
                           						
                           <p>In the navigation pane, choose <b>Roles</b>.
                           </p>
                           					
                        </li>
                        <li>
                           						
                           <p>Choose <b>Create role</b>.
                           </p>
                           					
                        </li>
                        <li>
                           						
                           <p>On the <b>Select type of trusted entity</b> page, choose
                              						    <b>EC2 - Fleet</b> and then choose
                              							<b>Next: Permissions</b>.
                           </p>
                           					
                        </li>
                        <li>
                           						
                           <p>On the next page, choose <b>Next:Review</b>.
                           </p>
                           					
                        </li>
                        <li>
                           						
                           <p>On the <b>Review</b> page, choose <b>Create role</b>.
                           </p>
                           					
                        </li>
                     </ol>
                     				
                     <p>If you no longer need to use EC2 Fleet, we recommend that you delete the
                        					<b>AWSServiceRoleForEC2Fleet</b> role. After this role is deleted
                        					from your account, you can create the role again if you create another fleet.
                     </p>
                     			
                     
                     			
                     				
                     <h3 id="ec2-fleet-iam-users">EC2 Fleet and IAM Users</h3>
                     				
                     <p>If your IAM users will create or manage an EC2 Fleet, be sure to grant them the
                        					required permissions as follows.
                     </p>
                     				
                     <p class="title"><b>To grant an IAM user permissions for EC2 Fleet</b></p>
                     <ol>
                        <li>
                           <p>Open the IAM console at
                              <a href="https://console.aws.amazon.com/iam/" target="_blank">https://console.aws.amazon.com/iam/</a>.
                           </p>
                        </li>
                        <li>
                           						
                           <p>In the navigation pane, choose <b>Policies</b>.
                           </p>
                           					
                        </li>
                        <li>
                           						
                           <p>Choose <b>Create policy</b>.
                           </p>
                           					
                        </li>
                        <li>
                           						
                           <p>On the <b>Create policy</b> page, choose the
                              							<b>JSON</b> tab, replace the text with the following,
                              							and choose <b>Review policy</b>.
                           </p>
                           						<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                "ec2:*"
            ],
            "Resource": "*"
        },
        {
            "Effect": "Allow",
            "Action": [
              "iam:ListRoles",
              "iam:PassRole",
              "iam:ListInstanceProfiles"
            ],
            "Resource": "*"
        }
    ]
}</code></pre>
                           						<p>The <code class="code">ec2:*</code> grants an IAM user permission to call all
                              							Amazon EC2 API actions. To limit the user to specific Amazon EC2 API actions,
                              							specify those actions instead.
                           </p>
                           						
                           <p>An IAM user must have permission to call the
                              								<code class="code">iam:ListRoles</code> action to enumerate existing IAM roles,
                              							the <code class="code">iam:PassRole</code> action to specify the EC2 Fleet role, and the
                              								<code class="code">iam:ListInstanceProfiles</code> action to enumerate existing
                              							instance profiles.
                           </p>
                           						
                           <p>(Optional) To enable an IAM user to create roles or instance
                              							profiles using the IAM console, you must also add the following
                              							actions to the policy:
                           </p>
                           						
                           <div class="itemizedlist">
                              							
                              							
                              							
                              							
                              							
                              							
                              						
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    								
                                    <p><code class="code">iam:AddRoleToInstanceProfile</code></p>
                                    							
                                 </li>
                                 <li class="listitem">
                                    								
                                    <p><code class="code">iam:AttachRolePolicy</code></p>
                                    							
                                 </li>
                                 <li class="listitem">
                                    								
                                    <p><code class="code">iam:CreateInstanceProfile</code></p>
                                    							
                                 </li>
                                 <li class="listitem">
                                    								
                                    <p><code class="code">iam:CreateRole</code></p>
                                    							
                                 </li>
                                 <li class="listitem">
                                    								
                                    <p><code class="code">iam:GetRole</code></p>
                                    							
                                 </li>
                                 <li class="listitem">
                                    								
                                    <p><code class="code">iam:ListPolicies</code></p>
                                    							
                                 </li>
                              </ul>
                           </div>
                           					
                        </li>
                        <li>
                           						
                           <p>On the <b>Review policy</b> page, type a policy name and
                              							description, and then choose <b>Create policy</b>.
                           </p>
                           					
                        </li>
                        <li>
                           						
                           <p>In the navigation pane, choose <b>Users</b> and select
                              							the user.
                           </p>
                           					
                        </li>
                        <li>
                           						
                           <p>On the <b>Permissions</b> tab, choose <b>Add
                                 								permissions</b>.
                           </p>
                           					
                        </li>
                        <li>
                           						
                           <p>Choose <b>Attach existing policies directly</b>. Select
                              							the policy that you created earlier and choose <b>Next:
                                 								Review</b>.
                           </p>
                           					
                        </li>
                        <li>
                           						
                           <p>Choose <b>Add permissions</b>.
                           </p>
                           					
                        </li>
                     </ol>
                     			
                     
                     		
                     			
                     <h2 id="ec2-fleet-health-checks">EC2 Fleet Health Checks</h2>
                     			
                     <p>EC2 Fleet checks the health status of the instances in the fleet every two minutes.
                        The
                        				health status of an instance is either <code class="code">healthy</code> or
                        					<code class="code">unhealthy</code>. The fleet determines the health status of an instance
                        				using the status checks provided by Amazon EC2. If the status of either the instance
                        				status check or the system status check is <code class="code">impaired</code> for three
                        				consecutive health checks, the health status of the instance is
                        					<code class="code">unhealthy</code>. Otherwise, the health status is <code class="code">healthy</code>.
                        				For more information, see <a href="monitoring-system-instance-status-check.html">Status Checks for Your Instances</a>.
                     </p>
                     			
                     <p>You can configure your EC2 Fleet to replace unhealthy instances. After enabling health
                        				check replacement, an instance is replaced after its health status is reported
                        as
                        					<code class="code">unhealthy</code>. The fleet could go below its target capacity for up to a
                        				few minutes while an unhealthy instance is being replaced.
                     </p>
                     			
                     <div class="itemizedlist">
                        				
                        <p class="title"><b>Requirements</b></p>
                        				
                        				
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              					
                              <p>Health check replacement is supported only with EC2 Fleets that maintain a
                                 						target capacity, not with one-time fleets.
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p>You can configure your EC2 Fleet to replace unhealthy instances only when you
                                 						create it.
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p>IAM users can use health check replacement only if they have permission
                                 						to call the <code class="code">ec2:DescribeInstanceStatus</code> action.
                              </p>
                              				
                           </li>
                        </ul>
                     </div>
                     		
                     			
                     <h2 id="ec2-fleet-cli-skeleton">Generating an EC2 Fleet JSON Configuration
                        					File
                     </h2>
                     			
                     <p>To create an EC2 Fleet, you need only specify the launch template, target capacity,
                        and whether
                        				the default purchasing model is On-Demand or Spot. If you do not specify a
                        				parameter, the fleet uses the default value. To view the full list of fleet
                        				configuration parameters, you can generate a JSON file as follows.
                     </p>
                     			
                     <p class="title"><b>To generate a JSON file with all possible EC2 Fleet parameters  using the command
                           line</b></p>
                     <ul>
                        <li>
                           					
                           <p>Use the <a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/create-fleet.html" target="_blank">create-fleet</a> (AWS CLI) command and the
                              							<code class="code">--generate-cli-skeleton</code> parameter to generate an EC2 Fleet JSON
                              						file:
                           </p>
                           					<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">aws ec2 create-fleet --generate-cli-skeleton</code></pre>
                           					<p>The following EC2 Fleet parameters are available:</p>
                           					<pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
    "DryRun": true, 
    "ClientToken": "", 
    "SpotOptions": {
        "AllocationStrategy": "lowestPrice", 
        "InstanceInterruptionBehavior": "hibernate", 
        "InstancePoolsToUseCount": 0
    }, 
    "OnDemandOptions": {
        "AllocationStrategy": "prioritized"
    }, 
    "ExcessCapacityTerminationPolicy": "termination", 
    "LaunchTemplateConfigs": [
        {
            "LaunchTemplateSpecification": {
                "LaunchTemplateId": "", 
                "LaunchTemplateName": "", 
                "Version": ""
            }, 
            "Overrides": [
                {
                    "InstanceType": "t2.micro", 
                    "MaxPrice": "", 
                    "SubnetId": "", 
                    "AvailabilityZone": "", 
                    "WeightedCapacity": null, 
                    "Priority": null
                }
            ]
        }
    ], 
    "TargetCapacitySpecification": {
        "TotalTargetCapacity": 0, 
        "OnDemandTargetCapacity": 0, 
        "SpotTargetCapacity": 0, 
        "DefaultTargetCapacityType": "spot"
    }, 
    "TerminateInstancesWithExpiration": true, 
    "Type": "maintain", 
    "ValidFrom": "1970-01-01T00:00:00", 
    "ValidUntil": "1970-01-01T00:00:00", 
    "ReplaceUnhealthyInstances": true, 
    "TagSpecifications": [
        {
            "ResourceType": "fleet", 
            "Tags": [
                {
                    "Key": "", 
                    "Value": ""
                }
            ]
        }
    ]
}</code></pre>
                           				</li>
                     </ul>
                     			
                     				
                     <h3 id="ec2-fleet-json-reference">EC2 Fleet JSON Configuration File
                        						Reference
                     </h3>
                     				
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>Use lowercase for all parameter values; otherwise, you get an error when Amazon EC2
                           uses the
                           						JSON file to launch the EC2 Fleet.
                        </p>
                     </div>
                     				
                     <div class="variablelist">
                        					
                        					
                        					
                        					
                        					
                        					
                        					
                        					
                        					
                        					
                        					
                        					
                        					
                        					
                        					
                        					
                        					
                        					
                        					
                        					
                        					
                        					
                        					
                        					
                        				
                        <dl>
                           						
                           <dt><b><span class="term">AllocationStrategy (for SpotOptions)</span></b></dt>
                           						
                           <dd>
                              							
                              <p>(Optional) Indicates how to allocate the Spot Instance target capacity across the
                                 Spot Instance pools
                                 								specified by the EC2 Fleet. Valid values are <code class="code">lowestPrice</code> and
                                 									<code class="code">diversified</code>. The default is
                                 									<code class="code">lowestPrice</code>. Specify the allocation strategy that
                                 								meets your needs. For more information, see <a href="ec2-fleet-configuration-strategies.html#ec2-fleet-allocation-strategy">Allocation Strategy for Spot Instances</a>.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">InstanceInterruptionBehavior</span></b></dt>
                           						
                           <dd>
                              							
                              <p>(Optional) The behavior when a Spot Instance is interrupted. Valid values
                                 								are <code class="code">hibernate</code>, <code class="code">stop</code>, and
                                 									<code class="code">terminate</code>. By default, the Spot service terminates
                                 								Spot Instances when they are interrupted. If the fleet type is
                                 									<code class="code">maintain</code>, you can specify that the Spot service
                                 								hibernates or stops Spot Instances when they are interrupted.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">InstancePoolsToUseCount</span></b></dt>
                           						
                           <dd>
                              							
                              <p>The number of Spot pools across which to allocate your target Spot capacity. Valid
                                 only
                                 								when Spot <b>AllocationStrategy</b> is set
                                 								to <code class="code">lowestPrice</code>. EC2 Fleet selects the cheapest Spot pools
                                 								and evenly allocates your target Spot capacity across the number of
                                 								Spot pools that you specify.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">AllocationStrategy (for OnDemandOptions)</span></b></dt>
                           						
                           <dd>
                              							
                              <p>The order of the launch template overrides to use in fulfilling On-Demand capacity.
                                 If
                                 								you specify <code class="code">lowestPrice</code>, EC2 Fleet uses price to determine
                                 								the order, launching the lowest price first. If you specify
                                 								prioritized, EC2 Fleet uses the priority that you assigned to each launch
                                 								template override, launching the highest priority first. If you do
                                 								not specify a value, EC2 Fleet defaults to
                                 								<code class="code">lowestPrice</code>.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">ExcessCapacityTerminationPolicy</span></b></dt>
                           						
                           <dd>
                              							
                              <p>(Optional) Indicates whether running instances should be
                                 								terminated if the total target capacity of the EC2 Fleet is decreased
                                 								below the current size of the EC2 Fleet. Valid values are
                                 									<code class="code">no-termination</code> and <code class="code">termination</code>.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">LaunchTemplateId</span></b></dt>
                           						
                           <dd>
                              							
                              <p>The ID of the launch template to use. You must specify either the
                                 								launch template ID or launch template name. The launch template must
                                 								specify an Amazon Machine Image (AMI). For more information about
                                 								creating launch templates, see <a href="ec2-launch-templates.html">Launching an Instance from a Launch Template</a>.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">LaunchTemplateName</span></b></dt>
                           						
                           <dd>
                              							
                              <p>The name of the launch template to use. You must specify either the launch template
                                 ID
                                 								or launch template name. The launch template must specify an Amazon
                                 								Machine Image (AMI). For more information, see <a href="ec2-launch-templates.html">Launching an Instance from a Launch Template</a>.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">Version</span></b></dt>
                           						
                           <dd>
                              							
                              <p>The version number of the launch template.</p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">InstanceType</span></b></dt>
                           						
                           <dd>
                              							
                              <p>(Optional) The instance type. If entered, this value overrides the launch template.
                                 The
                                 								instance types must have the minimum hardware specifications that
                                 								you need (vCPUs, memory, or storage).
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">MaxPrice</span></b></dt>
                           						
                           <dd>
                              							
                              <p>(Optional) The maximum price per unit hour that you are willing to pay for a Spot
                                 Instance. If
                                 								entered, this value overrides the launch template. You can use the
                                 								default maximum price (the On-Demand price) or specify the maximum
                                 								price that you are willing to pay. Your Spot Instances are not launched if
                                 								your maximum price is lower than the Spot price for the instance
                                 								types that you specified.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">SubnetId</span></b></dt>
                           						
                           <dd>
                              							
                              <p>(Optional) The ID of the subnet in which to launch the instances.
                                 								If entered, this value overrides the launch template.
                              </p>
                              							
                              <p>To create a new VPC, go the Amazon VPC console. When you are done, return to the
                                 								JSON file and enter the new subnet ID.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">AvailabilityZone</span></b></dt>
                           						
                           <dd>
                              							
                              <p>(Optional) The Availability Zone in which to launch the instances. The default is
                                 to
                                 								let AWS choose the zones for your instances. If you prefer, you can
                                 								specify specific zones. If entered, this value overrides the launch
                                 								template. 
                              </p>
                              							
                              <p>Specify one or more Availability Zones. If you have more than one subnet in a
                                 								zone, specify the appropriate subnet. To add subnets, go to the
                                 								Amazon VPC console. When you are done, return to the JSON file and enter
                                 								the new subnet ID.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">WeightedCapacity</span></b></dt>
                           						
                           <dd>
                              							
                              <p>(Optional) The number of units provided by the specified instance
                                 								type. If entered, this value overrides the launch template.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">Priority</span></b></dt>
                           						
                           <dd>
                              							
                              <p>The priority for the launch template override. If <b>AllocationStrategy</b> is set to
                                 									<code class="code">prioritized</code>, EC2 Fleet uses priority to determine which
                                 								launch template override to use first in fulfilling On-Demand
                                 								capacity. The highest priority is launched first. Valid values are
                                 								whole numbers starting at <code class="code">0</code>. The lower the number, the
                                 								higher the priority. If no number is set, the override has the
                                 								lowest priority.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">TotalTargetCapacity</span></b></dt>
                           						
                           <dd>
                              							
                              <p>The number of instances to launch. You can choose instances or performance
                                 								characteristics that are important to your application workload,
                                 								such as vCPUs, memory, or storage. If the request type is
                                 									<code class="code">maintain</code>, you can specify a target capacity of 0
                                 								and add capacity later.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">OnDemandTargetCapacity</span></b></dt>
                           						
                           <dd>
                              							
                              <p>(Optional) The number of On-Demand Instances to launch. This number must be
                                 								less than the <code class="code">TotalTargetCapacity</code>.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">SpotTargetCapacity</span></b></dt>
                           						
                           <dd>
                              							
                              <p>(Optional) The number of Spot Instances to launch. This number must be less
                                 								than the <code class="code">TotalTargetCapacity</code>.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">DefaultTargetCapacityType</span></b></dt>
                           						
                           <dd>
                              							
                              <p>If the value for <code class="code">TotalTargetCapacity</code> is higher than
                                 								the combined values for <code class="code">OnDemandTargetCapacity</code> and
                                 									<code class="code">SpotTargetCapacity</code>, the difference is launched as
                                 								the instance purchasing model specified here. Valid values are
                                 									<code class="code">on-demand</code> or <code class="code">spot</code>.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">TerminateInstancesWithExpiration</span></b></dt>
                           						
                           <dd>
                              							
                              <p>(Optional) By default, Amazon EC2 terminates your instances when the EC2 Fleet request
                                 expires.
                                 								The default value is <code class="code">true</code>. To keep them running after
                                 								your request expires, do not enter a value for this
                                 								parameter.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">Type</span></b></dt>
                           						
                           <dd>
                              							
                              <p>(Optional) Indicates whether EC2 Fleet only requests the target capacity, or also
                                 attempts
                                 								to maintain it. Valid values are <code class="code">maintain</code> and
                                 									<code class="code">request</code>. The default value is
                                 								<code class="code">maintain</code>. If the value is <code class="code">request</code>, EC2 Fleet
                                 								only places the required requests. It does not attempt to replenish
                                 								instances if capacity is diminished, and does not submit requests in
                                 								alternative capacity pools if capacity is unavailable. If the value
                                 								is <code class="code">maintain</code>, the fleet places the required requests to
                                 								meet the target capacity. It also automatically replenishes any
                                 								interrupted Spot Instances.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">ValidFrom</span></b></dt>
                           						
                           <dd>
                              							
                              <p>(Optional) To create a request that is valid only during a
                                 								specific time period, enter a start date.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">ValidUntil</span></b></dt>
                           						
                           <dd>
                              							
                              <p>(Optional) To create a request that is valid only during a
                                 								specific time period, enter an end date.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">ReplaceUnhealthyInstances</span></b></dt>
                           						
                           <dd>
                              							
                              <p>(Optional) To replace unhealthy instances in an EC2 Fleet that is
                                 								configured to <code class="code">maintain</code> the fleet, enter
                                 									<code class="code">true</code>. Otherwise, leave this parameter empty.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><b><span class="term">TagSpecifications</span></b></dt>
                           						
                           <dd>
                              							
                              <p>(Optional) The key-value pair for tagging the EC2 Fleet request on creation. The value
                                 for
                                 									<code class="code">ResourceType</code> must be <code class="code">fleet</code>, otherwise
                                 								the fleet request fails. To tag instances at launch, specify the
                                 								tags in the <a href="ec2-launch-templates.html#create-launch-template">launch template</a>. For information about tagging after launch, see <a href="Using_Tags.html#tag-resources">Tagging Your Resources</a>.
                              </p>
                              						
                           </dd>
                           					
                        </dl>
                     </div>
                     			
                     		
                     			
                     <h2 id="create-ec2-fleet">Creating an EC2 Fleet</h2>
                     			
                     <p>When you create an EC2 Fleet, you must specify a launch template that includes
                        				information about the instances to launch, such as the instance type, Availability
                        				Zone, and the maximum price you are willing to pay.
                     </p>
                     			
                     <p>You can create an EC2 Fleet that includes multiple launch specifications that override
                        				the launch template. The launch specifications can vary by instance type,
                        				Availability Zone, subnet, and maximum price, and can include a different weighted
                        				capacity.
                     </p>
                     			
                     <p>When you create an EC2 Fleet, use a JSON file to specify information about the instances
                        to
                        				launch. For more information, see <a href="manage-ec2-fleet.html#ec2-fleet-json-reference">EC2 Fleet JSON Configuration File
                           						Reference</a>.
                     </p>
                     			
                     <p class="title"><b>To create an EC2 Fleet using the AWS CLI</b></p>
                     <ul>
                        <li>
                           					
                           <p>Use the following <a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/create-fleet.html" target="_blank">create-fleet</a> (AWS CLI) command to create an EC2 Fleet:
                           </p>
                           				
                        </li>
                     </ul>
                     			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 create-fleet</code></strong> --cli-input-json file://<em class="replaceable"><code>file_name.json</code></em></code></pre>
                     			<p>For example configuration files, see <a href="ec2-fleet-examples.html">EC2 Fleet Example Configurations</a>.
                     </p>
                     			
                     <p>The following is example output:</p>
                     			<pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
    "FleetId": "fleet-12a34b55-67cd-8ef9-ba9b-9208dEXAMPLE"
} </code></pre>
                     		
                     			<h2 id="tag-ec2-fleet">Tagging an EC2 Fleet</h2>
                     			
                     <p>To help categorize and manage your EC2 Fleet requests, you can tag them with custom
                        				metadata. For more information, see <a href="Using_Tags.html">Tagging Your Amazon EC2 Resources</a>.
                     </p>
                     			
                     <p>You can assign a tag to an EC2 Fleet request when you create it, or afterward. Tags
                        assigned to
                        				the fleet request are not assigned to the instances launched by the fleet.
                     </p>
                     			
                     				
                     <p class="title"><b>To tag a new EC2 Fleet request</b></p>
                     				
                     <p>To tag an EC2 Fleet request when you create it, specify the key-value pair in the
                        <a href="manage-ec2-fleet.html#ec2-fleet-cli-skeleton">JSON file</a> used to create the fleet.
                        				The value for <code class="code">ResourceType</code> must be <code class="code">fleet</code>. If you specify
                        				another value, the fleet request fails.
                     </p>
                     			
                     			
                     			
                     				
                     <p class="title"><b>To tag instances launched by an EC2 Fleet</b></p>
                     				
                     <p>To tag instances when they are launched by the fleet, specify the tags in the
                        					<a href="ec2-launch-templates.html#create-launch-template">launch template</a> referenced in the
                        					EC2 Fleet request.
                     </p>
                     			
                     			
                     			
                     				
                     <p class="title"><b>To tag an existing EC2 Fleet request and instance using the AWS CLI</b></p>
                     				
                     <p>Use the following <a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/create-tags.html" target="_blank">create-tags</a>
                        					command to tag existing resources:
                     </p>
                     			
                     			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 create-tags --resources <em class="replaceable"><code>fleet-12a34b55-67cd-8ef9-ba9b-9208dEXAMPLE</code></em> <em class="replaceable"><code>i-1234567890abcdef0</code></em> --tags Key=<em class="replaceable"><code>purpose</code></em>,Value=<em class="replaceable"><code>test</code></em></code></strong></code></pre>
                     		
                     			<h2 id="manage-ec2-fleet">Monitoring Your EC2 Fleet</h2>
                     			
                     <p>The EC2 Fleet launches On-Demand Instances when there is available capacity, and launches
                        Spot Instances when
                        				your maximum price exceeds the Spot price and capacity is available. The On-Demand
                        Instances run
                        				until you terminate them, and the Spot Instances run until they are interrupted
                        or you
                        				terminate them.
                     </p>
                     			
                     <p>The returned list of running instances is refreshed periodically and might be out
                        				of date.
                     </p>
                     			
                     				
                     <p class="title"><b>To monitor your EC2 Fleet using the AWS CLI</b></p>
                     				
                     <p>Use the following <a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-fleet.html" target="_blank">describe-fleets</a> command to describe your EC2 Fleets:
                     </p>
                     			
                     			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 describe-fleets</code></strong></code></pre>
                     			<p>The following is example output:</p>
                     			<pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
    "Fleets": [
        {
            "Type": "maintain", 
            "FulfilledCapacity": 2.0, 
            "LaunchTemplateConfigs": [
                {
                    "LaunchTemplateSpecification": {
                        "Version": "2", 
                        "LaunchTemplateId": "lt-07b3bc7625cdab851"
                    }
                }
            ], 
            "TerminateInstancesWithExpiration": false, 
            "TargetCapacitySpecification": {
                "OnDemandTargetCapacity": 0, 
                "SpotTargetCapacity": 2, 
                "TotalTargetCapacity": 2, 
                "DefaultTargetCapacityType": "spot"
            }, 
            "FulfilledOnDemandCapacity": 0.0, 
            "ActivityStatus": "fulfilled", 
            "FleetId": "fleet-76e13e99-01ef-4bd6-ba9b-9208de883e7f", 
            "ReplaceUnhealthyInstances": false, 
            "SpotOptions": {
                "InstanceInterruptionBehavior": "terminate",
                "InstancePoolsToUseCount": 1, 
                "AllocationStrategy": "lowestPrice"
            }, 
            "FleetState": "active", 
            "ExcessCapacityTerminationPolicy": "termination", 
            "CreateTime": "2018-04-10T16:46:03.000Z"
        }
    ]
}</code></pre>
                     			<p>Use the following <a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-fleet-instances.html" target="_blank">describe-fleet-instances</a> command to describe the instances for the
                        				specified EC2 Fleet:
                     </p>
                     			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 describe-fleet-instances --fleet-id <em class="replaceable"><code>fleet-73fbd2ce-aa30-494c-8788-1cee4EXAMPLE</code></em></code></strong></code></pre>
                     			<pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
    "ActiveInstances": [
        {
            "InstanceId": "i-09cd595998cb3765e", 
            "InstanceHealth": "healthy", 
            "InstanceType": "m4.large", 
            "SpotInstanceRequestId": "sir-86k84j6p"
        }, 
        {
            "InstanceId": "i-09cf95167ca219f17", 
            "InstanceHealth": "healthy", 
            "InstanceType": "m4.large", 
            "SpotInstanceRequestId": "sir-dvxi7fsm"
        }
    ], 
    "FleetId": "fleet-73fbd2ce-aa30-494c-8788-1cee4EXAMPLE"
}</code></pre>
                     			<p>Use the following <a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-spot-fleet-request-history.html" target="_blank">describe-fleet-history</a> command to describe the history for the
                        				specified EC2 Fleet for the specified time: 
                     </p>
                     			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 describe-fleet-history --fleet-request-id <em class="replaceable"><code>fleet-73fbd2ce-aa30-494c-8788-1cee4EXAMPLE</code></em> --start-time 2018-04-10T00:00:00Z</code></strong></code></pre>
                     			<pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
    "HistoryRecords": [], 
    "FleetId": "fleet-73fbd2ce-aa30-494c-8788-1cee4EXAMPLE", 
    "LastEvaluatedTime": "1970-01-01T00:00:00.000Z", 
    "StartTime": "2018-04-09T23:53:20.000Z"
}</code></pre>
                     		
                     			<h2 id="modify-ec2-fleet">Modifying an EC2 Fleet</h2>
                     			
                     <p>You can modify an EC2 Fleet that is in the <code class="code">submitted</code> or <code class="code">active</code> state.
                        				When you modify a fleet, it enters the <code class="code">modifying</code> state.
                     </p>
                     			
                     <p>You can modify the following parameters of an EC2 Fleet:</p>
                     			
                     <div class="itemizedlist">
                        				
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              					
                              <p><code class="code">target-capacity-specification</code> – Increase or decrease the target
                                 						capacity for <code class="code">TotalTargetCapacity</code>,
                                 							<code class="code">OnDemandTargetCapacity</code>,  and
                                 							<code class="code">SpotTargetCapacity</code>.
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p><code class="code">excess-capacity-termination-policy</code> – Whether running instances should
                                 						be terminated if the total target capacity of the EC2 Fleet is decreased below
                                 						the current size of the fleet. Valid values are <code class="code">no-termination</code>
                                 						and <code class="code">termination</code>.
                              </p>
                              				
                           </li>
                        </ul>
                     </div>
                     			
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>You can only modify an EC2 Fleet that has
                           					<code class="code">Type</code>=<code class="code">maintain</code>.
                        </p>
                     </div>
                     			
                     <p>When you increase the target capacity, the EC2 Fleet launches the additional instances
                        				according to the instance purchasing model specified for
                        					<code class="code">DefaultTargetCapacityType</code>, which are either On-Demand Instances or Spot Instances.
                     </p>
                     			
                     <p>If the <code class="code">DefaultTargetCapacityType</code> is <code class="code">spot</code>, the EC2 Fleet launches the
                        				additional Spot Instances according to its allocation strategy. If the allocation
                        strategy is
                        					<code class="code">lowestPrice</code>, the fleet launches the instances from the
                        				lowest-priced Spot Instance pool in the request. If the allocation strategy is
                        					<code class="code">diversified</code>, the fleet distributes the instances across the pools
                        				in the request.
                     </p>
                     			
                     <p>When you decrease the target capacity, the EC2 Fleet deletes any open requests that
                        exceed the
                        				new target capacity. You can request that the fleet terminate instances until
                        the
                        				size of the fleet reaches the new target capacity. If the allocation strategy
                        is
                        					<code class="code">lowestPrice</code>, the fleet terminates the instances with the highest
                        				price per unit. If the allocation strategy is <code class="code">diversified</code>, the fleet
                        				terminates instances across the pools. Alternatively, you can request that EC2
                        Fleet keep
                        				the fleet at its current size, but not replace any Spot Instances that are interrupted
                        or any
                        				instances that you terminate manually.
                     </p>
                     			
                     <p>When an EC2 Fleet terminates a Spot Instance because the target capacity was decreased,
                        the
                        				instance receives a Spot Instance interruption notice.
                     </p>
                     			
                     				
                     <p class="title"><b>To modify an EC2 Fleet using the AWS CLI</b></p>
                     				
                     <p>Use the following <a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-spot-fleet-request.html" target="_blank">modify-fleet</a> command to update the target capacity of the specified
                        					EC2 Fleet:
                     </p>
                     			
                     			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 modify-fleet --fleet-id <em class="replaceable"><code>fleet-73fbd2ce-aa30-494c-8788-1cee4EXAMPLE</code></em> --target-capacity-specification TotalTargetCapacity=<em class="replaceable"><code>20</code></em></code></strong></code></pre>
                     			<p>If you are decreasing the target capacity but want to keep the fleet at its
                        				current size, you can modify the previous command as follows:
                     </p>
                     			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 modify-fleet --fleet-id <em class="replaceable"><code>fleet-73fbd2ce-aa30-494c-8788-1cee4EXAMPLE</code></em> --target-capacity-specification TotalTargetCapacity=<em class="replaceable"><code>10</code></em></code></strong> --excess-capacity-termination-policy no-termination</code></pre>
                     		
                     			<h2 id="delete-fleet">Deleting an EC2 Fleet</h2>
                     			
                     <p>If you no longer require an EC2 Fleet, you can delete it. After you delete a fleet,
                        it launches
                        				no new instances.
                     </p>
                     			
                     <p>You must specify whether the EC2 Fleet must terminate its instances. If you specify
                        that the
                        				instances must be terminated when the fleet is deleted, it enters the
                        					<code class="code">deleted_terminating</code> state. Otherwise, it enters the
                        					<code class="code">deleted_running</code> state, and the instances continue to run until they
                        				are interrupted or you terminate them manually.
                     </p>
                     			
                     				
                     <p class="title"><b>To delete an EC2 Fleet using the AWS CLI</b></p>
                     				
                     <p>Use the <a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/cancel-spot-fleet-requests.html" target="_blank">delete-fleets</a> command and the <code class="code">--terminate-instances</code> parameter to
                        					delete the specified EC2 Fleet and terminate the instances:
                     </p>
                     			
                     			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 delete-fleets --fleet-ids <em class="replaceable"><code>fleet-73fbd2ce-aa30-494c-8788-1cee4EXAMPLE</code></em> --terminate-instances</code></strong></code></pre>
                     			<p>The following is example output:</p>
                     			<pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
    "UnsuccessfulFleetDeletions": [], 
    "SuccessfulFleetDeletions": [
        {
            "CurrentFleetState": "deleted_terminating", 
            "PreviousFleetState": "active", 
            "FleetId": "fleet-73fbd2ce-aa30-494c-8788-1cee4EXAMPLE"
        }
    ]
}</code></pre>
                     			<p>You can modify the previous command using the <code class="code">--no-terminate-instances</code>
                        				parameter to delete the specified EC2 Fleet without terminating the instances:
                     </p>
                     			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 delete-fleets --fleet-ids <em class="replaceable"><code>fleet-73fbd2ce-aa30-494c-8788-1cee4EXAMPLE</code></em> --no-terminate-instances</code></strong></code></pre>
                     			<p>The following is example output:</p>
                     			<pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
    "UnsuccessfulFleetDeletions": [], 
    "SuccessfulFleetDeletions": [
        {
            "CurrentFleetState": "deleted_running", 
            "PreviousFleetState": "active", 
            "FleetId": "fleet-4b8aaae8-dfb5-436d-a4c6-3dafa4c6b7dcEXAMPLE"
        }
    ]
}</code></pre>
                     		</div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="ec2-fleet-configuration-strategies.html">« Previous </a><a class="awstoc" accesskey="n" href="ec2-fleet-examples.html">Next »</a></div>
                     <div id="copyright-main-footer">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="EC2 Fleet Request States"><a class="pagetoc" href="#EC2-fleet-states">EC2 Fleet Request States</a></li>
                        <li class="pagetoc" name="EC2 Fleet Prerequisites"><a class="pagetoc" href="#ec2-fleet-prerequisites">EC2 Fleet Prerequisites</a></li>
                        <li class="pagetoc" name="EC2 Fleet Health Checks"><a class="pagetoc" href="#ec2-fleet-health-checks">EC2 Fleet Health Checks</a></li>
                        <li class="pagetoc" name="Generating an EC2 Fleet JSON Configuration&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;File"><a class="pagetoc" href="#ec2-fleet-cli-skeleton">Generating an EC2 Fleet JSON Configuration
                              					File</a></li>
                        <li class="pagetoc" name="Creating an EC2 Fleet"><a class="pagetoc" href="#create-ec2-fleet">Creating an EC2 Fleet</a></li>
                        <li class="pagetoc" name="Tagging an EC2 Fleet"><a class="pagetoc" href="#tag-ec2-fleet">Tagging an EC2 Fleet</a></li>
                        <li class="pagetoc" name="Monitoring Your EC2 Fleet"><a class="pagetoc" href="#manage-ec2-fleet">Monitoring Your EC2 Fleet</a></li>
                        <li class="pagetoc" name="Modifying an EC2 Fleet"><a class="pagetoc" href="#modify-ec2-fleet">Modifying an EC2 Fleet</a></li>
                        <li class="pagetoc" name="Deleting an EC2 Fleet"><a class="pagetoc" href="#delete-fleet">Deleting an EC2 Fleet</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using our site, you consent
            to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      <div id="footer">
         <div id="footer_short_fb" class="hide" title="Feedback"><a target="_blank" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EC2&amp;topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/manage-ec2-fleet.html&amp;hidden_guide_name=User Guide for Linux Instances&amp;hidden_api_version=&amp;hidden_file_name=manage-ec2-fleet"><i class="awsdocs-footer-text fa fa-envelope-o"></i></a></div>
         <div id="footer_toggle" class="mediaobject">
            <div id="footer_toggle_img" class="awsdocs-footer-text fa fa-caret-down"></div>
            <div id="footer_toggle_img_collapse" class="hide awsdocs-footer-text fa fa-caret-right"></div>
         </div>
         <div id="footer-left"><a class="awsdocs-footer-text" target="_top" href="http://aws.amazon.com/terms">Terms of Use</a><span class="awsdocs-footer-text"> | </span><a class="awsdocs-footer-text" target="_top" href="http://aws.amazon.com/privacy">Privacy</a><span class="awsdocs-footer-text"> | </span><span class="awsdocs-footer-text">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</span></div>
         <div id="footer-right">
            <div id="feedback">
               <div id="forums"><a id="forum_link" target="_blank" href="http://forums.aws.amazon.com/forum.jspa?forumID=30" class="awsdocs-footer-text">Have a question? Try the Forums.</a></div>
               <div id="feedback-message" class="awsdocs-footer-text">Did this page help you?</div>
               <div id="feedback-yesno-buttons"><a class="awstoc btn btn-default" target="_blank" href="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/manage-ec2-fleet.html">Yes</a><a class="awstoc btn btn-default" target="_blank" href="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/manage-ec2-fleet.html">No</a></div>
               <div id="feedback-feedback-button"><a class="awstoc btn btn-default" target="_blank" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EC2&amp;topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/manage-ec2-fleet.html&amp;hidden_guide_name=User Guide for Linux Instances&amp;hidden_api_version=&amp;hidden_file_name=manage-ec2-fleet">Feedback</a></div>
            </div>
         </div>
      </div>
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon Elastic Compute Cloud';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide for Linux Instances';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   </body>
</html>