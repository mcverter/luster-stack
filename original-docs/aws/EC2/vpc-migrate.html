<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Migrating from a Linux Instance in EC2-Classic to a Linux Instance in a VPC - Amazon Elastic Compute Cloud</title>
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="home" href="#top" />
      <link rel="up" href="ec2-classic-platform.html" title="EC2-Classic" />
      <link rel="prev" href="vpc-classiclink.html" title="ClassicLink" />
      <link rel="next" href="Storage.html" title="Storage" />
      <meta name="description" content="Migrate from EC2-Classic to a VPC." />
      <meta name="keywords" content="EC2,Amazon EC2,EC2 instance,instance,VM,virtual machine" />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="Amazon Elastic Compute Cloud" />
      <meta name="guide" content="User Guide for Linux Instances" />
      <meta name="guide-locale" content="en_us" />
      <link rel="icon" type="image/ico" href="/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/vpc-migrate.html" />
      <link rel="stylesheet" type="text/css" href="/css/jquery-ui.min.css" />
      <link rel="stylesheet" type="text/css" href="/font/css/font-awesome.min.css" />
      <link rel="stylesheet" type="text/css" href="/css/google-font.css" />
      <link id="code-style" rel="stylesheet" type="text/css" href="/css/code/light.css" />
      <link rel="stylesheet" type="text/css" href="/css/jquery-ui.theme.css" />
      <link rel="stylesheet" type="text/css" href="/css/colorbox.css" />
      <link rel="stylesheet" type="text/css" href="/css/awsdocs.css?v=20170615" /><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      <div xmlns:db="http://docbook.org/ns/docbook" id="aws-nav" class="aws-nav-header">
         <div class="aws-nav-header-left">
            <div id="aws-nav-flyout-trigger" class="aws-nav-flyout-trigger"><i class="fa fa-bars fa-2x"></i></div>
            <div class="aws-nav-logo">
               <!--aws_logo_105x39.png--><a href="http://aws.amazon.com"><img src="/images/aws_logo_105x39.png" alt="Amazon Web Services" /></a></div>
         </div>
         <div id="aws-nav-header-right" class="aws-nav-header-right">
            <div class="aws-nav-cta-button-outer"><a id="aws-nav-cta-button" class="aws-nav-button" href="https://console.aws.amazon.com/console/home">Sign In to the Console</a></div>
            <div class="aws-nav-popover-trigger" data-dropdown="aws-nav-dropdown-lang"><select id="languageSelection" onchange="SelectLanguage()">
                  <option value="/de_de/AWSEC2/latest/UserGuide/vpc-migrate.html">Deutsch</option>
                  <option value="/en_us/AWSEC2/latest/UserGuide/vpc-migrate.html" selected="selected">English</option>
                  <option value="/es_es/AWSEC2/latest/UserGuide/vpc-migrate.html">Español</option>
                  <option value="/fr_fr/AWSEC2/latest/UserGuide/vpc-migrate.html">Français</option>
                  <option value="/it_it/AWSEC2/latest/UserGuide/vpc-migrate.html">Italiano</option>
                  <option value="/ja_jp/AWSEC2/latest/UserGuide/vpc-migrate.html">日本語</option>
                  <option value="/ko_kr/AWSEC2/latest/UserGuide/vpc-migrate.html">한국어</option>
                  <option value="/pt_br/AWSEC2/latest/UserGuide/vpc-migrate.html">Português</option>
                  <option value="/zh_cn/AWSEC2/latest/UserGuide/vpc-migrate.html">中文 (简体)</option>
                  <option value="/zh_tw/AWSEC2/latest/UserGuide/vpc-migrate.html">中文 (繁體)</option></select></div><a class="btn btn-rss-link" id="rss-link-top" target="_blank" href="amazon-ec2-release-notes.rss" title="View RSS Feed"></a><a class="btn btn-kindle-link" id="kindle-link-top" target="_blank" href="http://www.amazon.com/dp/B076452RSZ" title="Open Kindle"></a><a class="btn btn-pdf-link" id="pdf-link-top" href="ec2-ug.pdf#vpc-migrate" target="_blank" title="Open PDF"></a><a class="btn btn-github-link" id="github-link-top" href="https://github.com/awsdocs/amazon-ec2-user-guide/tree/master/doc_source/vpc-migrate.md" target="_blank" title="Edit on GitHub"></a><div id="aws-nav-quicklinks-separator" class="aws-nav-quicklinks-separator">
               <div class="aws-nav-left"></div>
               <div class="aws-nav-right"></div>
            </div>
         </div>
         <div xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" id="topnav-flyout-menu-container">
            <ul id="topnav-flyout-menu"><script id="flyout-item-template" type="text/x-handlebars-template">
                    {{#flyoutList}}

                        {{#if topTarget}}
                            <li class="awsdocs-flyout-link-wrapper"><a href="{{topTarget}}">{{listItem}}</a></li>
                        {{else}}
                            <li>{{listItem}}
                                {{#if subList}}
                                <ul>
                                    {{#subList}}
                                    <li class="awsdocs-flyout-link-wrapper"><a href="{{target}}">{{text}}</a></li>
                                    {{/subList}}
                                </ul>
                                {{/if}}
                            </li>
                        {{/if}}

                    {{/flyoutList}}
                </script></ul>
            <div id="topnav-flyout-menu-spacer"></div>
         </div>
      </div>
      <div id="content-container">
         <div id="left-column">
            <div id="left-col-header">
               <div xmlns:db="http://docbook.org/ns/docbook" id="left-col-top-content">
                  <div id="service-name">Amazon Elastic Compute Cloud </div>
                  <div id="search"><i id="search-icon" class="fa fa-search fa-2x"></i></div>
                  <div id="guide-info">User Guide for Linux Instances
                     <div id="content-button"><i id="toggle-contents" class="fa fa-bars"></i></div>
                  </div>
               </div>
               <form id="finegrainedSearch" method="get" onsubmit="return searchFormSubmit(this);" action="/search/doc-search.html">
                  <div id="search-form"><select id="search-select" name="searchPath">
                        <option value="all">Entire Site</option>
                        <option value="AWSMarketplace">AMIs from AWS Marketplace</option>
                        <option value="amis">AMIs from All Sources</option>
                        <option value="articles">Articles &amp; Tutorials</option>
                        <option value="products_and_info">AWS Product Information</option>
                        <option value="case_studies">Case Studies</option>
                        <option value="customerapps">Customer Apps</option>
                        <option value="documentation">Documentation</option>
                        <option value="documentation-product">Documentation - This Product</option>
                        <option value="documentation-guide" selected="selected">Documentation - This Guide</option>
                        <option value="datasets">Public Data Sets</option>
                        <option value="releasenotes">Release Notes</option>
                        <option value="solution_providers">Partners</option>
                        <option value="code">Sample Code &amp; Libraries</option></select><br /><input id="search-query" name="searchQuery" type="text" placeholder="Search" /><input id="search-button" src="/images/search-button.png" alt="Go" type="image" /></div><input type="hidden" name="this_doc_product" id="this_doc_product" value="Amazon Elastic Compute Cloud" /><input type="hidden" name="this_doc_guide" id="this_doc_guide" value="User Guide for Linux Instances" /><input type="hidden" name="doc_locale" value="en_us" /></form>
            </div>
            <div id="toc">
               <ul class="awstoc">
                  <li class="awstoc closed"><a class="awstoc" href="concepts.html">What Is Amazon EC2?</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-instances-and-amis.html">Instances and AMIs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="using-regions-availability-zones.html">Regions and Availability Zones</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="RootDeviceStorage.html">Root Device Volume</a></li>
                     </ul>
                  </li>
                  <li class="awstoc leaf"><a class="awstoc" href="get-set-up-for-amazon-ec2.html">Setting Up</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="EC2_GetStarted.html">Getting Started</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="ec2-best-practices.html">Best Practices</a></li>
                  <li class="awstoc closed"><a class="awstoc" href="ec2-tutorials.html">Tutorials</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-lamp-amazon-linux-2.html">Install a LAMP Server (Amazon Linux 2)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="install-LAMP.html">Install a LAMP Server (Amazon Linux AMI)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="hosting-wordpress.html">Tutorial: Hosting a WordPress Blog</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="SSL-on-an-instance.html">Tutorial: Configure Apache Web Server on Amazon Linux 2 to Use SSL/TLS</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-increase-availability.html">Tutorial: Increase the Availability of Your Application</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="tutorial_run_command.html">Tutorial: Remotely Manage Your Instances</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="AMIs.html">Amazon Machine Images</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ComponentsAMIs.html">AMI Types</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="virtualization_types.html">Virtualization Types</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="finding-an-ami.html">Finding a Linux AMI</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="sharing-amis.html">Shared AMIs</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="usingsharedamis-finding.html">Finding Shared AMIs</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="sharingamis-intro.html">Making an AMI Public</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="sharingamis-explicit.html">Sharing an AMI with Specific AWS Accounts</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="using-bookmarks.html">Using Bookmarks</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="building-shared-amis.html">Guidelines for Shared Linux AMIs</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="paid-amis.html">Paid AMIs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="creating-an-ami-ebs.html">Creating an Amazon EBS-Backed Linux AMI</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="creating-an-ami-instance-store.html">Creating an Instance Store-Backed Linux AMI</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="set-up-ami-tools.html">Setting Up the AMI Tools</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="create-instance-store-ami.html">Creating an AMI from an Instance Store-Backed Instance</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="Using_ConvertingS3toEBS.html">Converting to an Amazon EBS-Backed AMI</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ami-tools-commands.html">AMI Tools Reference</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="AMIEncryption.html">AMIs with Encrypted Snapshots</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="CopyingAMIs.html">Copying an AMI</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="deregister-ami.html">Deregistering Your Linux AMI</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="amazon-linux-ami-basics.html">Amazon Linux</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="amazon-linux-2-virtual-machine.html">Running Amazon Linux 2 as a Virtual Machine On-Premises</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="UserProvidedKernels.html">User Provided Kernels</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="Instances.html">Instances</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="instance-types.html">Instance Types</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="burstable-performance-instances.html">Burstable Performance Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="burstable-credits-baseline-concepts.html">CPU Credits and Baseline Performance</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="burstable-performance-instances-unlimited-mode.html">Unlimited Mode</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="unlimited-mode-examples.html">Examples</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc closed"><a class="awstoc" href="burstable-performance-instances-standard-mode.html">Standard Mode</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="standard-mode-examples.html">Examples</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc leaf"><a class="awstoc" href="burstable-performance-instances-how-to.html">Working with Burstable Performance Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="burstable-performance-instances-monitoring-cpu-credits.html">Monitoring Your CPU Credits</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="general-purpose-instances.html">General Purpose Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="compute-optimized-instances.html">Compute Optimized Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="memory-optimized-instances.html">Memory Optimized Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="storage-optimized-instances.html">Storage Optimized Instances</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="accelerated-computing-instances.html">Accelerated Computing Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="install-nvidia-driver.html">Installing the NVIDIA Driver on Linux Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="activate_grid.html">Activate NVIDIA GRID Virtual Applications (G3 Instances Only)</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="optimize_gpu.html">Optimizing GPU Settings (P2, P3, and G3 Instances)</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="fpga-getting-started.html">Getting Started with FPGA Development</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="concepts_micro_instances.html">T1 Micro Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-instance-resize.html">Changing the Instance Type</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="instance-optimize-cpu.html">Optimizing CPU Options</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="instance-purchasing-options.html">Instance Purchasing Options</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="ec2-reserved-instances.html">Reserved Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="reserved-instances-types.html">Types of Reserved Instances (Offering Classes)</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="apply_ri.html">How Reserved Instances Are Applied</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="concepts-reserved-instances-application.html">How You Are Billed</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-market-concepts-buying.html">Buying Reserved Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-market-general.html">Selling on the Reserved Instance Marketplace</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-modifying.html">Modifying Reserved Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-convertible-exchange.html">Exchanging Convertible Reserved Instances</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-scheduled-instances.html">Scheduled Instances</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="using-spot-instances.html">Spot Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="how-spot-instances-work.html">How Spot Instances Work</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-fleet.html">How Spot Fleet Works</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="using-spot-instances-history.html">Spot Instance Pricing History</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="spot-requests.html">Spot Instance Requests</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-request-examples.html">Example Launch Specifications</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc closed"><a class="awstoc" href="spot-fleet-requests.html">Spot Fleet Requests</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-examples.html">Example Configurations</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-cloudwatch-metrics.html">CloudWatch Metrics for Spot Fleet</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="spot-fleet-automatic-scaling.html">Automatic Scaling for Spot Fleet</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-target-tracking.html">Target Tracking Scaling Policies</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-step-scaling.html">Step Scaling Policies</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-scheduled-scaling.html">Scheduled Scaling</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-bid-status.html">Spot Request Status</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-interruptions.html">Spot Instance Interruptions</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-data-feeds.html">Spot Instance Data Feed</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="using-spot-limits.html">Spot Instance Limits</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="dedicated-hosts-overview.html">Dedicated Hosts</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="how-dedicated-hosts-work.html">Working with Dedicated Hosts</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="dedicated-hosts-aws-config.html">Tracking Configuration Changes</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="dedicated-instance.html">Dedicated Instances</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="ec2-instance-lifecycle.html">Instance Lifecycle</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="LaunchingAndUsingInstances.html">Launch</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="launching-instance.html">Launching an Instance Using the Launch Instance Wizard</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ec2-launch-templates.html">Launching an Instance from a Launch Template</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="launch-more-like-this.html">Launching an Instance From an Existing Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="instance-launch-snapshot.html">Launching a Linux Instance from a Backup</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="launch-marketplace-console.html">Launching an AWS Marketplace Instance</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="ec2-fleet.html">Launching an EC2 Fleet</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="ec2-fleet-configuration-strategies.html">EC2 Fleet Configuration Strategies</a></li>
                                          <li class="awstoc closed"><a class="awstoc" href="manage-ec2-fleet.html">Managing an EC2 Fleet</a><ul class="awstoc">
                                                <li class="awstoc leaf"><a class="awstoc" href="ec2-fleet-examples.html">Example Configurations</a></li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="AccessingInstances.html">Connect</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="AccessingInstancesLinux.html">Connect Using SSH</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="putty.html">Connect Using PuTTY</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="WSL.html">Connect Using WSL</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="mindterm.html">Connect Using MindTerm</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="Stop_Start.html">Stop and Start</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-instance-reboot.html">Reboot</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="instance-retirement.html">Retire</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="terminating-instances.html">Terminate</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-instance-recover.html">Recover</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="Configure_Instance.html">Configure Instances</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="managing-software.html">Managing Software</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="install-updates.html">Updating Instance Software</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="add-repositories.html">Adding Repositories</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="find-software.html">Finding Software Packages</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="install-software.html">Installing Software Packages</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="compile-software.html">Preparing to Compile Software</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="managing-users.html">Managing Users</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="processor_state_control.html">Processor State Control</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="set-time.html">Setting the Time</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="set-hostname.html">Changing the Hostname</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="dynamic-dns.html">Setting Up Dynamic DNS</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="user-data.html">Running Commands at Launch</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="ec2-instance-metadata.html">Instance Metadata and User Data</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="instance-identity-documents.html">Instance Identity Documents</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="identify_ec2_instances.html">Identify Instances</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="monitoring_ec2.html">Monitoring</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="monitoring_automated_manual.html">Automated and Manual Monitoring</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="monitoring_best_practices.html">Best Practices for Monitoring</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="monitoring-instances-status-check.html">Monitoring the Status of Your Instances</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="monitoring-system-instance-status-check.html">Instance Status Checks</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="monitoring-instances-status-check_sched.html">Scheduled Events</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="using-cloudwatch.html">Monitoring Your Instances Using CloudWatch</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="using-cloudwatch-new.html">Enable Detailed Monitoring</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="viewing_metrics_with_cloudwatch.html">List Available Metrics</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="monitoring_get_statistics.html">Get Statistics for Metrics</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="US_SingleMetricPerInstance.html">Get Statistics for a Specific Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="GetSingleMetricAllDimensions.html">Aggregate Statistics Across Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="GetMetricAutoScalingGroup.html">Aggregate Statistics by Auto Scaling Group</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="US_SingleMetricPerAMI.html">Aggregate Statistics by AMI</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="graphs-in-the-aws-management-console.html">Graph Metrics</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="using-cloudwatch-createalarm.html">Create an Alarm</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="UsingAlarmActions.html">Create Alarms That Stop, Terminate, Reboot, or Recover an Instance</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="automating_with_cloudwatch_events.html">Automating Amazon EC2 with CloudWatch Events</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="mon-scripts.html">Monitoring Memory and Disk Metrics</a></li>
                     </ul>
                  </li>
                  <li class="awstoc opened"><a class="awstoc" href="EC2_Network_and_Security.html">Network and Security</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-key-pairs.html">Key Pairs</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="using-network-security.html">Security Groups</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="security-group-rules-reference.html">Security Group Rules Reference</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="UsingIAM.html">Controlling Access</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="iam-policies-for-amazon-ec2.html">IAM Policies</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="iam-policy-structure.html">Policy Structure</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ec2-supported-iam-actions-resources.html">Supported Resource-Level Permissions</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ExamplePolicies_EC2.html">Example Policies for CLI or SDK</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="iam-policies-ec2-console.html">Example Policies for the Console</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="iam-roles-for-amazon-ec2.html">IAM Roles</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="authorizing-access-to-an-instance.html">Network Access</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="using-instance-addressing.html">Instance IP Addressing</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="MultipleIP.html">Multiple IP Addresses</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="elastic-ip-addresses-eip.html">Elastic IP Addresses</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="using-eni.html">Network Interfaces</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="requester-managed-eni.html">Requester-Managed Network Interfaces</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="enhanced-networking.html">Enhanced Networking</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="sriov-networking.html">Enhanced Networking: Intel 82599 VF</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="enhanced-networking-ena.html">Enhanced Networking: ENA</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-ena.html">Troubleshooting ENA</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="placement-groups.html">Placement Groups</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="network_mtu.html">Network MTU</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="using-vpc.html">Virtual Private Clouds</a></li>
                        <li class="awstoc opened"><a class="awstoc" href="ec2-classic-platform.html">EC2-Classic</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="vpc-classiclink.html">ClassicLink</a></li>
                              <li class="awstoc leaf"><a class="awstoc selected" href="vpc-migrate.html">Migrating from EC2-Classic to a VPC</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="Storage.html">Storage</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="AmazonEBS.html">Amazon EBS</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="EBSVolumes.html">EBS Volumes</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="EBSVolumeTypes.html">EBS Volume Types</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-creating-volume.html">Creating a Volume</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-restoring-volume.html">Restoring from a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-attaching-volume.html">Attaching a Volume to an Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-using-volumes.html">Making a Volume Available for Use</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-describing-volumes.html">Volume Information</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="monitoring-volume-status.html">Monitoring the Status of Your Volumes</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-detaching-volume.html">Detaching a Volume from an Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-deleting-volume.html">Deleting a Volume</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="ebs-modify-volume.html">Modifying a Volume</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="volume_constraints.html">Volume Size Constraints</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="console-modify.html">Using the Console</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="cli-modify.html">Using the CLI</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="monitoring_mods.html">Monitoring Progress</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="expand-linux-partition.html">Expanding a Linux Partition</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="recognize-expanded-volume-linux.html">Extending Linux File Systems</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="limitations.html">Limitations</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="stop-start.html">Appendix: Manual Stop/Start Modification</a></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="EBSSnapshots.html">EBS Snapshots</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-creating-snapshot.html">Creating a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-deleting-snapshot.html">Deleting a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-copy-snapshot.html">Copying a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-describing-snapshots.html">Viewing Snapshot Information</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-modifying-snapshot-permissions.html">Sharing a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="snapshot-lifecycle.html">Automating Snapshots</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="EBSOptimized.html">EBS Optimization</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="EBSEncryption.html">EBS Encryption</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="nvme-ebs-volumes.html">EBS Volumes and NVMe</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="EBSPerformance.html">EBS Performance</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-ec2-config.html">EC2 Configuration</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-io-characteristics.html">I/O Characteristics and Monitoring</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-initialize.html">Initialize Volumes</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="raid-config.html">RAID Configuration</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="benchmark_procedures.html">Benchmark EBS Volumes</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="ebs-cloud-watch-events.html">EBS CloudWatch Events</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="InstanceStorage.html">Instance Store</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="add-instance-store-volumes.html">Add Instance Store Volumes</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ssd-instance-store.html">SSD Instance Store Volumes</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="instance-store-swap-volumes.html">Instance Store Swap Volumes</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="disk-performance.html">Optimizing Disk Performance</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="AmazonEFS.html">Amazon EFS</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="AmazonS3.html">Amazon S3</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="volume_limits.html">Instance Volume Limits</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="device_naming.html">Device Naming</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="block-device-mapping-concepts.html">Block Device Mapping</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="using-public-data-sets.html">Using Public Data Sets</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="EC2_Resources.html">Resources and Tags</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="resources.html">Resource Locations</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="resource-ids.html">Resource IDs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="Using_Filtering.html">Listing and Filtering Your Resources</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="Using_Tags.html">Tagging Your Resources</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-resource-limits.html">Service Limits</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="usage-reports.html">Usage Reports</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="Linux-Server-EC2Rescue.html">EC2Rescue for Linux</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_install.html">Installing EC2Rescue for Linux</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_verify.html">(Optional) Verify the Signature of EC2Rescue for Linux</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_working.html">Working with EC2Rescue for Linux</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_moduledev.html">Developing EC2Rescue Modules</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="ec2-instance-troubleshoot.html">Troubleshooting</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-launch.html">Troubleshooting Launch Issues</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstancesConnecting.html">Connecting to Your Instance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstancesStopping.html">Stopping Your Instance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstancesShuttingDown.html">Terminating Your Instance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstanceRecovery.html">Instance Recovery Failures</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstances.html">Failed Status Checks</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="instance-console.html">Getting Console Output and Rebooting Instances</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="instance-booting-from-wrong-volume.html">Booting from the Wrong Volume</a></li>
                     </ul>
                  </li>
                  <li class="awstoc leaf"><a class="awstoc" href="DocumentHistory.html">Document History</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="glossary.html">AWS Glossary</a></li>
                  <li id="toc-additional-links"><a class="btn btn-pdf-link" id="pdf-link-alt" href="ec2-ug.pdf#top" target="_blank" title="Open PDF"></a><a class="btn btn-kindle-link" id="kindle-link-alt" target="_blank" href="http://www.amazon.com/dp/B076452RSZ" title="Open Kindle"></a><a class="btn btn-rss-link" id="rss-link-alt" target="_blank" href="amazon-ec2-release-notes.rss" title="View RSS Feed"></a></li>
               </ul>
            </div>
         </div>
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> » <a href="/ec2/index.html">Amazon EC2</a> » <a href="index.html">User Guide for Linux Instances</a> » <a href="EC2_Network_and_Security.html">Network and Security</a> » <a href="ec2-classic-platform.html">EC2-Classic</a> » <span class="breadcrumb">Migrating from a Linux Instance in EC2-Classic to a Linux Instance in a VPC</span></div>
                           </td>
                        </tr>
                     </table>
                     <div></div>
                     <h1 class="topictitle" id="vpc-migrate">Migrating from a <span>Linux</span> Instance in EC2-Classic to a <span>Linux</span> Instance in a VPC
                     </h1>
                     <p>If you created your AWS account before 2013-12-04, you might have support for EC2-Classic
                        in some
                        		regions. Some Amazon EC2 resources and features, such as enhanced networking and
                        newer instance types, 
                        		require a virtual private cloud (VPC). Some resources can be shared between EC2-Classic
                        and a VPC, 
                        		while some can't. For more information, see <a href="ec2-classic-platform.html#vpc-classic-shared-resources">Sharing and Accessing Resources Between EC2-Classic and a VPC</a>.
                     </p>
                     <p>If your account supports EC2-Classic, you might have set up resources for use in EC2-Classic.
                        
                        		If you want to migrate from EC2-Classic to a VPC, you must recreate those resources
                        in your VPC.
                     </p>
                     <p>There are two ways of migrating to a VPC. You can do a full migration,
                        		or you can do an incremental migration over time. The method you
                        		choose depends on the size and complexity of your application in EC2-Classic. For
                        example, if
                        		your application consists of one or two instances running a static website, and
                        you can afford a
                        		short period of downtime, you can do a full migration. If you have a multi-tier
                        application
                        		with processes that cannot be interrupted, you can do an incremental migration using
                        		ClassicLink. This allows you to transfer functionality one component at a time until
                        your
                        		application is running fully in your VPC.
                     </p>
                     <p>If you need to migrate a Windows instance,
                        		see <a href="https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/vpc-migrate.html" target="_blank">Migrating a Windows Instance from EC2-Classic to a VPC</a>
                        		in the <em>Amazon EC2 User Guide for Windows Instances</em>.
                     </p>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Contents</strong></p>
                        <ul>
                           <li><a href="#full-migrate">Full Migration to a VPC</a></li>
                           <li><a href="#classiclink-migrate">Incremental Migration to a VPC Using ClassicLink</a></li>
                        </ul>
                     </div>
                     <h2 id="full-migrate">Full Migration to a VPC</h2>
                     		
                     		
                     <p>Complete the following tasks to fully migrate your application from EC2-Classic to
                        a VPC.
                     </p>
                     		
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Tasks</strong></p>
                        <ul>
                           <li><a href="#vpc-migrate-create-vpc">Step 1: Create a VPC</a></li>
                           <li><a href="#vpc-migrate-security-group">Step 2: Configure Your Security Group</a></li>
                           <li><a href="#vpc-migrate-create-ami">Step 3: Create an AMI from Your EC2-Classic Instance</a></li>
                           <li><a href="#vpc-migrate-instance">Step 4: Launch an Instance Into Your VPC</a></li>
                           <li><a href="#vpc-migrate-example">Example: Migrating a Simple Web Application</a></li>
                        </ul>
                     </div>
                     	
                     <h3 id="vpc-migrate-create-vpc">Step 1: Create a VPC</h3>
                     		
                     		
                     <p>To start using a VPC, ensure that you have one in your account. You can create one
                        using one
                        			of these methods: 
                     </p>
                     		
                     <div class="itemizedlist">
                        			
                        			
                        			
                        		
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              				
                              <p>Your AWS account comes with a default VPC in 
                                 					each region, which is ready for you to use. Instances that you launch are by
                                 default
                                 					launched into this VPC, unless you specify otherwise. For more information about
                                 your
                                 					default VPC, see <a href="https://docs.aws.amazon.com/vpc/latest/userguide/default-vpc.html" target="_blank">Your Default VPC and
                                    					Subnets</a>. Use this option if you'd prefer not to set up a VPC yourself, or if you
                                 					do not need specific requirements for your VPC configuration.
                              </p>
                              			
                           </li>
                           <li class="listitem">
                              				
                              <p>In your existing AWS account, open the Amazon VPC console and use the VPC wizard to
                                 create a
                                 					new VPC. For more information, see <a href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Scenarios.html" target="_blank">Scenarios
                                    						for Amazon VPC</a>. Use this option if you want to set up a VPC quickly in your
                                 					existing EC2-Classic account, using one of the available configuration sets in
                                 the
                                 					wizard. You'll specify this VPC each time you launch an instance. 
                              </p>
                              			
                           </li>
                           <li class="listitem">
                              				
                              <p>In your existing AWS account, open the Amazon VPC console and set up the components
                                 of a VPC
                                 					according to your requirements. For more information, see <a href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Subnets.html" target="_blank">Your VPC and Subnets</a>. Use this option if
                                 					you have specific requirements for your VPC, such as a particular number of subnets.
                                 					You'll specify this VPC each time you launch an instance. 
                              </p>
                              			
                           </li>
                        </ul>
                     </div>
                     	
                     	
                     <h3 id="vpc-migrate-security-group">Step 2: Configure Your Security Group</h3>
                     		
                     		
                     <p>You cannot use the same security groups between EC2-Classic and a VPC. However, if
                        you
                        			want your instances in your VPC to have the same security group rules as your EC2-Classic
                        			instances, you can use the Amazon EC2 console to copy your existing EC2-Classic
                        security group
                        			rules to a new VPC security group. 
                     </p>
                     		
                     <div class="aws-note">
                        <p class="aws-note">Important</p>
                        <p>You can only copy security group rules to a new security group in the same AWS account
                           				in the same region. If you've created a new AWS account, you cannot use this method
                           to
                           				copy your existing security group rules to your new account. You'll have to create
                           a new
                           				security group, and add the rules yourself. For more information about creating
                           a new
                           				security group, see <a href="using-network-security.html">Amazon EC2 Security Groups for Linux Instances</a>.
                        </p>
                     </div>
                     		
                     <p class="title"><b>To copy your security group rules to a new security group</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           				
                           <p>In the navigation pane, choose <b>Security Groups</b>.
                           </p>
                           			
                        </li>
                        <li>
                           				
                           <p>Select the security group that's associated with your EC2-Classic instance, then choose
                              <b>Actions</b> and select <b>Copy to new</b>.
                           </p>
                           			
                        </li>
                        <li>
                           				
                           <p>In the <b>Create Security Group</b> dialog box, specify a name and
                              					description for your new security group. Select your VPC from the <b>VPC</b>
                              					list. 
                           </p>
                           			
                        </li>
                        <li>
                           				
                           <p>The <b>Inbound</b> tab is populated with the rules from your EC2-Classic
                              					security group. You can modify the rules as required. In the <b>Outbound</b>
                              					tab, a rule that allows all outbound traffic has automatically been created for
                              you. For
                              					more information about modifying security group rules, see <a href="using-network-security.html">Amazon EC2 Security Groups for Linux Instances</a>.
                           </p>
                           				
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>If you've defined a rule in your EC2-Classic security group that references another
                                 						security group, you will not be able to use the same rule in your VPC security
                                 group.
                                 						Modify the rule to reference a security group in the same VPC.
                              </p>
                           </div>
                           			
                        </li>
                        <li>
                           				
                           <p>Choose <b>Create</b>.
                           </p>
                           			
                        </li>
                     </ol>
                     	
                     	
                     		
                     <h3 id="vpc-migrate-create-ami">Step 3: Create an AMI from Your EC2-Classic Instance</h3>
                     		
                     		
                     <p>An AMI is a template for launching your instance. You can create your own AMI based
                        on an
                        			existing EC2-Classic instance, then use that AMI to launch instances into your
                        VPC.
                     </p>
                     		
                     		
                     <p>The method you use to create your AMI depends on the root device type of your instance,
                        and
                        			the operating system platform on which your instance runs. To find out the root
                        device
                        			type of your instance, go to the <b>Instances</b> page, select your
                        			instance, and look at the information in the <b>Root device type</b> field
                        			in the <b>Description</b> tab. If the value is <code class="code">ebs</code>, then your
                        			instance is EBS-backed. If the value is <code class="code">instance-store</code>, then your instance
                        			is instance store-backed. You can also use the <a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html" target="_blank">describe-instances</a> AWS CLI
                        			command to find out the root device type.
                     </p>
                     		
                     <p>The following table provides options for you to create your AMI based on the root
                        device
                        			type of your instance, and the software platform.
                     </p>
                     		
                     <div class="aws-note">
                        <p class="aws-note">Important</p>
                        <p>Some instance types support both PV and HVM virtualization, while others support only
                           one or
                           				the other. If you plan to use your AMI to launch a different instance type than
                           your current
                           				instance type, check that the instance type supports the type of virtualization
                           that your
                           				AMI offers. If your AMI supports PV virtualization, and you want to use an instance
                           type
                           				that supports HVM virtualization, you may have to reinstall your software on a
                           base HVM AMI.
                           				For more information about PV and HVM virtualization, see <a href="virtualization_types.html">Linux AMI Virtualization Types</a>.
                        </p>
                     </div>
                     		
                     <div class="table">
                        <div class="table-contents">
                           <table id="w228aac21c27c19c13c10c11">
                              					
                              <tr>
                                 						
                                 <th>Instance Root Device Type</th>
                                 						
                                 <th>Action</th>
                                 					
                              </tr>
                              				
                              					
                              <tr>
                                 						
                                 <td>EBS</td>
                                 						
                                 <td>
                                    <p>Create an EBS-backed AMI from your instance. For more information, see <a href="creating-an-ami-ebs.html">Creating an Amazon EBS-Backed Linux AMI</a>.
                                    </p>
                                 </td>
                                 					
                              </tr>
                              					
                              <tr>
                                 						
                                 <td>Instance store</td>
                                 						
                                 <td>
                                    <p>Create an instance store-backed AMI from your instance using the AMI tools. For
                                       							more information, see <a href="creating-an-ami-instance-store.html">Creating an Instance Store-Backed Linux AMI</a>.
                                    </p>
                                 </td>
                                 					
                              </tr>
                              					
                              <tr>
                                 						
                                 <td>Instance store</td>
                                 						
                                 <td>
                                    <p>Convert your instance store-backed instance to an EBS-backed instances. 
                                       							For more information, see <a href="Using_ConvertingS3toEBS.html">Converting your Instance Store-Backed AMI to an
                                          			Amazon EBS-Backed AMI</a>.
                                    </p> 
                                    						
                                 </td>
                                 					
                              </tr>
                              				
                           </table>
                        </div>
                     </div>
                     
                     		
                     			
                     <h4 id="vpc-migrate-create-volumes">(Optional) Store Your Data on Amazon EBS Volumes</h4>
                     			
                     			
                     <p>You can create an Amazon EBS volume and use it to back up and store the data on your
                        instance—like 
                        				you would use a physical hard drive. Amazon EBS volumes can be attached and detached
                        from
                        				any instance in the same Availability Zone. You can detach a volume from your
                        instance in
                        				EC2-Classic, and attach it to a new instance that you launch into your VPC in
                        the same
                        				Availability Zone. 
                     </p>
                     			
                     <p>For more information about Amazon EBS volumes, see the following topics:</p>
                     			
                     <div class="itemizedlist">
                        				
                        				
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              <p><a href="EBSVolumes.html">Amazon EBS Volumes</a></p>
                           </li>
                           <li class="listitem">
                              <p><a href="ebs-creating-volume.html">Creating an Amazon EBS Volume</a></p>
                           </li>
                           <li class="listitem">
                              <p><a href="ebs-attaching-volume.html">Attaching an Amazon EBS Volume to an Instance</a></p>
                           </li>
                        </ul>
                     </div>
                     			
                     <p>To back up the data on your Amazon EBS volume, you can take periodic snapshots of
                        your volume.
                        				If you need to, you can restore an Amazon EBS volume from your snapshot. For more
                        information about
                        				Amazon EBS snapshots, see the following topics:
                     </p>
                     			
                     <div class="itemizedlist">
                        				
                        				
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              <p><a href="EBSSnapshots.html">Amazon EBS Snapshots</a></p>
                           </li>
                           <li class="listitem">
                              <p><a href="ebs-creating-snapshot.html">Creating an Amazon EBS Snapshot</a></p>
                           </li>
                           <li class="listitem">
                              <p><a href="ebs-restoring-volume.html">Restoring an Amazon EBS Volume from a Snapshot</a></p>
                           </li>
                        </ul>
                     </div>
                     		
                     	
                     
                     	
                     		
                     <h3 id="vpc-migrate-instance">Step 4: Launch an Instance Into Your VPC</h3>
                     		
                     		
                     <p>After you've created an AMI, you can launch an instance into your VPC. The instance
                        will
                        			have the same data and configurations as your existing EC2-Classic instance. 
                     </p>
                     		
                     <p>You can either launch your instance into a VPC that you've created in your existing
                        account,
                        			or into a new, VPC-only AWS account.
                     </p>
                     		
                     			
                     <h4 id="use-classic-account">Using Your Existing EC2-Classic Account</h4>
                     			
                     			
                     <p>You can use the Amazon EC2 launch wizard to launch an instance into your VPC.</p>
                     			
                     <p class="title"><b>To launch an instance into your VPC</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           					
                           <p>On the dashboard, choose <b>Launch Instance</b>. 
                           </p>
                           				
                        </li>
                        <li>
                           					
                           <p>On the <b>Choose an Amazon Machine Image</b> page, select the
                              							<b>My AMIs</b> category, and select the AMI you created. 
                           </p>
                           				
                        </li>
                        <li>
                           					
                           <p>On the <b>Choose an Instance Type</b> page, select the type of instance,
                              and choose <b>Next: Configure Instance Details</b>.
                           </p>
                           				
                        </li>
                        <li>
                           					
                           <p>On the <b>Configure Instance Details</b> page, select your VPC from the
                              <b>Network</b> list. Select the required subnet from the
                              <b>Subnet</b> list. Configure any other details you require, then go
                              through the next pages of the wizard until you reach the <b>Configure Security
                                 Group</b> page.
                           </p>
                           				
                        </li>
                        <li>
                           					
                           <p>Select <b>Select an existing group</b>, and select the security group you
                              created earlier. Choose <b>Review and Launch</b>.
                           </p>
                           				
                        </li>
                        <li>
                           					
                           <p>Review your instance details, then choose <b>Launch</b> to specify a key
                              pair and launch your instance.
                           </p>
                           				
                        </li>
                     </ol>
                     			
                     <p>For more information about the parameters you can configure in each step of the wizard,
                        				see <a href="launching-instance.html">Launching an Instance Using the Launch Instance Wizard</a>.
                     </p>
                     		
                     		
                     			
                     <h4 id="use-vpc-only-account">Using Your New, VPC-Only Account</h4>
                     			
                     			
                     <p>To launch an instance in your new AWS account, you'll first have to share the AMI
                        you
                        				created with your new account. You can then use the Amazon EC2 launch wizard to
                        launch an
                        				instance into your default VPC. 
                     </p>
                     			
                     <p class="title"><b>To share an AMI with your new AWS account</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           <p>Switch to the account in which you created your AMI.</p>
                        </li>
                        <li>
                           					
                           <p>In the navigation pane, choose <b>AMIs</b>. 
                           </p>
                           				
                        </li>
                        <li>
                           					
                           <p>In the <b>Filter</b> list, ensure <b>Owned by me</b> is
                              						selected, then select your AMI. 
                           </p>
                           				
                        </li>
                        <li>
                           					
                           <p>In the <b>Permissions</b> tab, choose <b>Edit</b>. Enter the
                              account number of your new AWS account, choose <b>Add Permission</b>,
                              and then choose <b>Save</b>.
                           </p>
                           				
                        </li>
                     </ol>
                     			
                     <p class="title"><b>To launch an instance into your default VPC</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           <p>Switch to your new AWS account.</p>
                        </li>
                        <li>
                           					
                           <p>In the navigation pane, choose <b>AMIs</b>.
                           </p>
                           				
                        </li>
                        <li>
                           					
                           <p>In the <b>Filter</b> list, select <b>Private images</b>.
                              Select the AMI that you shared from your EC2-Classic account, then choose
                              <b>Launch</b>. 
                           </p>
                           				
                        </li>
                        <li>
                           					
                           <p>On the <b>Choose an Instance Type</b> page, select the type of instance,
                              and choose <b>Next: Configure Instance Details</b>.
                           </p>
                           				
                        </li>
                        <li>
                           					
                           <p>On the <b>Configure Instance Details</b> page, your default VPC should be
                              selected in the <b>Network</b> list. Configure any other details you
                              require, then go through the next pages of the wizard until you reach the
                              <b>Configure Security Group</b> page.
                           </p>
                           				
                        </li>
                        <li>
                           					
                           <p>Select <b>Select an existing group</b>, and select the security group you
                              created earlier. Choose <b>Review and Launch</b>.
                           </p>
                           				
                        </li>
                        <li>
                           					
                           <p>Review your instance details, then choose <b>Launch</b> to specify a key
                              pair and launch your instance.
                           </p>
                           				
                        </li>
                     </ol>
                     			
                     <p>For more information about the parameters you can configure in each step of the wizard,
                        				see <a href="launching-instance.html">Launching an Instance Using the Launch Instance Wizard</a>.
                     </p>
                     		
                     	
                     	
                     	
                     		
                     <h3 id="vpc-migrate-example">Example: Migrating a Simple Web Application</h3>
                     		
                     		
                     <p>In this example, you use AWS to host your gardening website. To manage your website,
                        you
                        			have three running instances in EC2-Classic. Instances A and B host your public-facing
                        web
                        			application, and you use Elastic Load Balancing to load balance the traffic between
                        these
                        			instances. You've assigned Elastic IP addresses to instances A and B so that you
                        have static
                        			IP addresses for configuration and administration tasks on those instances. Instance
                        C holds
                        			your MySQL database for your website. You've registered the domain name
                        				<code class="code">www.garden.example.com</code>, and you've used Route 53 to create a hosted zone with an
                        			alias record set that's associated with the DNS name of your load balancer.
                     </p>
                     		
                     			
                     <div class="mediaobject">
                        				
                        					<img src="images/vpc-migrate-example-classic.png" alt="&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;A web application in EC2-Classic&#xA;&#x9;&#x9;&#x9;&#x9;" />
                        				
                        				
                        			
                     </div>
                     		
                     		
                     <p>The first part of migrating to a VPC is deciding what kind of VPC architecture will
                        suit
                        your needs. In this case, you've decided on the following: one public subnet for your
                        web
                        servers, and one private subnet for your database server. As your website grows, you
                        can add
                        more web servers and database servers to your subnets. By default, instances in the
                        private
                        subnet cannot access the Internet; however, you can enable Internet access through
                        a Network
                        Address Translation (NAT) device in the public subnet. You may want to set up a NAT
                        device
                        to support periodic updates and patches from the Internet for your database server.
                        You'll
                        migrate your Elastic IP addresses to a VPC, and create a load balancer in your
                        public subnet to load balance the traffic between your web servers.
                     </p>
                     		
                     			
                     <div class="mediaobject">
                        				
                        					<img src="images/vpc-migrate-example-vpc.png" alt="&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;A web application in a VPC&#xA;&#x9;&#x9;&#x9;&#x9;" />
                        				
                        				
                        			
                     </div>
                     		
                     		
                     <p>To migrate your web application to a VPC, you can follow these steps:</p>
                     		
                     <div class="itemizedlist">
                        			
                        			
                        			
                        			
                        			
                        			
                        		
                        			
                        			
                        
                        			
                        			
                        		
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              				
                              <p><b>Create a VPC</b>: In this case, you can use the VPC wizard in
                                 the Amazon VPC console to create your VPC and subnets. The second wizard configuration
                                 creates a VPC with one private and one public subnet, and launches and configures
                                 a NAT
                                 device in your public subnet for you. For more information, see <a href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Scenario2.html" target="_blank">Scenario 2: VPC with Public and Private
                                    Subnets</a> in the <em>Amazon VPC User Guide</em>.
                              </p>
                              			
                           </li>
                           <li class="listitem">
                              				
                              <p><b>Create AMIs from your instances</b>: Create an AMI from
                                 					one of your web servers, and a second AMI from your database server. For more
                                 information,
                                 					see <a href="vpc-migrate.html#vpc-migrate-create-ami">Step 3: Create an AMI from Your EC2-Classic Instance</a>.
                              </p>
                              			
                           </li>
                           <li class="listitem">
                              				
                              <p><b>Configure your security groups</b>: In your EC2-Classic environment, you
                                 					have one security group for your web servers, and another security group for
                                 your database
                                 					server. You can use the Amazon EC2 console to copy the rules from each security
                                 group into new
                                 					security groups for your VPC.  For more information, see <a href="vpc-migrate.html#vpc-migrate-security-group">Step 2: Configure Your Security Group</a>.
                                 				
                              </p>
                              				
                              <div class="aws-note">
                                 <p class="aws-note">Tip</p>
                                 <p>Create the security groups that are referenced by other security groups first.</p>
                              </div>
                              			
                           </li>
                           <li class="listitem">
                              				
                              <p><b>Launch an instance into your new VPC</b>: Launch replacement web
                                 					servers into your public subnet, and launch your replacement database server
                                 into your
                                 					private subnet. For more information, see <a href="vpc-migrate.html#vpc-migrate-instance">Step 4: Launch an Instance Into Your VPC</a>.
                              </p>
                              			
                           </li>
                           <li class="listitem">
                              				
                              <p><b>Configure your NAT device</b>: If you are using a NAT
                                 instance, you must create security group for it that allows HTTP and HTTPS traffic
                                 from
                                 your private subnet. For more information, see <a href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_NAT_Instance.html" target="_blank">NAT Instances</a>. If you are using a
                                 NAT gateway, traffic from your private subnet is automatically allowed.
                              </p>
                              			
                           </li>
                           <li class="listitem">
                              				
                              <p><b>Configure your database</b>: When you created an AMI from
                                 					your database server in EC2-Classic, all the configuration information that was
                                 stored in
                                 					that instance was copied to the AMI. You may have to connect to your new database
                                 server
                                 					and update the configuration details; for example, if you configured your database
                                 to
                                 					grant full read, write, and modification permissions to your web servers in EC2-Classic,
                                 					you'll have to update the configuration files to grant the same permissions to
                                 your new
                                 					VPC web servers instead. 
                              </p>
                              			
                           </li>
                           <li class="listitem">
                              				
                              <p><b>Configure your web servers</b>: Your web servers will have the same
                                 					configuration settings as your instances in EC2-Classic. For example, if you
                                 configured
                                 					your web servers to use the database in EC2-Classic, update your web servers'
                                 					configuration settings to point to your new database instance.
                              </p>
                              				
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>By default, instances launched into a nondefault subnet are not assigned a public
                                    IP address,
                                    						unless you specify otherwise at launch. Your new database server may not have
                                    a public
                                    						IP address. In this case, you can update your web servers' configuration file
                                    to use
                                    						your new database server's private DNS name. Instances in the same VPC can communicate
                                    						with each other via private IP address.
                                 </p>
                              </div>
                              			
                           </li>
                           <li class="listitem">
                              
                              <p><b>Migrate your Elastic IP addresses</b>: Disassociate
                                 your Elastic IP addresses from your web servers in EC2-Classic, and then migrate them
                                 to a VPC. After you've migrated them, you can associate them with your new web servers
                                 in your VPC. For more information, see <a href="ec2-classic-platform.html#migrating-eip">Migrating an Elastic IP Address from EC2-Classic</a>.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><b>Create a new load balancer</b>: To continue using
                                 Elastic Load Balancing to load balance the traffic to your instances, make sure you
                                 understand the various ways you can configure your load balancer in VPC. For more
                                 information, see <a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/userguide/UserScenariosForVPC.html" target="_blank">Elastic Load
                                    Balancing in Amazon VPC</a>.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              <p><b>Update your DNS records</b>: After you've set up your load balancer in your
                                 					public subnet, ensure that your <code class="code">www.garden.example.com</code> domain points to your
                                 					new load balancer. To do this, you'll need to update your DNS records and update
                                 your
                                 					alias record set in Route 53. For more information about using Route 53, see
                                 <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/getting-started.html" target="_blank">Getting Started with Route 53</a>.
                              </p>
                           </li>
                           <li class="listitem">
                              <p><b>Shut down your EC2-Classic resources</b>: After you've verified that your
                                 					web application is working from within the VPC architecture, you can shut down
                                 your
                                 					EC2-Classic resources to stop incurring charges for them. Terminate your EC2-Classic
                                 					instances, and release your EC2-Classic Elastic IP addresses.
                              </p>
                           </li>
                        </ul>
                     </div>
                     
                     	
                     	
                     	    
                     <h2 id="classiclink-migrate">Incremental Migration to a VPC Using ClassicLink</h2>
                     
                     	
                     <p>The ClassicLink feature makes it easier to manage an incremental migration to a VPC.
                        			ClassicLink allows you to link an EC2-Classic instance to a VPC in your account
                        in
                        			the same region, allowing your new VPC resources to communicate with the EC2-Classic
                        			instance using private IPv4 addresses. You can then migrate functionality to the
                        VPC one
                        			step at a time. This topic provides some basic steps for managing an incremental
                        			migration from EC2-Classic to a VPC. 
                     </p>
                     	
                     <p>For more information about ClassicLink, see <a href="vpc-classiclink.html">ClassicLink</a>.
                     </p>
                     	
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#classiclink-migrate-preparation">Step 1: Prepare Your Migration Sequence</a></li>
                           <li><a href="#classiclink-migrate-create-vpc">Step 2: Create a VPC</a></li>
                           <li><a href="#classiclink-migrate-enable-vpc">Step 3: Enable Your VPC for ClassicLink</a></li>
                           <li><a href="#classiclink-migrate-ami">Step 4: Create an AMI from Your EC2-Classic Instance</a></li>
                           <li><a href="#classiclink-migrate-launch-instance">Step 5: Launch an Instance Into Your VPC</a></li>
                           <li><a href="#classiclink-migrate-attach-instance">Step 6: Link Your EC2-Classic Instances to Your
                                 			VPC</a></li>
                           <li><a href="#classiclink-migrate-terminate-instances">Step 7: Complete the VPC
                                 			Migration</a></li>
                        </ul>
                     </div>
                     	
                     		
                     <h3 id="classiclink-migrate-preparation">Step 1: Prepare Your Migration Sequence</h3>
                     		
                     		
                     <p>To use ClassicLink effectively, you must first identify the components of your application
                        			that must be migrated to the VPC, and then confirm the order in which to migrate
                        that
                        			functionality. 
                     </p>
                     		
                     <p>For example, you have an application that relies on a presentation web server, a backend
                        				database server, and authentication logic for transactions. You may decide to
                        start the
                        				migration process with the authentication logic, then the database server, and
                        finally, the
                        				web server.
                     </p>
                     	
                     	
                     		
                     <h3 id="classiclink-migrate-create-vpc">Step 2: Create a VPC</h3>
                     		
                     		
                     <p>To start using a VPC, ensure that you have one in your account. You can create one
                        using one
                        			of these methods: 
                     </p>
                     		
                     <div class="itemizedlist">
                        			
                        			
                        		
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              				
                              <p>In your existing AWS account, open the Amazon VPC console and use the VPC wizard to
                                 create a
                                 					new VPC. For more information, see <a href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Scenarios.html" target="_blank">Scenarios
                                    						for Amazon VPC</a>. Use this option if you want to set up a VPC quickly in your
                                 					existing EC2-Classic account, using one of the available configuration sets in
                                 the
                                 					wizard. You'll specify this VPC each time you launch an instance. 
                              </p>
                              			
                           </li>
                           <li class="listitem">
                              				
                              <p>In your existing AWS account, open the Amazon VPC console and set up the components
                                 of a VPC
                                 					according to your requirements. For more information, see <a href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Subnets.html" target="_blank">Your VPC and Subnets</a>. Use this option if
                                 					you have specific requirements for your VPC, such as a particular number of subnets.
                                 					You'll specify this VPC each time you launch an instance. 
                              </p>
                              			
                           </li>
                        </ul>
                     </div>
                     	
                     	
                     		
                     <h3 id="classiclink-migrate-enable-vpc">Step 3: Enable Your VPC for ClassicLink</h3>
                     		
                     		
                     <p>After you've created a VPC, you can enable it for ClassicLink. For more information
                        about
                        			ClassicLink, see <a href="vpc-classiclink.html">ClassicLink</a>. 
                     </p>
                     		
                     <p class="title"><b>To enable a VPC for ClassicLink</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon VPC console at
                              <a href="https://console.aws.amazon.com/vpc/" target="_blank">https://console.aws.amazon.com/vpc/</a>.
                           </p>
                        </li>
                        <li>
                           <p>In the navigation pane, choose <b>Your VPCs</b>.
                           </p>
                        </li>
                        <li>
                           				
                           <p>Select your VPC, and then select <b>Enable ClassicLink</b> from the
                              						<b>Actions</b> list.
                           </p>
                           			
                        </li>
                        <li>
                           				
                           <p>In the confirmation dialog box, choose <b>Yes, Enable</b>.
                           </p>
                           			
                        </li>
                     </ol>
                     		
                     	
                     	
                     		
                     <h3 id="classiclink-migrate-ami">Step 4: Create an AMI from Your EC2-Classic Instance</h3>
                     		
                     		
                     <p>An AMI is a template for launching your instance. You can create your own AMI based
                        on an
                        			existing EC2-Classic instance, then use that AMI to launch instances into your
                        VPC.
                     </p>
                     		
                     		
                     <p>The method you use to create your AMI depends on the root device type of your instance,
                        
                        			and the operating system platform on which your instance runs. To find out the
                        root device
                        			type of your instance, go to the <b>Instances</b> page, select your
                        			instance, and look at the information in the <b>Root device type</b> field
                        			in the <b>Description</b> tab. If the value is <code class="code">ebs</code>, then your
                        			instance is EBS-backed. If the value is <code class="code">instance-store</code>, then your instance
                        			is instance store-backed. You can also use the <a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html" target="_blank">describe-instances</a> AWS CLI command to find out the root device type.
                     </p>
                     		
                     <p>The following table provides options for you to create your AMI based on the root
                        device
                        			type of your instance, and the software platform.
                     </p>
                     		
                     <div class="aws-note">
                        <p class="aws-note">Important</p>
                        <p>Some instance types support both PV and HVM virtualization, while others support only
                           one or
                           				the other. If you plan to use your AMI to launch a different instance type than
                           your current
                           				instance type, check that the instance type supports the type of virtualization
                           that your
                           				AMI offers. If your AMI supports PV virtualization, and you want to use an instance
                           type
                           				that supports HVM virtualization, you may have to reinstall your software on a
                           base HVM AMI.
                           				For more information about PV and HVM virtualization, see <a href="virtualization_types.html">Linux AMI Virtualization Types</a>.
                        </p>
                     </div>
                     		
                     <div class="table">
                        <div class="table-contents">
                           <table id="w228aac21c27c19c15c15c11">
                              					
                              <tr>
                                 						
                                 <th>Instance Root Device Type</th>
                                 						
                                 <th>Action</th>
                                 					
                              </tr>
                              				
                              					
                              <tr>
                                 						
                                 <td>EBS</td>
                                 						
                                 <td>Create an EBS-backed AMI from your instance. For more information, see <a href="creating-an-ami-ebs.html">Creating an Amazon EBS-Backed Linux AMI</a>.
                                 </td>
                                 					
                              </tr>
                              					
                              <tr>
                                 						
                                 <td>Instance store</td>
                                 						
                                 <td>Create an instance store-backed AMI from your instance using the AMI tools. For
                                    							more information, see <a href="creating-an-ami-instance-store.html">Creating an Instance Store-Backed Linux AMI</a>.
                                 </td>
                                 					
                              </tr>
                              					
                              <tr>
                                 						
                                 <td>Instance store</td>
                                 						
                                 <td>Convert your instance store-backed instance to an EBS-backed instance.
                                    							For more information, see <a href="Using_ConvertingS3toEBS.html">Converting your Instance Store-Backed AMI to an
                                       			Amazon EBS-Backed AMI</a>.
                                 </td>
                                 					
                              </tr>
                              				
                           </table>
                        </div>
                     </div>
                     
                     		
                     			
                     <h4 id="classiclink-migrate-create-volumes">(Optional) Store Your Data on Amazon EBS Volumes</h4>
                     			
                     			
                     <p>You can create an Amazon EBS volume and use it to back up and store the data on your
                        instance—like 
                        				you would use a physical hard drive. Amazon EBS volumes can be attached and detached
                        from
                        				any instance in the same Availability Zone. You can detach a volume from your
                        instance in
                        				EC2-Classic, and attach it to a new instance that you launch into your VPC in
                        the same
                        				Availability Zone. 
                     </p>
                     			
                     <p>For more information about Amazon EBS volumes, see the following topics:</p>
                     			
                     <div class="itemizedlist">
                        				
                        				
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              <p><a href="EBSVolumes.html">Amazon EBS Volumes</a></p>
                           </li>
                           <li class="listitem">
                              <p><a href="ebs-creating-volume.html">Creating an Amazon EBS Volume</a></p>
                           </li>
                           <li class="listitem">
                              <p><a href="ebs-attaching-volume.html">Attaching an Amazon EBS Volume to an Instance</a></p>
                           </li>
                        </ul>
                     </div>
                     			
                     <p>To back up the data on your Amazon EBS volume, you can take periodic snapshots of
                        your volume.
                        				If you need to, you can restore an Amazon EBS volume from your snapshot. For more
                        information about
                        				Amazon EBS snapshots, see the following topics:
                     </p>
                     			
                     <div class="itemizedlist">
                        				
                        				
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              <p><a href="EBSSnapshots.html">Amazon EBS Snapshots</a></p>
                           </li>
                           <li class="listitem">
                              <p><a href="ebs-creating-snapshot.html">Creating an Amazon EBS Snapshot</a></p>
                           </li>
                           <li class="listitem">
                              <p><a href="ebs-restoring-volume.html">Restoring an Amazon EBS Volume from a Snapshot</a></p>
                           </li>
                        </ul>
                     </div>
                     		
                     	
                     
                     	
                     		
                     <h3 id="classiclink-migrate-launch-instance">Step 5: Launch an Instance Into Your VPC</h3>
                     		
                     		
                     <p>The next step in the migration process is to launch instances into your VPC so that
                        you can
                        			start transferring functionality to them. You can use the AMIs that you created
                        in the
                        			previous step to launch instances into your VPC. The instances will have the same
                        data and
                        			configurations as your existing EC2-Classic instances. 
                     </p>
                     		
                     <p class="title"><b>To launch an instance into your VPC using your custom AMI</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           				
                           <p>On the dashboard, choose <b>Launch Instance</b>. 
                           </p>
                           			
                        </li>
                        <li>
                           				
                           <p>On the <b>Choose an Amazon Machine Image</b> page, select the
                              					<b>My AMIs</b> category, and select the AMI you created. 
                           </p>
                           			
                        </li>
                        <li>
                           				
                           <p>On the <b>Choose an Instance Type</b> page, select the type of instance, and
                              choose <b>Next: Configure Instance Details</b>.
                           </p>
                           			
                        </li>
                        <li>
                           				
                           <p>On the <b>Configure Instance Details</b> page, select your VPC from the
                              <b>Network</b> list. Select the required subnet from the
                              <b>Subnet</b> list. Configure any other details you require, then go
                              through the next pages of the wizard until you reach the <b>Configure Security
                                 Group</b> page.
                           </p>
                           			
                        </li>
                        <li>
                           				
                           <p>Select <b>Select an existing group</b>, and select the security group you
                              created earlier. Choose <b>Review and Launch</b>.
                           </p>
                           			
                        </li>
                        <li>
                           				
                           <p>Review your instance details, then choose <b>Launch</b> to specify a key
                              pair and launch your instance.
                           </p>
                           			
                        </li>
                     </ol>
                     		
                     <p>For more information about the parameters you can configure in each step of the wizard,
                        			see <a href="launching-instance.html">Launching an Instance Using the Launch Instance Wizard</a>.
                     </p>
                     		
                     <p>After you've launched your instance and it's in the <code class="code">running</code> state, you can
                        			connect to it and configure it as required.
                     </p>
                     	
                     	
                     		
                     <h3 id="classiclink-migrate-attach-instance">Step 6: Link Your EC2-Classic Instances to Your
                        			VPC
                     </h3>
                     		
                     		
                     <p>After you've configured your instances and made the functionality of your application
                        				available in the VPC, you can use ClassicLink to enable private IP communication
                        between
                        				your new VPC instances and your EC2-Classic instances.
                     </p>
                     		
                     <p class="title"><b>To link an instance to a VPC</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           <p>In the navigation pane, choose <b>Instances</b>. 
                           </p>
                        </li>
                        <li>
                           				
                           <p>Select your EC2-Classic instance, then choose <b>Actions</b>,
                              <b>ClassicLink</b>, and <b>Link to VPC</b>.
                           </p>
                           				
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>Ensure that your instance is in the <code class="code">running</code> state.
                              </p>
                           </div>
                           			
                        </li>
                        <li>
                           				
                           <p>In the dialog box, select your ClassicLink-enabled VPC (only VPCs that are enabled
                              for
                              					ClassicLink are displayed).
                           </p>
                           			
                        </li>
                        <li>
                           				
                           <p>Select one or more of the VPC security groups to associate with your instance. When
                              you
                              						are done, choose <b>Link to VPC</b>.
                           </p>
                           			
                        </li>
                     </ol>
                     	
                     	
                     		
                     <h3 id="classiclink-migrate-terminate-instances">Step 7: Complete the VPC
                        			Migration
                     </h3>
                     		
                     		
                     <p>Depending on the size of your application and the functionality that must be migrated,
                        				repeat steps 4 to 6 until you've moved all the components of your application
                        from
                        				EC2-Classic into your VPC. 
                     </p>
                     		
                     <p>After you've enabled internal communication between the EC2-Classic and VPC instances,
                        you
                        must update your application to point to your migrated service in your VPC, instead
                        of your
                        service in the EC2-Classic platform. The exact steps for this depend on your application’s
                        design. Generally, this includes updating your destination IP addresses to point to
                        the IP
                        addresses of your VPC instances instead of your EC2-Classic instances. You can migrate
                        your
                        Elastic IP addresses that you are currently using in the EC2-Classic platform to a
                        VPC.
                        For more information, see <a href="ec2-classic-platform.html#migrating-eip">Migrating an Elastic IP Address from EC2-Classic</a>.
                     </p>
                     			
                     <p>After you've completed this step and you've tested that the application is functioning
                        from
                        				your VPC, you can terminate your EC2-Classic instances, and disable ClassicLink
                        for your
                        				VPC. You can also clean up any EC2-Classic resources that you may no longer need
                        to avoid
                        				incurring charges for them; for example, you can release Elastic IP addresses,
                        and delete
                        				the volumes that were associated with your EC2-Classic instances.
                     </p>
                     	
                     	
                     	
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="vpc-classiclink.html">« Previous </a><a class="awstoc" accesskey="n" href="Storage.html">Next »</a></div>
                     <div id="copyright-main-footer">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Full Migration to a VPC"><a class="pagetoc" href="#full-migrate">Full Migration to a VPC</a></li>
                        <li class="pagetoc" name="Incremental Migration to a VPC Using ClassicLink"><a class="pagetoc" href="#classiclink-migrate">Incremental Migration to a VPC Using ClassicLink</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using our site, you consent
            to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      <div id="footer">
         <div id="footer_short_fb" class="hide" title="Feedback"><a target="_blank" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EC2&amp;topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/vpc-migrate.html&amp;hidden_guide_name=User Guide for Linux Instances&amp;hidden_api_version=&amp;hidden_file_name=vpc-migrate"><i class="awsdocs-footer-text fa fa-envelope-o"></i></a></div>
         <div id="footer_toggle" class="mediaobject">
            <div id="footer_toggle_img" class="awsdocs-footer-text fa fa-caret-down"></div>
            <div id="footer_toggle_img_collapse" class="hide awsdocs-footer-text fa fa-caret-right"></div>
         </div>
         <div id="footer-left"><a class="awsdocs-footer-text" target="_top" href="http://aws.amazon.com/terms">Terms of Use</a><span class="awsdocs-footer-text"> | </span><a class="awsdocs-footer-text" target="_top" href="http://aws.amazon.com/privacy">Privacy</a><span class="awsdocs-footer-text"> | </span><span class="awsdocs-footer-text">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</span></div>
         <div id="footer-right">
            <div id="feedback">
               <div id="forums"><a id="forum_link" target="_blank" href="http://forums.aws.amazon.com/forum.jspa?forumID=30" class="awsdocs-footer-text">Have a question? Try the Forums.</a></div>
               <div id="feedback-message" class="awsdocs-footer-text">Did this page help you?</div>
               <div id="feedback-yesno-buttons"><a class="awstoc btn btn-default" target="_blank" href="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/vpc-migrate.html">Yes</a><a class="awstoc btn btn-default" target="_blank" href="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/vpc-migrate.html">No</a></div>
               <div id="feedback-feedback-button"><a class="awstoc btn btn-default" target="_blank" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EC2&amp;topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/vpc-migrate.html&amp;hidden_guide_name=User Guide for Linux Instances&amp;hidden_api_version=&amp;hidden_file_name=vpc-migrate">Feedback</a></div>
            </div>
         </div>
      </div>
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon Elastic Compute Cloud';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide for Linux Instances';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   </body>
</html>