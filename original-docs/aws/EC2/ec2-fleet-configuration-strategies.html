<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>EC2 Fleet Configuration Strategies - Amazon Elastic Compute Cloud</title>
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="home" href="#top" />
      <link rel="up" href="ec2-fleet.html" title="Launching an EC2 Fleet" />
      <link rel="prev" href="ec2-fleet.html" title="Launching an EC2 Fleet" />
      <link rel="next" href="manage-ec2-fleet.html" title="Managing an EC2 Fleet Monitoring Your EC2 Fleet" />
      <meta name="description" content="Use a single EC2 Fleet request to launch tens, hundreds, or thousands of On-Demand Instances and Spot Instances." />
      <meta name="keywords" content="EC2,Amazon EC2,EC2 instance,instance,VM,virtual machine" />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="Amazon Elastic Compute Cloud" />
      <meta name="guide" content="User Guide for Linux Instances" />
      <meta name="guide-locale" content="en_us" />
      <link rel="icon" type="image/ico" href="/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-fleet-configuration-strategies.html" />
      <link rel="stylesheet" type="text/css" href="/css/jquery-ui.min.css" />
      <link rel="stylesheet" type="text/css" href="/font/css/font-awesome.min.css" />
      <link rel="stylesheet" type="text/css" href="/css/google-font.css" />
      <link id="code-style" rel="stylesheet" type="text/css" href="/css/code/light.css" />
      <link rel="stylesheet" type="text/css" href="/css/jquery-ui.theme.css" />
      <link rel="stylesheet" type="text/css" href="/css/colorbox.css" />
      <link rel="stylesheet" type="text/css" href="/css/awsdocs.css?v=20170615" /><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      <div xmlns:db="http://docbook.org/ns/docbook" id="aws-nav" class="aws-nav-header">
         <div class="aws-nav-header-left">
            <div id="aws-nav-flyout-trigger" class="aws-nav-flyout-trigger"><i class="fa fa-bars fa-2x"></i></div>
            <div class="aws-nav-logo">
               <!--aws_logo_105x39.png--><a href="http://aws.amazon.com"><img src="/images/aws_logo_105x39.png" alt="Amazon Web Services" /></a></div>
         </div>
         <div id="aws-nav-header-right" class="aws-nav-header-right">
            <div class="aws-nav-cta-button-outer"><a id="aws-nav-cta-button" class="aws-nav-button" href="https://console.aws.amazon.com/console/home">Sign In to the Console</a></div>
            <div class="aws-nav-popover-trigger" data-dropdown="aws-nav-dropdown-lang"><select id="languageSelection" onchange="SelectLanguage()">
                  <option value="/de_de/AWSEC2/latest/UserGuide/ec2-fleet-configuration-strategies.html">Deutsch</option>
                  <option value="/en_us/AWSEC2/latest/UserGuide/ec2-fleet-configuration-strategies.html" selected="selected">English</option>
                  <option value="/es_es/AWSEC2/latest/UserGuide/ec2-fleet-configuration-strategies.html">Español</option>
                  <option value="/fr_fr/AWSEC2/latest/UserGuide/ec2-fleet-configuration-strategies.html">Français</option>
                  <option value="/it_it/AWSEC2/latest/UserGuide/ec2-fleet-configuration-strategies.html">Italiano</option>
                  <option value="/ja_jp/AWSEC2/latest/UserGuide/ec2-fleet-configuration-strategies.html">日本語</option>
                  <option value="/ko_kr/AWSEC2/latest/UserGuide/ec2-fleet-configuration-strategies.html">한국어</option>
                  <option value="/pt_br/AWSEC2/latest/UserGuide/ec2-fleet-configuration-strategies.html">Português</option>
                  <option value="/zh_cn/AWSEC2/latest/UserGuide/ec2-fleet-configuration-strategies.html">中文 (简体)</option>
                  <option value="/zh_tw/AWSEC2/latest/UserGuide/ec2-fleet-configuration-strategies.html">中文 (繁體)</option></select></div><a class="btn btn-rss-link" id="rss-link-top" target="_blank" href="amazon-ec2-release-notes.rss" title="View RSS Feed"></a><a class="btn btn-kindle-link" id="kindle-link-top" target="_blank" href="http://www.amazon.com/dp/B076452RSZ" title="Open Kindle"></a><a class="btn btn-pdf-link" id="pdf-link-top" href="ec2-ug.pdf#ec2-fleet-configuration-strategies" target="_blank" title="Open PDF"></a><a class="btn btn-github-link" id="github-link-top" href="https://github.com/awsdocs/amazon-ec2-user-guide/tree/master/doc_source/ec2-fleet-configuration-strategies.md" target="_blank" title="Edit on GitHub"></a><div id="aws-nav-quicklinks-separator" class="aws-nav-quicklinks-separator">
               <div class="aws-nav-left"></div>
               <div class="aws-nav-right"></div>
            </div>
         </div>
         <div xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" id="topnav-flyout-menu-container">
            <ul id="topnav-flyout-menu"><script id="flyout-item-template" type="text/x-handlebars-template">
                    {{#flyoutList}}

                        {{#if topTarget}}
                            <li class="awsdocs-flyout-link-wrapper"><a href="{{topTarget}}">{{listItem}}</a></li>
                        {{else}}
                            <li>{{listItem}}
                                {{#if subList}}
                                <ul>
                                    {{#subList}}
                                    <li class="awsdocs-flyout-link-wrapper"><a href="{{target}}">{{text}}</a></li>
                                    {{/subList}}
                                </ul>
                                {{/if}}
                            </li>
                        {{/if}}

                    {{/flyoutList}}
                </script></ul>
            <div id="topnav-flyout-menu-spacer"></div>
         </div>
      </div>
      <div id="content-container">
         <div id="left-column">
            <div id="left-col-header">
               <div xmlns:db="http://docbook.org/ns/docbook" id="left-col-top-content">
                  <div id="service-name">Amazon Elastic Compute Cloud </div>
                  <div id="search"><i id="search-icon" class="fa fa-search fa-2x"></i></div>
                  <div id="guide-info">User Guide for Linux Instances
                     <div id="content-button"><i id="toggle-contents" class="fa fa-bars"></i></div>
                  </div>
               </div>
               <form id="finegrainedSearch" method="get" onsubmit="return searchFormSubmit(this);" action="/search/doc-search.html">
                  <div id="search-form"><select id="search-select" name="searchPath">
                        <option value="all">Entire Site</option>
                        <option value="AWSMarketplace">AMIs from AWS Marketplace</option>
                        <option value="amis">AMIs from All Sources</option>
                        <option value="articles">Articles &amp; Tutorials</option>
                        <option value="products_and_info">AWS Product Information</option>
                        <option value="case_studies">Case Studies</option>
                        <option value="customerapps">Customer Apps</option>
                        <option value="documentation">Documentation</option>
                        <option value="documentation-product">Documentation - This Product</option>
                        <option value="documentation-guide" selected="selected">Documentation - This Guide</option>
                        <option value="datasets">Public Data Sets</option>
                        <option value="releasenotes">Release Notes</option>
                        <option value="solution_providers">Partners</option>
                        <option value="code">Sample Code &amp; Libraries</option></select><br /><input id="search-query" name="searchQuery" type="text" placeholder="Search" /><input id="search-button" src="/images/search-button.png" alt="Go" type="image" /></div><input type="hidden" name="this_doc_product" id="this_doc_product" value="Amazon Elastic Compute Cloud" /><input type="hidden" name="this_doc_guide" id="this_doc_guide" value="User Guide for Linux Instances" /><input type="hidden" name="doc_locale" value="en_us" /></form>
            </div>
            <div id="toc">
               <ul class="awstoc">
                  <li class="awstoc closed"><a class="awstoc" href="concepts.html">What Is Amazon EC2?</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-instances-and-amis.html">Instances and AMIs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="using-regions-availability-zones.html">Regions and Availability Zones</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="RootDeviceStorage.html">Root Device Volume</a></li>
                     </ul>
                  </li>
                  <li class="awstoc leaf"><a class="awstoc" href="get-set-up-for-amazon-ec2.html">Setting Up</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="EC2_GetStarted.html">Getting Started</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="ec2-best-practices.html">Best Practices</a></li>
                  <li class="awstoc closed"><a class="awstoc" href="ec2-tutorials.html">Tutorials</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-lamp-amazon-linux-2.html">Install a LAMP Server (Amazon Linux 2)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="install-LAMP.html">Install a LAMP Server (Amazon Linux AMI)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="hosting-wordpress.html">Tutorial: Hosting a WordPress Blog</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="SSL-on-an-instance.html">Tutorial: Configure Apache Web Server on Amazon Linux 2 to Use SSL/TLS</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-increase-availability.html">Tutorial: Increase the Availability of Your Application</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="tutorial_run_command.html">Tutorial: Remotely Manage Your Instances</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="AMIs.html">Amazon Machine Images</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ComponentsAMIs.html">AMI Types</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="virtualization_types.html">Virtualization Types</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="finding-an-ami.html">Finding a Linux AMI</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="sharing-amis.html">Shared AMIs</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="usingsharedamis-finding.html">Finding Shared AMIs</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="sharingamis-intro.html">Making an AMI Public</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="sharingamis-explicit.html">Sharing an AMI with Specific AWS Accounts</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="using-bookmarks.html">Using Bookmarks</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="building-shared-amis.html">Guidelines for Shared Linux AMIs</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="paid-amis.html">Paid AMIs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="creating-an-ami-ebs.html">Creating an Amazon EBS-Backed Linux AMI</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="creating-an-ami-instance-store.html">Creating an Instance Store-Backed Linux AMI</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="set-up-ami-tools.html">Setting Up the AMI Tools</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="create-instance-store-ami.html">Creating an AMI from an Instance Store-Backed Instance</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="Using_ConvertingS3toEBS.html">Converting to an Amazon EBS-Backed AMI</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ami-tools-commands.html">AMI Tools Reference</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="AMIEncryption.html">AMIs with Encrypted Snapshots</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="CopyingAMIs.html">Copying an AMI</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="deregister-ami.html">Deregistering Your Linux AMI</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="amazon-linux-ami-basics.html">Amazon Linux</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="amazon-linux-2-virtual-machine.html">Running Amazon Linux 2 as a Virtual Machine On-Premises</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="UserProvidedKernels.html">User Provided Kernels</a></li>
                     </ul>
                  </li>
                  <li class="awstoc opened"><a class="awstoc" href="Instances.html">Instances</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="instance-types.html">Instance Types</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="burstable-performance-instances.html">Burstable Performance Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="burstable-credits-baseline-concepts.html">CPU Credits and Baseline Performance</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="burstable-performance-instances-unlimited-mode.html">Unlimited Mode</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="unlimited-mode-examples.html">Examples</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc closed"><a class="awstoc" href="burstable-performance-instances-standard-mode.html">Standard Mode</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="standard-mode-examples.html">Examples</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc leaf"><a class="awstoc" href="burstable-performance-instances-how-to.html">Working with Burstable Performance Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="burstable-performance-instances-monitoring-cpu-credits.html">Monitoring Your CPU Credits</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="general-purpose-instances.html">General Purpose Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="compute-optimized-instances.html">Compute Optimized Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="memory-optimized-instances.html">Memory Optimized Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="storage-optimized-instances.html">Storage Optimized Instances</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="accelerated-computing-instances.html">Accelerated Computing Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="install-nvidia-driver.html">Installing the NVIDIA Driver on Linux Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="activate_grid.html">Activate NVIDIA GRID Virtual Applications (G3 Instances Only)</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="optimize_gpu.html">Optimizing GPU Settings (P2, P3, and G3 Instances)</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="fpga-getting-started.html">Getting Started with FPGA Development</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="concepts_micro_instances.html">T1 Micro Instances</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-instance-resize.html">Changing the Instance Type</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="instance-optimize-cpu.html">Optimizing CPU Options</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="instance-purchasing-options.html">Instance Purchasing Options</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="ec2-reserved-instances.html">Reserved Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="reserved-instances-types.html">Types of Reserved Instances (Offering Classes)</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="apply_ri.html">How Reserved Instances Are Applied</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="concepts-reserved-instances-application.html">How You Are Billed</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-market-concepts-buying.html">Buying Reserved Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-market-general.html">Selling on the Reserved Instance Marketplace</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-modifying.html">Modifying Reserved Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ri-convertible-exchange.html">Exchanging Convertible Reserved Instances</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-scheduled-instances.html">Scheduled Instances</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="using-spot-instances.html">Spot Instances</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="how-spot-instances-work.html">How Spot Instances Work</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-fleet.html">How Spot Fleet Works</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="using-spot-instances-history.html">Spot Instance Pricing History</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="spot-requests.html">Spot Instance Requests</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-request-examples.html">Example Launch Specifications</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc closed"><a class="awstoc" href="spot-fleet-requests.html">Spot Fleet Requests</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-examples.html">Example Configurations</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-cloudwatch-metrics.html">CloudWatch Metrics for Spot Fleet</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="spot-fleet-automatic-scaling.html">Automatic Scaling for Spot Fleet</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-target-tracking.html">Target Tracking Scaling Policies</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-step-scaling.html">Step Scaling Policies</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="spot-fleet-scheduled-scaling.html">Scheduled Scaling</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-bid-status.html">Spot Request Status</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-interruptions.html">Spot Instance Interruptions</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="spot-data-feeds.html">Spot Instance Data Feed</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="using-spot-limits.html">Spot Instance Limits</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="dedicated-hosts-overview.html">Dedicated Hosts</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="how-dedicated-hosts-work.html">Working with Dedicated Hosts</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="dedicated-hosts-aws-config.html">Tracking Configuration Changes</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="dedicated-instance.html">Dedicated Instances</a></li>
                           </ul>
                        </li>
                        <li class="awstoc opened"><a class="awstoc" href="ec2-instance-lifecycle.html">Instance Lifecycle</a><ul class="awstoc">
                              <li class="awstoc opened"><a class="awstoc" href="LaunchingAndUsingInstances.html">Launch</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="launching-instance.html">Launching an Instance Using the Launch Instance Wizard</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ec2-launch-templates.html">Launching an Instance from a Launch Template</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="launch-more-like-this.html">Launching an Instance From an Existing Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="instance-launch-snapshot.html">Launching a Linux Instance from a Backup</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="launch-marketplace-console.html">Launching an AWS Marketplace Instance</a></li>
                                    <li class="awstoc opened"><a class="awstoc" href="ec2-fleet.html">Launching an EC2 Fleet</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc selected" href="ec2-fleet-configuration-strategies.html">EC2 Fleet Configuration Strategies</a></li>
                                          <li class="awstoc closed"><a class="awstoc" href="manage-ec2-fleet.html">Managing an EC2 Fleet</a><ul class="awstoc">
                                                <li class="awstoc leaf"><a class="awstoc" href="ec2-fleet-examples.html">Example Configurations</a></li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="AccessingInstances.html">Connect</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="AccessingInstancesLinux.html">Connect Using SSH</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="putty.html">Connect Using PuTTY</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="WSL.html">Connect Using WSL</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="mindterm.html">Connect Using MindTerm</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="Stop_Start.html">Stop and Start</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-instance-reboot.html">Reboot</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="instance-retirement.html">Retire</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="terminating-instances.html">Terminate</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ec2-instance-recover.html">Recover</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="Configure_Instance.html">Configure Instances</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="managing-software.html">Managing Software</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="install-updates.html">Updating Instance Software</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="add-repositories.html">Adding Repositories</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="find-software.html">Finding Software Packages</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="install-software.html">Installing Software Packages</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="compile-software.html">Preparing to Compile Software</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="managing-users.html">Managing Users</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="processor_state_control.html">Processor State Control</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="set-time.html">Setting the Time</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="set-hostname.html">Changing the Hostname</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="dynamic-dns.html">Setting Up Dynamic DNS</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="user-data.html">Running Commands at Launch</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="ec2-instance-metadata.html">Instance Metadata and User Data</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="instance-identity-documents.html">Instance Identity Documents</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="identify_ec2_instances.html">Identify Instances</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="monitoring_ec2.html">Monitoring</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="monitoring_automated_manual.html">Automated and Manual Monitoring</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="monitoring_best_practices.html">Best Practices for Monitoring</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="monitoring-instances-status-check.html">Monitoring the Status of Your Instances</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="monitoring-system-instance-status-check.html">Instance Status Checks</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="monitoring-instances-status-check_sched.html">Scheduled Events</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="using-cloudwatch.html">Monitoring Your Instances Using CloudWatch</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="using-cloudwatch-new.html">Enable Detailed Monitoring</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="viewing_metrics_with_cloudwatch.html">List Available Metrics</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="monitoring_get_statistics.html">Get Statistics for Metrics</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="US_SingleMetricPerInstance.html">Get Statistics for a Specific Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="GetSingleMetricAllDimensions.html">Aggregate Statistics Across Instances</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="GetMetricAutoScalingGroup.html">Aggregate Statistics by Auto Scaling Group</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="US_SingleMetricPerAMI.html">Aggregate Statistics by AMI</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="graphs-in-the-aws-management-console.html">Graph Metrics</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="using-cloudwatch-createalarm.html">Create an Alarm</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="UsingAlarmActions.html">Create Alarms That Stop, Terminate, Reboot, or Recover an Instance</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="automating_with_cloudwatch_events.html">Automating Amazon EC2 with CloudWatch Events</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="mon-scripts.html">Monitoring Memory and Disk Metrics</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="EC2_Network_and_Security.html">Network and Security</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-key-pairs.html">Key Pairs</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="using-network-security.html">Security Groups</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="security-group-rules-reference.html">Security Group Rules Reference</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="UsingIAM.html">Controlling Access</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="iam-policies-for-amazon-ec2.html">IAM Policies</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="iam-policy-structure.html">Policy Structure</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ec2-supported-iam-actions-resources.html">Supported Resource-Level Permissions</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ExamplePolicies_EC2.html">Example Policies for CLI or SDK</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="iam-policies-ec2-console.html">Example Policies for the Console</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="iam-roles-for-amazon-ec2.html">IAM Roles</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="authorizing-access-to-an-instance.html">Network Access</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="using-instance-addressing.html">Instance IP Addressing</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="MultipleIP.html">Multiple IP Addresses</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="elastic-ip-addresses-eip.html">Elastic IP Addresses</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="using-eni.html">Network Interfaces</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="requester-managed-eni.html">Requester-Managed Network Interfaces</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="enhanced-networking.html">Enhanced Networking</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="sriov-networking.html">Enhanced Networking: Intel 82599 VF</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="enhanced-networking-ena.html">Enhanced Networking: ENA</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-ena.html">Troubleshooting ENA</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="placement-groups.html">Placement Groups</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="network_mtu.html">Network MTU</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="using-vpc.html">Virtual Private Clouds</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="ec2-classic-platform.html">EC2-Classic</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="vpc-classiclink.html">ClassicLink</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="vpc-migrate.html">Migrating from EC2-Classic to a VPC</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="Storage.html">Storage</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="AmazonEBS.html">Amazon EBS</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="EBSVolumes.html">EBS Volumes</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="EBSVolumeTypes.html">EBS Volume Types</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-creating-volume.html">Creating a Volume</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-restoring-volume.html">Restoring from a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-attaching-volume.html">Attaching a Volume to an Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-using-volumes.html">Making a Volume Available for Use</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-describing-volumes.html">Volume Information</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="monitoring-volume-status.html">Monitoring the Status of Your Volumes</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-detaching-volume.html">Detaching a Volume from an Instance</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-deleting-volume.html">Deleting a Volume</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="ebs-modify-volume.html">Modifying a Volume</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="volume_constraints.html">Volume Size Constraints</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="console-modify.html">Using the Console</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="cli-modify.html">Using the CLI</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="monitoring_mods.html">Monitoring Progress</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="expand-linux-partition.html">Expanding a Linux Partition</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="recognize-expanded-volume-linux.html">Extending Linux File Systems</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="limitations.html">Limitations</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="stop-start.html">Appendix: Manual Stop/Start Modification</a></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="EBSSnapshots.html">EBS Snapshots</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-creating-snapshot.html">Creating a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-deleting-snapshot.html">Deleting a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-copy-snapshot.html">Copying a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-describing-snapshots.html">Viewing Snapshot Information</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-modifying-snapshot-permissions.html">Sharing a Snapshot</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="snapshot-lifecycle.html">Automating Snapshots</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="EBSOptimized.html">EBS Optimization</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="EBSEncryption.html">EBS Encryption</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="nvme-ebs-volumes.html">EBS Volumes and NVMe</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="EBSPerformance.html">EBS Performance</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-ec2-config.html">EC2 Configuration</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-io-characteristics.html">I/O Characteristics and Monitoring</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ebs-initialize.html">Initialize Volumes</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="raid-config.html">RAID Configuration</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="benchmark_procedures.html">Benchmark EBS Volumes</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="ebs-cloud-watch-events.html">EBS CloudWatch Events</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="InstanceStorage.html">Instance Store</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="add-instance-store-volumes.html">Add Instance Store Volumes</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ssd-instance-store.html">SSD Instance Store Volumes</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="instance-store-swap-volumes.html">Instance Store Swap Volumes</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="disk-performance.html">Optimizing Disk Performance</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="AmazonEFS.html">Amazon EFS</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="AmazonS3.html">Amazon S3</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="volume_limits.html">Instance Volume Limits</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="device_naming.html">Device Naming</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="block-device-mapping-concepts.html">Block Device Mapping</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="using-public-data-sets.html">Using Public Data Sets</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="EC2_Resources.html">Resources and Tags</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="resources.html">Resource Locations</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="resource-ids.html">Resource IDs</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="Using_Filtering.html">Listing and Filtering Your Resources</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="Using_Tags.html">Tagging Your Resources</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2-resource-limits.html">Service Limits</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="usage-reports.html">Usage Reports</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="Linux-Server-EC2Rescue.html">EC2Rescue for Linux</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_install.html">Installing EC2Rescue for Linux</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_verify.html">(Optional) Verify the Signature of EC2Rescue for Linux</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_working.html">Working with EC2Rescue for Linux</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ec2rl_moduledev.html">Developing EC2Rescue Modules</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="ec2-instance-troubleshoot.html">Troubleshooting</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="troubleshooting-launch.html">Troubleshooting Launch Issues</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstancesConnecting.html">Connecting to Your Instance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstancesStopping.html">Stopping Your Instance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstancesShuttingDown.html">Terminating Your Instance</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstanceRecovery.html">Instance Recovery Failures</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TroubleshootingInstances.html">Failed Status Checks</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="instance-console.html">Getting Console Output and Rebooting Instances</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="instance-booting-from-wrong-volume.html">Booting from the Wrong Volume</a></li>
                     </ul>
                  </li>
                  <li class="awstoc leaf"><a class="awstoc" href="DocumentHistory.html">Document History</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="glossary.html">AWS Glossary</a></li>
                  <li id="toc-additional-links"><a class="btn btn-pdf-link" id="pdf-link-alt" href="ec2-ug.pdf#top" target="_blank" title="Open PDF"></a><a class="btn btn-kindle-link" id="kindle-link-alt" target="_blank" href="http://www.amazon.com/dp/B076452RSZ" title="Open Kindle"></a><a class="btn btn-rss-link" id="rss-link-alt" target="_blank" href="amazon-ec2-release-notes.rss" title="View RSS Feed"></a></li>
               </ul>
            </div>
         </div>
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> » <a href="/ec2/index.html">Amazon EC2</a> » <a href="index.html">User Guide for Linux Instances</a> » <a href="Instances.html">Amazon EC2 Instances</a> » <a href="ec2-instance-lifecycle.html">Instance Lifecycle</a> » <a href="LaunchingAndUsingInstances.html">Launch Your Instance</a> » <a href="ec2-fleet.html">Launching an EC2 Fleet</a> » <span class="breadcrumb">EC2 Fleet Configuration Strategies</span></div>
                           </td>
                        </tr>
                     </table>
                     <div></div>
                     <h1 class="topictitle" id="ec2-fleet-configuration-strategies">EC2 Fleet Configuration Strategies</h1>
                     <p>An <em>EC2 Fleet</em> is a group of On-Demand Instances and Spot Instances. 
                     </p>
                     <p>The EC2 Fleet attempts to launch the number of On-Demand Instances and Spot Instances
                        to meet the specified
                        			target capacity. The request for Spot Instances is fulfilled if the specified Spot
                        price exceeds
                        			the current Spot price and there is available capacity. The fleet also attempts
                        to
                        			maintain its target capacity if your Spot Instances are interrupted due to a change
                        in Spot
                        			prices or available capacity.
                     </p>
                     <p>A <em>Spot Instance pool</em> is a set of unused EC2 instances with the same instance
                        			type, operating system, Availability Zone, and network platform.
                        			When you create an EC2 Fleet, you can include multiple launch specifications, which
                        			vary by instance type, Availability Zone, subnet, and maximum price. The fleet
                        selects
                        			the Spot Instance pools that are used to fulfill the request, based on the launch
                        specifications
                        			included in your request, and the configuration of the request. The Spot Instances
                        come from the
                        			selected pools.
                     </p>
                     <p>An EC2 Fleet enables you to provision large amounts of EC2 capacity that makes sense
                        for
                        			your application based on number of cores or instances, or amount of memory. For
                        			example, you can specify an EC2 Fleet to launch a target capacity of 200 instances,
                        of which
                        			130 are On-Demand Instances and the rest are Spot Instances. Or you can request
                        1000 cores with a minimum of 2
                        			GB of RAM per core. The fleet determines the combination of Amazon EC2 options
                        to launch that
                        			capacity at the absolute lowest cost.
                     </p>
                     <p>Use the appropriate configuration strategies to create an EC2 Fleet that meets your
                        			needs.
                     </p>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Contents</strong></p>
                        <ul>
                           <li><a href="#plan-ec2-fleet">Planning an EC2 Fleet</a></li>
                           <li><a href="#ec2-fleet-request-type">EC2 Fleet Request Types</a></li>
                           <li><a href="#ec2-fleet-allocation-strategy">Allocation Strategy for Spot Instances</a></li>
                           <li><a href="#ec2-fleet-on-demand-backup">Configuring EC2 Fleet for On-Demand
                                 						Backup</a></li>
                           <li><a href="#ec2-fleet-price-overrides">Maximum Price Overrides</a></li>
                           <li><a href="#ec2-fleet-instance-weighting">EC2 Fleet Instance Weighting</a></li>
                           <li><a href="#ec2-fleet-instance-weighting-walkthrough">Walkthrough: Using EC2 Fleet with
                                 					Instance Weighting</a></li>
                           <li><a href="#ec2-fleet-on-demand-walkthrough">Walkthrough: Using EC2 Fleet with On-Demand as the
                                 					Primary Capacity</a></li>
                        </ul>
                     </div>
                     			
                     <h2 id="plan-ec2-fleet">Planning an EC2 Fleet</h2>
                     			
                     <p>When planning your EC2 Fleet, we recommend that you do the following:</p>
                     			
                     <div class="itemizedlist">
                        				
                        				
                        			
                        				
                        				
                        				
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              					
                              <p>Determine whether you want to create an EC2 Fleet that submits a one-time request
                                 for the
                                 						desired target capacity, or one that maintains a target capacity over time.
                                 						For more information, see <a href="ec2-fleet-configuration-strategies.html#ec2-fleet-request-type">EC2 Fleet Request Types</a>.
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p>Determine the instance types that meet your application
                                 						requirements.
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p>If you plan to include Spot Instances in your EC2 Fleet, review <a href="https://aws.amazon.com/ec2/spot/getting-started/#bestpractices" target="_blank">Spot Best
                                    							Practices</a> before you create the fleet. Use these best practices
                                 						when you plan your fleet so that you can provision the instances at the
                                 						lowest possible price.
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p>Determine the target capacity for your EC2 Fleet. You can set target capacity
                                 						in instances or in custom units. For more information, see <a href="ec2-fleet-configuration-strategies.html#ec2-fleet-instance-weighting">EC2 Fleet Instance Weighting</a>.
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p>Determine what portion of the EC2 Fleet target capacity must be On-Demand
                                 						capacity and Spot capacity. You can specify 0 for On-Demand capacity or Spot
                                 						capacity, or both.
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p>Determine your price per unit, if you are using instance weighting. To
                                 						calculate the price per unit, divide the price per instance hour by the
                                 						number of units (or weight) that this instance represents. If you are not
                                 						using instance weighting, the default price per unit is the price per
                                 						instance hour.
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p>Review the possible options for your EC2 Fleet. For more information, see the <a href="manage-ec2-fleet.html#ec2-fleet-json-reference">EC2 Fleet JSON Configuration File
                                    						Reference</a>. For EC2 Fleet configuration
                                 						examples, see <a href="ec2-fleet-examples.html">EC2 Fleet Example Configurations</a>.
                              </p>
                              				
                           </li>
                        </ul>
                     </div>
                     		
                     			
                     <h2 id="ec2-fleet-request-type">EC2 Fleet Request Types</h2>
                     			
                     <p>There are two types of EC2 Fleet requests: <code class="code">request</code> and <code class="code">maintain</code>. You
                        				can create a fleet to submit a one-time request for your desired capacity, or
                        				require it to maintain the target capacity over time.
                     </p>
                     			
                     <p>If you configure the fleet type as <code class="code">request</code>, EC2 Fleet places a one-time
                        				request for the target capacity, and does not attempt to replenish Spot Instances
                        if capacity
                        				is diminished. If capacity is not available, the fleet does not submit requests
                        in
                        				alternative Spot Instance pools.
                     </p>
                     			
                     <p>If you configure the fleet type as <code class="code">maintain</code>, EC2 Fleet places requests to
                        				meet the target capacity, and automatically replenishes any interrupted
                        				Spot Instances.
                     </p>
                     			
                     <p>You cannot modify the target capacity of a one-time request after it's been submitted.
                        To
                        				change the target capacity of a one-time request, delete the EC2 Fleet and create
                        a new
                        				one.
                     </p>
                     			
                     <p>Both types of requests benefit from an allocation strategy. For more information,
                        				see <a href="ec2-fleet-configuration-strategies.html#ec2-fleet-allocation-strategy">Allocation Strategy for Spot Instances</a>.
                     </p>
                     		
                     				
                     <h2 id="ec2-fleet-allocation-strategy">Allocation Strategy for Spot Instances</h2>
                     				
                     <p>The allocation strategy for your EC2 Fleet determines how it fulfills your request
                        for Spot Instances
                        				from the possible Spot Instance pools represented by its launch specifications.
                        The following
                        				are the allocation strategies that you can specify in your fleet:
                     </p>
                     				
                     <div class="variablelist">
                        					
                        					
                        					
                        				
                        <dl>
                           						
                           <dt><span class="term"><code class="code">lowestPrice</code></span></dt>
                           						
                           <dd>
                              							
                              <p>The Spot Instances come from the pool with the lowest price. This is the
                                 								default strategy.
                              </p>
                              						
                           </dd>
                           					
                           						
                           <dt><span class="term"><code class="code">diversified</code></span></dt>
                           						
                           <dd>
                              							
                              <p>The Spot Instances are distributed across all pools.</p>
                              						
                           </dd>
                           					
                           						
                           <dt><span class="term"><code class="code">InstancePoolsToUseCount</code></span></dt>
                           						
                           <dd>
                              							
                              <p>The Spot Instances are distributed across the number of Spot pools that you specify.
                                 This
                                 							parameter is valid only when used in combination with
                                 								<code class="code">lowestPrice</code>.
                              </p>
                              						
                           </dd>
                           					
                        </dl>
                     </div>
                     				
                     					
                     <h3 id="ec2-fleet-maintain-fleet-capacity">Maintaining Target
                        							Capacity
                     </h3>
                     					
                     <p>After Spot Instances are terminated due to a change in the Spot price or available
                        capacity of a
                        					Spot Instance pool, an EC2 Fleet of type <code class="code">maintain</code> launches replacement Spot Instances. If
                        					the allocation strategy is <code class="code">lowestPrice</code>, the fleet launches
                        					replacement instances in the pool where the Spot price is currently the lowest.
                        					If the allocation strategy is <code class="code">diversified</code>, the fleet distributes
                        					the replacement Spot Instances across the remaining pools. If the allocation
                        strategy is
                        						<code class="code">lowestPrice</code> in combination with
                        						<code class="code">InstancePoolsToUseCount</code>, the fleet selects the Spot pools with
                        					the lowest price and launches Spot Instances across the number of Spot pools
                        that you
                        					specify.
                     </p>
                     				
                     				
                     					
                     <h3 id="ec2-fleet-strategy-cost-optimization">Configuring EC2 Fleet for
                        							Cost Optimization
                     </h3>
                     					
                     <p>To optimize the costs for your use of Spot Instances, specify the <code class="code">lowestPrice</code>
                        					allocation strategy so that EC2 Fleet automatically deploys the cheapest combination
                        					of instance types and Availability Zones based on the current Spot price.
                     </p>
                     					
                     <p>For On-Demand Instance target capacity, EC2 Fleet always selects the cheapest instance
                        type based on the
                        					public On-Demand price, while continuing to follow the allocation strategy
                        					(either <code class="code">lowestPrice</code> or <code class="code">diversified</code>) for Spot Instances.
                     </p>
                     				
                     				
                     					
                     <h3 id="ec2-fleet-strategy-cost-optimization-and-diversified">Configuring EC2 Fleet for Cost Optimization and Diversification</h3>
                     					
                     <p>To create a fleet of Spot Instances that is both cheap and diversified, use the
                        						<code class="code">lowestPrice</code> allocation strategy in combination with
                        						<code class="code">InstancePoolsToUseCount</code>. EC2 Fleet automatically deploys the
                        					cheapest combination of instance types and Availability Zones based on the
                        					current Spot price across the number of Spot pools that you specify. This
                        					combination can be used to avoid the most expensive Spot Instances.
                     </p>
                     				
                     				
                     					
                     <h3 id="ec2-fleet-allocation-use-cases">Choosing the Appropriate Allocation
                        						Strategy
                     </h3>
                     					
                     <p>You can optimize your fleet based on your use case.</p>
                     					
                     <p>If your fleet is small or runs for a short time, the probability that your Spot Instances
                        will be
                        					interrupted is low, even with all the instances in a single Spot Instance pool.
                        					Therefore, the <code class="code">lowestPrice</code> strategy is likely to meet your needs
                        					while providing the lowest cost.
                     </p>
                     					
                     <p>If your fleet is large or runs for a long time, you can improve the
                        						availability of your fleet by distributing the Spot Instances across multiple
                        pools.
                        						For example, if your EC2 Fleet specifies 10 pools and a target capacity of 100
                        						instances, the fleet launches 10 Spot Instances in each pool. If the Spot price
                        for
                        						one pool exceeds your maximum price for this pool, only 10% of your fleet is
                        						affected. Using this strategy also makes your fleet less sensitive to
                        						increases in the Spot price in any one pool over time.
                     </p>
                     					
                     <p>With the <code class="code">diversified</code> strategy, the EC2 Fleet does not launch Spot Instances
                        						into any pools with a Spot price that is equal to or higher than the <a href="https://aws.amazon.com/ec2/pricing/" target="_blank">On-Demand price</a>.
                     </p>
                     					
                     <p>To create a cheap and diversified fleet, use the <code class="code">lowestPrice</code> strategy in
                        					combination with <code class="code">InstancePoolsToUseCount</code>. You can use a low or high
                        					number of Spot pools across which to allocate your Spot Instances. For example,
                        if you
                        					run batch processing, we recommend specifying a low number of Spot pools (for
                        					example, <code class="code">InstancePoolsToUseCount=2</code>) to ensure that your queue
                        					always has compute capacity while maximizing savings. If you run a web service,
                        					we recommend specifying a high number of Spot pools (for example,
                        						<code class="code">InstancePoolsToUseCount=10</code>) to minimize the impact if a Spot Instance
                        					pool becomes temporarily unavailable. 
                     </p>
                     				
                     			
                     				
                     <h2 id="ec2-fleet-on-demand-backup">Configuring EC2 Fleet for On-Demand
                        						Backup
                     </h2>
                     				
                     <p>If you have urgent, unpredictable scaling needs, such as a news website that
                        					must scale during a major news event or game launch, we recommend that you
                        					specify alternative instance types for your On-Demand Instances, in the event
                        that your
                        					preferred option does not have sufficient available capacity. For example, you
                        					might prefer <code class="code">c5.2xlarge</code> On-Demand Instances, but if there is insufficient
                        					available capacity, you'd be willing to use some <code class="code">c4.2xlarge</code>
                        					instances during peak load. In this case, EC2 Fleet attempts to fulfill all your
                        					target capacity using <code class="code">c5.2xlarge</code> instances, but if there is
                        					insufficient capacity, it automatically launches <code class="code">c4.2xlarge</code>
                        					instances to fulfill the target capacity.
                     </p>
                     				
                     					
                     <h3 id="ec2-fleet-on-demand-priority">Prioritizing Instance Types for On-Demand
                        						Capacity
                     </h3>
                     				
                     <p>When EC2 Fleet attempts to fulfill your On-Demand capacity, it defaults to launching
                        the
                        					lowest-priced instance type first. If <code class="code">AllocationStrategy</code> is set to
                        						<code class="code">prioritized</code>, EC2 Fleet uses priority to determine which instance
                        					type to use first in fulfilling On-Demand capacity. The priority is assigned
                        to
                        					the launch template override, and the highest priority is launched first. 
                     </p>
                     				
                     <p>For example, you have configured three launch template overrides, each with a different
                        					instance type: <code class="code">c3.large</code>, <code class="code">c4.large</code>, and
                        						<code class="code">c5.large</code>. The On-Demand price for <code class="code">c5.large</code> is less
                        					than for <code class="code">c4.large</code>. <code class="code">c3.large</code> is the cheapest. If you do
                        					not use priority to determine the order, the fleet fulfills On-Demand capacity
                        					by starting with <code class="code">c3.large</code>, and then <code class="code">c5.large</code>. Because
                        					you often have unused Reserved Instances for <code class="code">c4.large</code>, you can set the launch
                        					template override priority so that the order is <code class="code">c4.large</code>,
                        						<code class="code">c3.large</code>, and then <code class="code">c5.large</code>.
                     </p>
                     				
                     			
                     			
                     <h2 id="ec2-fleet-price-overrides">Maximum Price Overrides</h2>
                     			
                     <p>Each EC2 Fleet can include a global maximum price, or use the default (the On-Demand
                        				price). The fleet uses this as the default maximum price for each of its launch
                        				specifications.
                     </p>
                     			
                     <p>You can optionally specify a maximum price in one or more launch specifications.
                        				This price is specific to the launch specification. If a launch specification
                        				includes a specific price, the EC2 Fleet uses this maximum price, overriding the
                        global
                        				maximum price. Any other launch specifications that do not include a specific
                        				maximum price still use the global maximum price.
                     </p>
                     		
                     			
                     <h2 id="ec2-fleet-instance-weighting">EC2 Fleet Instance Weighting</h2>
                     			
                     <p>When you create an EC2 Fleet, you can define the capacity units that each instance
                        type would
                        				contribute to your application's performance, and adjust your maximum price for
                        each
                        				launch specification accordingly using <em>instance
                           				weighting</em>.
                     </p>
                     			
                     <p>By default, the price that you specify is <em>per instance hour</em>.
                        				When you use the instance weighting feature, the price that you specify is
                        					<em>per unit hour</em>. You can calculate your price per unit hour
                        				by dividing your price for an instance type by the number of units that it
                        				represents. EC2 Fleet calculates the number of instances to launch by dividing
                        the target
                        				capacity by the instance weight. If the result isn't an integer, the fleet rounds
                        it
                        				up to the next integer, so that the size of your fleet is not below its target
                        				capacity. The fleet can select any pool that you specify in your launch
                        				specification, even if the capacity of the instances launched exceeds the requested
                        				target capacity.
                     </p>
                     			
                     <p>The following table includes examples of calculations to determine the price per
                        				unit for an EC2 Fleet with a target capacity of 10.
                     </p>
                     			
                     <div class="table">
                        <p class="title"><b></b></p>
                        <div class="table-contents">
                           <table id="w228aac17c15c29c25c21c25b9">
                              						
                              <tr>
                                 							
                                 <th>Instance type</th>
                                 							
                                 <th>Instance weight</th>
                                 							
                                 <th>Target capacity</th>
                                 							
                                 <th>Number of instances launched</th>
                                 							
                                 <th>Price per instance hour</th>
                                 							
                                 <th>Price per unit hour</th>
                                 						
                              </tr>
                              					
                              						
                              <tr>
                                 							
                                 <td>
                                    								
                                    <p><code class="code">r3.xlarge</code></p>
                                    							
                                 </td>
                                 							
                                 <td>
                                    								
                                    <p>2</p>
                                    							
                                 </td>
                                 							
                                 <td>10</td>
                                 							
                                 <td>
                                    								
                                    <p>5</p>
                                    								
                                    <p>(10 divided by 2)</p>
                                    							
                                 </td>
                                 							
                                 <td>
                                    								
                                    <p>$0.05</p>
                                    							
                                 </td>
                                 							
                                 <td>
                                    								
                                    <p>.025</p>
                                    								
                                    <p>(.05 divided by 2)</p>
                                    							
                                 </td>
                                 						
                              </tr>
                              						
                              <tr>
                                 							
                                 <td>
                                    								
                                    <p><code class="code">r3.8xlarge</code></p>
                                    							
                                 </td>
                                 							
                                 <td>
                                    								
                                    <p>8</p>
                                    							
                                 </td>
                                 							
                                 <td>10</td>
                                 							
                                 <td>
                                    								
                                    <p>2</p>
                                    								
                                    <p>(10 divided by 8, result rounded up)</p>
                                    							
                                 </td>
                                 							
                                 <td>
                                    								
                                    <p>$0.10</p>
                                    							
                                 </td>
                                 							
                                 <td>
                                    								
                                    <p>.0125</p>
                                    								
                                    <p>(.10 divided by 8)</p>
                                    							
                                 </td>
                                 						
                              </tr>
                              					
                           </table>
                        </div>
                     </div>
                     			
                     <p>Use EC2 Fleet instance weighting as follows to provision the target capacity that
                        you
                        				want in the pools with the lowest price per unit at the time of fulfillment:
                     </p>
                     			
                     <ol>
                        <li>
                           					
                           <p>Set the target capacity for your EC2 Fleet either in instances (the default) or
                              						in the units of your choice, such as virtual CPUs, memory, storage, or
                              						throughput.
                           </p>
                           				
                        </li>
                        <li>
                           					
                           <p>Set the price per unit.</p>
                           				
                        </li>
                        <li>
                           					
                           <p>For each launch specification, specify the weight, which is the number of
                              						units that the instance type represents toward the target capacity.
                           </p>
                           				
                        </li>
                     </ol>
                     			
                     				
                     <p class="title"><b>Instance Weighting Example</b></p>
                     				
                     <p>Consider an EC2 Fleet request with the following configuration:</p>
                     			
                     			
                     <div class="itemizedlist">
                        				
                        				
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              					
                              <p>A target capacity of 24</p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p>A launch specification with an instance type <code class="code">r3.2xlarge</code> and a
                                 						weight of 6
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p>A launch specification with an instance type <code class="code">c3.xlarge</code> and a
                                 						weight of 5
                              </p>
                              				
                           </li>
                        </ul>
                     </div>
                     			
                     <p>The weights represent the number of units that instance type represents toward the
                        				target capacity. If the first launch specification provides the lowest price per
                        				unit (price for <code class="code">r3.2xlarge</code> per instance hour divided by 6), the EC2 Fleet
                        				would launch four of these instances (24 divided by 6).
                     </p>
                     			
                     <p>If the second launch specification provides the lowest price per unit (price for
                        					<code class="code">c3.xlarge</code> per instance hour divided by 5), the EC2 Fleet would launch
                        				five of these instances (24 divided by 5, result rounded up).
                     </p>
                     			
                     				
                     <p class="title"><b>Instance Weighting and Allocation Strategy</b></p>
                     				
                     <p>Consider an EC2 Fleet request with the following configuration:</p>
                     			
                     			
                     <div class="itemizedlist">
                        				
                        				
                        				
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              					
                              <p>A target capacity of 30 Spot Instances</p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p>A launch specification with an instance type <code class="code">c3.2xlarge</code> and a
                                 						weight of 8
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p>A launch specification with an instance type <code class="code">m3.xlarge</code> and a
                                 						weight of 8
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p>A launch specification with an instance type <code class="code">r3.xlarge</code> and a
                                 						weight of 8
                              </p>
                              				
                           </li>
                        </ul>
                     </div>
                     			
                     <p>The EC2 Fleet would launch four instances (30 divided by 8, result rounded up). With
                        the
                        					<code class="code">lowestPrice</code> strategy, all four instances come from the pool that
                        				provides the lowest price per unit. With the <code class="code">diversified</code> strategy, the
                        				fleet launches one instance in each of the three pools, and the fourth instance
                        in
                        				whichever of the three pools provides the lowest price per unit.
                     </p>
                     		
                     			
                     <h2 id="ec2-fleet-instance-weighting-walkthrough">Walkthrough: Using EC2 Fleet with
                        					Instance Weighting
                     </h2>
                     			
                     <p>This walkthrough uses a fictitious company called Example Corp to illustrate the
                        				process of requesting an EC2 Fleet using instance weighting.
                     </p>
                     			
                     				
                     <h3 id="ec2-fleet-instance-weighting-walkthrough-objective">Objective</h3>
                     				
                     <p>Example Corp, a pharmaceutical company, wants to use the computational power
                        					of Amazon EC2 for screening chemical compounds that might be used to fight
                        					cancer.
                     </p>
                     			
                     			
                     				
                     <h3 id="ec2-fleet-instance-weighting-walkthrough-planning">Planning</h3>
                     				
                     <p>Example Corp first reviews <a href="https://aws.amazon.com/ec2/spot/getting-started/#bestpractices" target="_blank">Spot Best
                           						Practices</a>. Next, Example Corp determines the requirements for their
                        					EC2 Fleet.
                     </p>
                     				
                     					
                     <p class="title"><b>Instance Types</b></p>
                     					
                     <p>Example Corp has a compute- and memory-intensive application that performs
                        						best with at least 60 GB of memory and eight virtual CPUs (vCPUs). They want
                        						to maximize these resources for the application at the lowest possible
                        						price. Example Corp decides that any of the following EC2 instance types
                        						would meet their needs:
                     </p>
                     				
                     				
                     <div class="table">
                        <div class="table-contents">
                           <table id="w228aac17c15c29c25c21c27b7b7">
                              							
                              <tr>
                                 								
                                 <th>Instance type</th>
                                 								
                                 <th>Memory (GiB)</th>
                                 								
                                 <th>vCPUs</th>
                                 							
                              </tr>
                              						
                              							
                              <tr>
                                 								
                                 <td>
                                    									
                                    <p>r3.2xlarge</p>
                                    								
                                 </td>
                                 								
                                 <td>
                                    									
                                    <p>61</p>
                                    								
                                 </td>
                                 								
                                 <td>
                                    									
                                    <p>8</p>
                                    								
                                 </td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td>
                                    									
                                    <p>r3.4xlarge</p>
                                    								
                                 </td>
                                 								
                                 <td>
                                    									
                                    <p>122</p>
                                    								
                                 </td>
                                 								
                                 <td>
                                    									
                                    <p>16</p>
                                    								
                                 </td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td>
                                    									
                                    <p>r3.8xlarge</p>
                                    								
                                 </td>
                                 								
                                 <td>
                                    									
                                    <p>244</p>
                                    								
                                 </td>
                                 								
                                 <td>
                                    									
                                    <p>32</p>
                                    								
                                 </td>
                                 							
                              </tr>
                              						
                           </table>
                        </div>
                     </div>
                     				
                     					
                     <p class="title"><b>Target Capacity in Units</b></p>
                     					
                     <p>With instance weighting, target capacity can equal a number of instances
                        						(the default) or a combination of factors such as cores (vCPUs), memory
                        						(GiBs), and storage (GBs). By considering the base for their application (60
                        						GB of RAM and eight vCPUs) as one unit, Example Corp decides that 20 times
                        						this amount would meet their needs. So the company sets the target capacity
                        						of their EC2 Fleet request to 20.
                     </p>
                     				
                     				
                     					
                     <p class="title"><b>Instance Weights</b></p>
                     					
                     <p>After determining the target capacity, Example Corp calculates instance
                        						weights. To calculate the instance weight for each instance type, they
                        						determine the units of each instance type that are required to reach the
                        						target capacity as follows:
                     </p>
                     				
                     				
                     <div class="itemizedlist">
                        					
                        					
                        					
                        				
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              						
                              <p>r3.2xlarge (61.0 GB, 8 vCPUs) = 1 unit of 20</p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p>r3.4xlarge (122.0 GB, 16 vCPUs) = 2 units of 20</p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p>r3.8xlarge (244.0 GB, 32 vCPUs) = 4 units of 20</p>
                              					
                           </li>
                        </ul>
                     </div>
                     				
                     <p>Therefore, Example Corp assigns instance weights of 1, 2, and 4 to the
                        					respective launch configurations in their EC2 Fleet request.
                     </p>
                     				
                     					
                     <p class="title"><b>Price Per Unit Hour</b></p>
                     					
                     <p>Example Corp uses the <a href="https://aws.amazon.com/ec2/pricing/" target="_blank">On-Demand
                           							price</a> per instance hour as a starting point for their price.
                        						They could also use recent Spot prices, or a combination of the two. To
                        						calculate the price per unit hour, they divide their starting price per
                        						instance hour by the weight. For example:
                     </p>
                     				
                     				
                     <div class="table">
                        <div class="table-contents">
                           <table id="w228aac17c15c29c25c21c27b7c19">
                              							
                              <tr>
                                 								
                                 <th>Instance type</th>
                                 								
                                 <th>On-Demand price</th>
                                 								
                                 <th>Instance weight</th>
                                 								
                                 <th>Price per unit hour</th>
                                 							
                              </tr>
                              						
                              							
                              <tr>
                                 								
                                 <td>
                                    									
                                    <p>r3.2xLarge</p>
                                    								
                                 </td>
                                 								
                                 <td>
                                    									
                                    <p>$0.7</p>
                                    								
                                 </td>
                                 								
                                 <td>
                                    									
                                    <p>1</p>
                                    								
                                 </td>
                                 								
                                 <td>
                                    									
                                    <p>$0.7</p>
                                    								
                                 </td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td>
                                    									
                                    <p>r3.4xLarge</p>
                                    								
                                 </td>
                                 								
                                 <td>
                                    									
                                    <p>$1.4</p>
                                    								
                                 </td>
                                 								
                                 <td>
                                    									
                                    <p>2</p>
                                    								
                                 </td>
                                 								
                                 <td>
                                    									
                                    <p>$0.7</p>
                                    								
                                 </td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td>
                                    									
                                    <p>r3.8xLarge</p>
                                    								
                                 </td>
                                 								
                                 <td>
                                    									
                                    <p>$2.8</p>
                                    								
                                 </td>
                                 								
                                 <td>
                                    									
                                    <p>4</p>
                                    								
                                 </td>
                                 								
                                 <td>
                                    									
                                    <p>$0.7</p>
                                    								
                                 </td>
                                 							
                              </tr>
                              						
                           </table>
                        </div>
                     </div>
                     				
                     <p>Example Corp could use a global price per unit hour of $0.7 and be competitive
                        					for all three instance types. They could also use a global price per unit hour
                        					of $0.7 and a specific price per unit hour of $0.9 in the
                        						<code class="code">r3.8xlarge</code> launch specification.
                     </p>
                     			
                     			
                     				
                     <h3 id="ec2-fleet-instance-weighting-walkthrough-permissions">Verifying
                        						Permissions
                     </h3>
                     				
                     <p>Before creating an EC2 Fleet, Example Corp verifies that it has an IAM role with
                        					the required permissions. For more information, see <a href="manage-ec2-fleet.html#ec2-fleet-prerequisites">EC2 Fleet Prerequisites</a>.
                     </p>
                     			
                     			
                     				
                     <h3 id="ec2-fleet-instance-weighting-walkthrough-request">Creating the
                        						EC2 Fleet
                     </h3>
                     				
                     <p>Example Corp creates a file, <code>config.json</code>, with the
                        					following configuration for its EC2 Fleet:
                     </p>
                     				<pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">{ 
    "LaunchTemplateConfigs": [
        {
            "LaunchTemplateSpecification": {
                "LaunchTemplateId": "lt-07b3bc7625cdab851", 
                "Version": "1"
            }, 
            "Overrides": [
                {
                    "InstanceType": "r3.2xlarge", 
                    "SubnetId": "subnet-482e4972", 
                    "WeightedCapacity": 1
                },
                {
                    "InstanceType": "r3.4xlarge", 
                    "SubnetId": "subnet-482e4972", 
                    "WeightedCapacity": 2
                },
                {
                    "InstanceType": "r3.8xlarge", 
                    "MaxPrice": "0.90", 
                    "SubnetId": "subnet-482e4972", 
                    "WeightedCapacity": 4
                }
            ]
        }
    ], 
    "TargetCapacitySpecification": {
        "TotalTargetCapacity": 20, 
        "DefaultTargetCapacityType": "spot"
    }
}</code></pre>
                     				<p>Example Corp creates the EC2 Fleet using the following <a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/create-fleet.html" target="_blank">create-fleet</a>
                        					command:
                     </p>
                     				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 create-fleet --cli-input-json file://config.json</code></strong></code></pre>
                     				<p>For more information, see <a href="manage-ec2-fleet.html#create-ec2-fleet">Creating an EC2 Fleet</a>.
                     </p>
                     			
                     			
                     				
                     <h3 id="ec2-fleet-instance-weighting-walkthrough-fulfillment">Fulfillment</h3>
                     				
                     <p>The allocation strategy determines which Spot Instance pools your Spot Instances come
                        					from.
                     </p>
                     				
                     <p>With the <code class="code">lowestPrice</code> strategy (which is the default strategy), the Spot Instances come
                        					from the pool with the lowest price per unit at the time of fulfillment. To
                        					provide 20 units of capacity, the EC2 Fleet launches either 20
                        						<code class="code">r3.2xlarge</code> instances (20 divided by 1), 10
                        						<code class="code">r3.4xlarge</code> instances (20 divided by 2), or 5
                        						<code class="code">r3.8xlarge</code> instances (20 divided by 4).
                     </p>
                     				
                     <p>If Example Corp used the <code class="code">diversified</code> strategy, the Spot Instances would
                        					come from all three pools. The EC2 Fleet would launch 6 <code class="code">r3.2xlarge</code>
                        					instances (which provide 6 units), 3 <code class="code">r3.4xlarge</code> instances (which
                        					provide 6 units), and 2 <code class="code">r3.8xlarge</code> instances (which provide 8
                        					units), for a total of 20 units.
                     </p>
                     			
                     		
                     			
                     <h2 id="ec2-fleet-on-demand-walkthrough">Walkthrough: Using EC2 Fleet with On-Demand as the
                        					Primary Capacity
                     </h2>
                     			
                     <p>This walkthrough uses a fictitious company called ABC Online to illustrate the process
                        of
                        				requesting an EC2 Fleet with On-Demand as the primary capacity, and Spot capacity
                        if
                        				available.
                     </p>
                     			
                     				
                     <h3 id="ec2-fleet-on-demand-walkthrough-objective">Objective</h3>
                     				
                     <p>ABC Online, a restaurant delivery company, wants to be able to provision Amazon EC2
                        capacity
                        					across EC2 instance types and purchase models to achieve their desired scale,
                        					performance, and cost.
                     </p>
                     			
                     			
                     				
                     <h3 id="ec2-fleet-on-demand-walkthrough-planning">Planning</h3>
                     				
                     <p>ABC Online requires a fixed capacity to operate during peak periods, but would
                        					like to benefit from increased capacity at a lower price. ABC Online determines
                        					the following requirements for their EC2 Fleet:
                     </p>
                     				
                     <div class="itemizedlist">
                        					
                        					
                        				
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              						
                              <p>On-Demand Instance capacity – ABC Online requires 15 On-Demand Instances to ensure
                                 they
                                 							can accommodate traffic at peak periods.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p>Spot Instance capacity – ABC Online would like to improve performance,
                                 							but at a lower price, by provisioning 5 Spot Instances.
                              </p>
                              					
                           </li>
                        </ul>
                     </div>
                     			
                     			
                     				
                     <h3 id="ec2-fleet-on-demand-walkthrough-permissions">Verifying
                        						Permissions
                     </h3>
                     				
                     <p>Before creating an EC2 Fleet, ABC Online verifies that it has an IAM role with
                        					the required permissions. For more information, see <a href="manage-ec2-fleet.html#ec2-fleet-prerequisites">EC2 Fleet Prerequisites</a>.
                     </p>
                     			
                     			
                     				
                     <h3 id="ec2-fleet-on-demand-walkthrough-request">Creating the
                        						EC2 Fleet
                     </h3>
                     				
                     <p>ABC Online creates a file, <code>config.json</code>, with the
                        					following configuration for its EC2 Fleet:
                     </p>
                     				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
    "LaunchTemplateConfigs": [
        {
            "LaunchTemplateSpecification": {
                "LaunchTemplateId": "lt-07b3bc7625cdab851",
                "Version": "2"
            }

        }
    ],
    "TargetCapacitySpecification": {
        "TotalTargetCapacity": 20,
	    "OnDemandTargetCapacity":15,
        "DefaultTargetCapacityType": "spot"
    }
}</code></pre>
                     				<p>ABC Online creates the EC2 Fleet using the following <a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/create-fleet.html" target="_blank">create-fleet</a>
                        					command:
                     </p>
                     				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws ec2 create-fleet --cli-input-json file://config.json</code></strong></code></pre>
                     				<p>For more information, see <a href="manage-ec2-fleet.html#create-ec2-fleet">Creating an EC2 Fleet</a>.
                     </p>
                     			
                     			
                     				
                     <h3 id="ec2-fleet-on-demand-walkthrough-fulfillment">Fulfillment</h3>
                     				
                     <p>The allocation strategy determines that the On-Demand capacity is always
                        					fulfilled, while the balance of the target capacity is fulfilled as Spot if
                        					there is capacity and availability.
                     </p>
                     			
                     		
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="ec2-fleet.html">« Previous </a><a class="awstoc" accesskey="n" href="manage-ec2-fleet.html">Next »</a></div>
                     <div id="copyright-main-footer">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Planning an EC2 Fleet"><a class="pagetoc" href="#plan-ec2-fleet">Planning an EC2 Fleet</a></li>
                        <li class="pagetoc" name="EC2 Fleet Request Types"><a class="pagetoc" href="#ec2-fleet-request-type">EC2 Fleet Request Types</a></li>
                        <li class="pagetoc" name="Allocation Strategy for Spot Instances"><a class="pagetoc" href="#ec2-fleet-allocation-strategy">Allocation Strategy for Spot Instances</a></li>
                        <li class="pagetoc" name="Configuring EC2 Fleet for On-Demand&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Backup"><a class="pagetoc" href="#ec2-fleet-on-demand-backup">Configuring EC2 Fleet for On-Demand
                              						Backup</a></li>
                        <li class="pagetoc" name="Maximum Price Overrides"><a class="pagetoc" href="#ec2-fleet-price-overrides">Maximum Price Overrides</a></li>
                        <li class="pagetoc" name="EC2 Fleet Instance Weighting"><a class="pagetoc" href="#ec2-fleet-instance-weighting">EC2 Fleet Instance Weighting</a></li>
                        <li class="pagetoc" name="Walkthrough: Using EC2 Fleet with&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Instance Weighting"><a class="pagetoc" href="#ec2-fleet-instance-weighting-walkthrough">Walkthrough: Using EC2 Fleet with
                              					Instance Weighting</a></li>
                        <li class="pagetoc" name="Walkthrough: Using EC2 Fleet with On-Demand as the&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Primary Capacity"><a class="pagetoc" href="#ec2-fleet-on-demand-walkthrough">Walkthrough: Using EC2 Fleet with On-Demand as the
                              					Primary Capacity</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using our site, you consent
            to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      <div id="footer">
         <div id="footer_short_fb" class="hide" title="Feedback"><a target="_blank" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EC2&amp;topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/ec2-fleet-configuration-strategies.html&amp;hidden_guide_name=User Guide for Linux Instances&amp;hidden_api_version=&amp;hidden_file_name=ec2-fleet-configuration-strategies"><i class="awsdocs-footer-text fa fa-envelope-o"></i></a></div>
         <div id="footer_toggle" class="mediaobject">
            <div id="footer_toggle_img" class="awsdocs-footer-text fa fa-caret-down"></div>
            <div id="footer_toggle_img_collapse" class="hide awsdocs-footer-text fa fa-caret-right"></div>
         </div>
         <div id="footer-left"><a class="awsdocs-footer-text" target="_top" href="http://aws.amazon.com/terms">Terms of Use</a><span class="awsdocs-footer-text"> | </span><a class="awsdocs-footer-text" target="_top" href="http://aws.amazon.com/privacy">Privacy</a><span class="awsdocs-footer-text"> | </span><span class="awsdocs-footer-text">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</span></div>
         <div id="footer-right">
            <div id="feedback">
               <div id="forums"><a id="forum_link" target="_blank" href="http://forums.aws.amazon.com/forum.jspa?forumID=30" class="awsdocs-footer-text">Have a question? Try the Forums.</a></div>
               <div id="feedback-message" class="awsdocs-footer-text">Did this page help you?</div>
               <div id="feedback-yesno-buttons"><a class="awstoc btn btn-default" target="_blank" href="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/ec2-fleet-configuration-strategies.html">Yes</a><a class="awstoc btn btn-default" target="_blank" href="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/ec2-fleet-configuration-strategies.html">No</a></div>
               <div id="feedback-feedback-button"><a class="awstoc btn btn-default" target="_blank" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EC2&amp;topic_url=http://docs.aws.amazon.com/en_us/AWSEC2/latest/UserGuide/ec2-fleet-configuration-strategies.html&amp;hidden_guide_name=User Guide for Linux Instances&amp;hidden_api_version=&amp;hidden_file_name=ec2-fleet-configuration-strategies">Feedback</a></div>
            </div>
         </div>
      </div>
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon Elastic Compute Cloud';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide for Linux Instances';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   </body>
</html>