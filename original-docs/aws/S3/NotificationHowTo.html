<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title> Configuring Amazon S3 Event Notifications - Amazon Simple Storage Service</title>
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="home" href="#top" />
      <link rel="up" href="Welcome.html" title="What Is Amazon S3?" />
      <link rel="prev" href="getting-started-cleanup.html" title="Clean Up Your Example Resources" />
      <link rel="next" href="ways-to-add-notification-config-to-bucket.html" title="Example Walkthrough 1: Configure&#xA;            a Bucket for Notifications (Message Destination: SNS Topic and SQS Queue)" />
      <meta name="description" content="Set up and configure notifications so that key events on buckets cause a message to be sent to an Amazon SNS topic." />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="Amazon Simple Storage Service" />
      <meta name="guide" content="Developer Guide" />
      <meta name="guide-locale" content="en_us" />
      <link rel="icon" type="image/ico" href="/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/AmazonS3/latest/dev/NotificationHowTo.html" />
      <link rel="stylesheet" type="text/css" href="/css/jquery-ui.min.css" />
      <link rel="stylesheet" type="text/css" href="/font/css/font-awesome.min.css" />
      <link rel="stylesheet" type="text/css" href="/css/google-font.css" />
      <link id="code-style" rel="stylesheet" type="text/css" href="/css/code/light.css" />
      <link rel="stylesheet" type="text/css" href="/css/jquery-ui.theme.css" />
      <link rel="stylesheet" type="text/css" href="/css/colorbox.css" />
      <link rel="stylesheet" type="text/css" href="/css/awsdocs.css?v=20170615" /><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      <div xmlns:db="http://docbook.org/ns/docbook" id="aws-nav" class="aws-nav-header">
         <div class="aws-nav-header-left">
            <div id="aws-nav-flyout-trigger" class="aws-nav-flyout-trigger"><i class="fa fa-bars fa-2x"></i></div>
            <div class="aws-nav-logo">
               <!--aws_logo_105x39.png--><a href="http://aws.amazon.com"><img src="/images/aws_logo_105x39.png" alt="Amazon Web Services" /></a></div>
         </div>
         <div id="aws-nav-header-right" class="aws-nav-header-right">
            <div class="aws-nav-cta-button-outer"><a id="aws-nav-cta-button" class="aws-nav-button" href="https://console.aws.amazon.com/console/home">Sign In to the Console</a></div>
            <div class="aws-nav-popover-trigger" data-dropdown="aws-nav-dropdown-lang"><select id="languageSelection" onchange="SelectLanguage()">
                  <option value="/de_de/AmazonS3/latest/dev/NotificationHowTo.html">Deutsch</option>
                  <option value="/en_us/AmazonS3/latest/dev/NotificationHowTo.html" selected="selected">English</option>
                  <option value="/es_es/AmazonS3/latest/dev/NotificationHowTo.html">Español</option>
                  <option value="/fr_fr/AmazonS3/latest/dev/NotificationHowTo.html">Français</option>
                  <option value="/it_it/AmazonS3/latest/dev/NotificationHowTo.html">Italiano</option>
                  <option value="/ja_jp/AmazonS3/latest/dev/NotificationHowTo.html">日本語</option>
                  <option value="/ko_kr/AmazonS3/latest/dev/NotificationHowTo.html">한국어</option>
                  <option value="/pt_br/AmazonS3/latest/dev/NotificationHowTo.html">Português</option>
                  <option value="/zh_cn/AmazonS3/latest/dev/NotificationHowTo.html">中文 (简体)</option>
                  <option value="/zh_tw/AmazonS3/latest/dev/NotificationHowTo.html">中文 (繁體)</option></select></div><a class="btn btn-rss-link" id="rss-link-top" target="_blank" href="s3-dev-guide-rss-updates.rss" title="View RSS Feed"></a><a class="btn btn-kindle-link" id="kindle-link-top" target="_blank" href="http://www.amazon.com/dp/B0763Z4YVV" title="Open Kindle"></a><a class="btn btn-pdf-link" id="pdf-link-top" href="s3-dg.pdf#NotificationHowTo" target="_blank" title="Open PDF"></a><a class="btn btn-github-link" id="github-link-top" href="https://github.com/awsdocs/amazon-s3-developer-guide/tree/master/doc_source/NotificationHowTo.md" target="_blank" title="Edit on GitHub"></a><div id="aws-nav-quicklinks-separator" class="aws-nav-quicklinks-separator">
               <div class="aws-nav-left"></div>
               <div class="aws-nav-right"></div>
            </div>
         </div>
         <div xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" id="topnav-flyout-menu-container">
            <ul id="topnav-flyout-menu"><script id="flyout-item-template" type="text/x-handlebars-template">
                    {{#flyoutList}}

                        {{#if topTarget}}
                            <li class="awsdocs-flyout-link-wrapper"><a href="{{topTarget}}">{{listItem}}</a></li>
                        {{else}}
                            <li>{{listItem}}
                                {{#if subList}}
                                <ul>
                                    {{#subList}}
                                    <li class="awsdocs-flyout-link-wrapper"><a href="{{target}}">{{text}}</a></li>
                                    {{/subList}}
                                </ul>
                                {{/if}}
                            </li>
                        {{/if}}

                    {{/flyoutList}}
                </script></ul>
            <div id="topnav-flyout-menu-spacer"></div>
         </div>
      </div>
      <div id="content-container">
         <div id="left-column">
            <div id="left-col-header">
               <div xmlns:db="http://docbook.org/ns/docbook" id="left-col-top-content">
                  <div id="service-name">Amazon Simple Storage Service </div>
                  <div id="search"><i id="search-icon" class="fa fa-search fa-2x"></i></div>
                  <div id="guide-info">Developer Guide (API Version 2006-03-01)
                     <div id="content-button"><i id="toggle-contents" class="fa fa-bars"></i></div>
                  </div>
               </div>
               <form id="finegrainedSearch" method="get" onsubmit="return searchFormSubmit(this);" action="/search/doc-search.html">
                  <div id="search-form"><select id="search-select" name="searchPath">
                        <option value="all">Entire Site</option>
                        <option value="AWSMarketplace">AMIs from AWS Marketplace</option>
                        <option value="amis">AMIs from All Sources</option>
                        <option value="articles">Articles &amp; Tutorials</option>
                        <option value="products_and_info">AWS Product Information</option>
                        <option value="case_studies">Case Studies</option>
                        <option value="customerapps">Customer Apps</option>
                        <option value="documentation">Documentation</option>
                        <option value="documentation-product">Documentation - This Product</option>
                        <option value="documentation-guide" selected="selected">Documentation - This Guide</option>
                        <option value="datasets">Public Data Sets</option>
                        <option value="releasenotes">Release Notes</option>
                        <option value="solution_providers">Partners</option>
                        <option value="code">Sample Code &amp; Libraries</option></select><br /><input id="search-query" name="searchQuery" type="text" placeholder="Search" /><input id="search-button" src="/images/search-button.png" alt="Go" type="image" /></div><input type="hidden" name="this_doc_product" id="this_doc_product" value="Amazon Simple Storage Service" /><input type="hidden" name="this_doc_guide" id="this_doc_guide" value="Developer Guide" /><input type="hidden" name="doc_locale" value="en_us" /></form>
            </div>
            <div id="toc">
               <ul class="awstoc">
                  <li class="awstoc leaf"><a class="awstoc" href="Welcome.html">What Is Amazon S3?</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="Introduction.html">Introduction</a></li>
                  <li class="awstoc closed"><a class="awstoc" href="MakingRequests.html">Making Requests</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="ipv6-access.html">Making Requests over IPv6</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="dual-stack-endpoints.html">Using Dual-Stack Endpoints</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="MakingAuthenticatedRequests.html">Making Requests Using the AWS SDKs</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="AuthUsingAcctOrUserCredentials.html">Using AWS Account or IAM User Credentials</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="AuthUsingAcctOrUserCredJava.html">Making Requests Using AWS Account or IAM User Credentials - AWS SDK for Java</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="AuthUsingAcctOrUserCredDotNet.html">Making Requests Using AWS Account or IAM User Credentials - AWS SDK for .NET</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="AuthUsingAcctOrUserCredPHP3.html">Making Requests Using AWS Account or IAM User Credentials - AWS SDK for PHP</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="AuthUsingAcctOrUserCredRuby.html">Making Requests Using AWS Account or IAM User Credentials - AWS SDK for Ruby</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="AuthUsingTempSessionToken.html">Using IAM User Temporary Credentials</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="AuthUsingTempSessionTokenJava.html">Making Requests Using IAM User Temporary Credentials - AWS SDK for Java</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="AuthUsingTempSessionTokenDotNet.html">Making Requests Using IAM User Temporary Credentials - AWS SDK for .NET</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="AuthUsingTempSessionTokenPHP.html">Making Requests Using AWS Account or IAM User Temporary Credentials - AWS SDK for
                                          PHP</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="AuthUsingTempSessionTokenRuby.html">Making Requests Using IAM User Temporary Credentials - AWS SDK for Ruby</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="AuthUsingTempFederationToken.html">Using Federated User Temporary Credentials</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="AuthUsingTempFederationTokenJava.html">Making Requests Using Federated User Temporary Credentials - AWS SDK for Java</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="AuthUsingTempFederationTokenDotNet.html">Making Requests Using Federated User Temporary Credentials - AWS SDK for .NET</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="AuthUsingTempFederationTokenPHP.html">Making Requests Using Federated User Temporary Credentials - AWS SDK for PHP</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="AuthUsingTempFederationTokenRuby.html">Making Requests Using Federated User Temporary Credentials - AWS SDK for Ruby</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="RESTAPI.html">Making Requests Using the REST API</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="VirtualHosting.html">Virtual Hosting of Buckets</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="RESTRedirect.html">Request Redirection and the REST API</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="UsingBucket.html">Buckets</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="BucketRestrictions.html">Restrictions and Limitations</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="create-bucket-get-location-example.html">Examples of Creating a Bucket</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="delete-or-empty-bucket.html">Deleting or Emptying a Bucket</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="bucket-encryption.html">Default Encryption for a Bucket</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="ManagingBucketWebsiteConfig.html">Bucket Website Configuration</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="ConfigWebSiteConsole.html">Using the AWS Management Console</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ConfigWebSiteJava.html">Using the AWS SDK for Java</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ConfigWebSiteDotNet.html">Using the AWS SDK for .NET</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ConfigWebSitePHP.html">Using the SDK for PHP</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="ConfigWebSiteREST.html">Using the REST API</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="transfer-acceleration.html">Transfer Acceleration</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="transfer-acceleration-examples.html">Transfer Acceleration Examples</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="RequesterPaysBuckets.html">Requester Pays Buckets</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="configure-requester-pays-console.html">Configure with the Console</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="configure-requester-pays-rest.html">Configure with the REST API</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="RequesterPaysBucketConfiguration.html">Setting the requestPayment Bucket Configuration</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="BucketPayerValues.html">Retrieving the requestPayment Configuration</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ObjectsinRequesterPaysBuckets.html">Downloading Objects in Requester Pays Buckets</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="BucketAccess.html">Access Control</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="BucketBilling.html">Billing and Usage Reporting</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="aws-billing-reports.html">Billing Reports</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="aws-usage-report.html">Usage Report</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="aws-usage-report-understand.html">Understanding Billing and Usage Reports</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="CostAllocTagging.html">Using Cost Allocation Tags</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="UsingObjects.html">Objects</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="UsingMetadata.html">Object Key and Metadata</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="storage-class-intro.html">Storage Classes</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ObjectAndSoubResource.html">Subresources</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ObjectVersioning.html">Versioning</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="object-tagging.html">Object Tagging</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="tagging-managing.html">Managing Object Tags</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="tagging-manage-console.html">Managing Object Tags the Console</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="tagging-manage-javasdk.html">Managing Tags Using the AWS SDK for Java</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="tagging-manage-dotnet.html">Managing Tags Using the AWS SDK for .NET</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="object-lifecycle-mgmt.html">Lifecycle Management</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="lifecycle-additional-considerations.html">Additional Considerations</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="lifecycle-transition-general-considerations.html">Transitioning Objects</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="lifecycle-expire-general-considerations.html">Configuring Object Expiration</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="lifecycle-and-other-bucket-config.html">Lifecycle and Other Bucket Configurations</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="intro-lifecycle-rules.html">Lifecycle Configuration Elements</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="lifecycle-configuration-examples.html">Examples of Lifecycle Configuration</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="how-to-set-lifecycle-configuration-intro.html">Setting Lifecycle Configuration</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="manage-lifecycle-using-console.html">Using the Amazon S3 console</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="set-lifecycle-cli.html">Using the AWS CLI</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="manage-lifecycle-using-java.html">Using the AWS SDK for Java</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="manage-lifecycle-using-dot-net.html">Using the AWS SDK for .NET</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="manage-lifecycle-using-ruby.html">Using the AWS SDK for Ruby</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="manage-lifecycle-using-rest.html">Using the REST API</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="cors.html">Cross-Origin Resource Sharing (CORS)</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="ManageCorsUsing.html">Enabling CORS</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ManageCorsUsingConsole.html">Using the AWS Management Console</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ManageCorsUsingJava.html">Using the SDK for Java</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ManageCorsUsingDotNet.html">Using the AWS SDK for .NET</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="EnableCorsUsingREST.html">Using the REST API</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="cors-troubleshooting.html">Troubleshooting CORS</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="ObjectOperations.html">Operations on Objects</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="GettingObjectsUsingAPIs.html">Getting Objects</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="RetrievingObjectUsingJava.html">Using the SDK for Java</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="RetrievingObjectUsingNetSDK.html">Using the AWS SDK for .NET</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="RetrieveObjSingleOpPHP.html">Using the SDK for PHP</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="RetrieveObjSingleOpREST.html">Using the REST API</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="ShareObjectPreSignedURL.html">Share an Object with Others</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="ShareObjectPreSignedURLVSExplorer.html">Generate a Pre-signed Object URL using AWS Explorer for Visual Studio</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="ShareObjectPreSignedURLJavaSDK.html">Generate a Pre-signed Object URL Using the AWS SDK for Java</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="ShareObjectPreSignedURLDotNetSDK.html">Generate a Pre-signed Object URL Using AWS SDK for .NET</a></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="UploadingObjects.html">Uploading Objects</a><ul class="awstoc">
                                    <li class="awstoc closed"><a class="awstoc" href="UploadInSingleOp.html">Uploading Objects in a Single Operation</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="UploadObjSingleOpJava.html">Using the SDK for Java</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="UploadObjSingleOpNET.html">Using the AWS SDK for .NET</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="UploadObjSingleOpPHP.html">Using the SDK for PHP</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="UploadObjSingleOpRuby.html">Using the SDK for Ruby</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="UploadObjSingleOpREST.html">Using the REST API</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc closed"><a class="awstoc" href="uploadobjusingmpu.html">Uploading Objects Using Multipart Upload API</a><ul class="awstoc">
                                          <li class="awstoc closed"><a class="awstoc" href="mpuoverview.html">Multipart Upload Overview</a><ul class="awstoc">
                                                <li class="awstoc leaf"><a class="awstoc" href="qfacts.html">Multipart Upload Limits</a></li>
                                                <li class="awstoc leaf"><a class="awstoc" href="sdksupportformpu.html">API Support for Multipart Upload</a></li>
                                                <li class="awstoc leaf"><a class="awstoc" href="mpuAndPermissions.html">Multipart Upload API and Permissions</a></li>
                                             </ul>
                                          </li>
                                          <li class="awstoc closed"><a class="awstoc" href="usingHLmpuJava.html">Using the AWS Java SDK (High-Level API)</a><ul class="awstoc">
                                                <li class="awstoc leaf"><a class="awstoc" href="HLuploadFileJava.html">Upload a File</a></li>
                                                <li class="awstoc leaf"><a class="awstoc" href="HLAbortMPUploadsJava.html">Abort Multipart Uploads</a></li>
                                                <li class="awstoc leaf"><a class="awstoc" href="HLTrackProgressMPUJava.html">Track Multipart Upload Progress</a></li>
                                             </ul>
                                          </li>
                                          <li class="awstoc closed"><a class="awstoc" href="mpListPartsJavaAPI.html">Using the AWS Java SDK (Low-Level API)</a><ul class="awstoc">
                                                <li class="awstoc leaf"><a class="awstoc" href="llJavaUploadFile.html">Upload a File</a></li>
                                                <li class="awstoc leaf"><a class="awstoc" href="LLlistMPuploadsJava.html">List Multipart Uploads</a></li>
                                                <li class="awstoc leaf"><a class="awstoc" href="LLAbortMPUJava.html">Abort a Multipart Upload</a></li>
                                             </ul>
                                          </li>
                                          <li class="awstoc closed"><a class="awstoc" href="usingHLmpuDotNet.html">Using the AWS .NET SDK (High-Level API)</a><ul class="awstoc">
                                                <li class="awstoc leaf"><a class="awstoc" href="HLuploadFileDotNet.html">Upload a File</a></li>
                                                <li class="awstoc leaf"><a class="awstoc" href="HLuploadDirDotNet.html">Upload a Directory</a></li>
                                                <li class="awstoc leaf"><a class="awstoc" href="HLAbortDotNet.html">Abort Multipart Uploads</a></li>
                                                <li class="awstoc leaf"><a class="awstoc" href="HLTrackProgressMPUDotNet.html">Track Multipart Upload Progress</a></li>
                                             </ul>
                                          </li>
                                          <li class="awstoc closed"><a class="awstoc" href="usingLLmpuDotNet.html">Using the AWS .NET SDK (Low-Level API)</a><ul class="awstoc">
                                                <li class="awstoc leaf"><a class="awstoc" href="LLuploadFileDotNet.html">Upload a File</a></li>
                                                <li class="awstoc leaf"><a class="awstoc" href="LLlistMPuploadsDotNet.html">List Multipart Uploads</a></li>
                                                <li class="awstoc leaf"><a class="awstoc" href="LLTrackProgressMPUNet.html">Track Multipart Upload Progress</a></li>
                                                <li class="awstoc leaf"><a class="awstoc" href="LLAbortMPUnet.html">Abort a Multipart Upload</a></li>
                                             </ul>
                                          </li>
                                          <li class="awstoc leaf"><a class="awstoc" href="usingHLmpuPHP.html">Using the AWS PHP SDK (High-Level API)</a></li>
                                          <li class="awstoc closed"><a class="awstoc" href="usingLLmpuPHP.html">Using the AWS PHP SDK (Low-Level API)</a><ul class="awstoc">
                                                <li class="awstoc leaf"><a class="awstoc" href="LLuploadFilePHP.html">Upload a File</a></li>
                                                <li class="awstoc leaf"><a class="awstoc" href="LLlistMPuploadsPHP.html">List Multipart Uploads</a></li>
                                                <li class="awstoc leaf"><a class="awstoc" href="LLAbortMPUphp.html">Abort a Multipart Upload</a></li>
                                             </ul>
                                          </li>
                                          <li class="awstoc leaf"><a class="awstoc" href="uploadobjusingmpu-ruby-sdk.html">Using the SDK for Ruby</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="UsingRESTAPImpUpload.html">Using the REST API</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc closed"><a class="awstoc" href="PresignedUrlUploadObject.html">Uploading Objects Using Pre-Signed URLs</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="PresignedUrlUploadObjectJavaSDK.html">Using the SDK for Java</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="UploadObjectPreSignedURLDotNetSDK.html">Using the AWS SDK for .NET</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="UploadObjectPreSignedURLRubySDK.html">Using the AWS SDK for Ruby</a></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="CopyingObjectsExamples.html">Copying Objects</a><ul class="awstoc">
                                    <li class="awstoc closed"><a class="awstoc" href="CopyingObjectsUsingAPIs.html">Copying Objects in a Single Operation</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="CopyingObjectUsingJava.html">Using the SDK for Java</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="CopyingObjectUsingNetSDK.html">Using the AWS SDK for .NET</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="CopyingObjectUsingPHP.html">Using the SDK for PHP</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="CopyingObjectUsingRuby.html">Using the SDK for Ruby</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="CopyingObjectUsingREST.html">Using the REST API</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc closed"><a class="awstoc" href="CopyingObjctsMPUapi.html">Copying Objects Using the Multipart Upload API</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="CopyingObjctsUsingLLJavaMPUapi.html">Using the SDK for Java</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="CopyingObjctsUsingLLNetMPUapi.html">Copy an Object Using the AWS SDK for .NET</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="CopyingObjctsUsingRESTMPUapi.html">Using the REST API</a></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="ListingKeysUsingAPIs.html">Listing Object Keys</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ListingKeysHierarchy.html">Using a Prefix and Delimiter</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ListingObjectKeysUsingJava.html">Using the SDK for Java</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ListingObjectKeysUsingNetSDK.html">Using the AWS SDK for .NET</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ListingObjectKeysUsingPHP.html">Using the SDK for PHP</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ListingObjectKeysUsingREST.html">Using the REST API</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="DeletingObjects.html">Deleting Objects</a><ul class="awstoc">
                                    <li class="awstoc closed"><a class="awstoc" href="DeletingOneObject.html">Deleting One Object Per Request</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="DeletingOneObjectUsingJava.html">Using the SDK for Java</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="DeletingOneObjectUsingNetSDK.html">Using the AWS SDK for .NET</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="DeletingOneObjectUsingPHPSDK.html">Using the SDK for PHP</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="DeletingAnObjectsUsingREST.html">Using the REST API</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc closed"><a class="awstoc" href="DeletingMultipleObjects.html">Deleting Multiple Objects Per Request</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="DeletingMultipleObjectsUsingJava.html">Using the SDK for Java</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="DeletingMultipleObjectsUsingNetSDK.html">Using the AWS SDK for .NET</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="DeletingMultipleObjectsUsingPHPSDK.html">Using the SDK for PHP</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="DeletingMultipleObjectsUsingREST.html">Using the REST API</a></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="selecting-content-from-objects.html">Selecting Content from Objects</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="SelectObjectContentUsingJava.html">Using the SDK for Java</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="SelectObjectContentUsingRestApi.html">Using the REST API</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="SelectObjectContentUsingOtherSDKs.html">Using Other SDKs</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="restoring-objects.html">Restoring Archived Objects</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="restoring-objects-console.html">Using the Console</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="restoring-objects-java.html">Using the SDK for Java</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="restore-object-dotnet.html">Using the AWS SDK for .NET</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="restoring-objects-rest.html">Using the REST API</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="querying-glacier-archives.html">Querying Archived Objects</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc leaf"><a class="awstoc" href="analytics-storage-class.html">Storage Class Analysis</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="storage-inventory.html">Inventory</a></li>
                  <li class="awstoc closed"><a class="awstoc" href="s3-access-control.html">Managing Access</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="intro-managing-access-s3-resources.html">Introduction</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="access-control-overview.html">Overview</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="how-s3-evaluates-access-control.html">How Amazon S3 Authorizes a Request</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="access-control-auth-workflow-bucket-operation.html">For a Bucket Operation</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="access-control-auth-workflow-object-operation.html">For an Object Operation</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="access-policy-alternatives-guidelines.html">Guidelines for Using the Available Access Policy Options</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="example-walkthroughs-managing-access.html">Example Walkthroughs: Managing Access</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="policy-eval-walkthrough-download-awscli.html">Setting Up Tools</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="example-walkthroughs-managing-access-example1.html">Example 1: Bucket Owner Granting Its Users Bucket Permissions</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="example-walkthroughs-managing-access-example2.html">Example 2: Bucket Owner Granting Cross-Account Bucket Permissions</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="example-walkthroughs-managing-access-example3.html">Example 3: Bucket Owner Granting Its Users Permissions to Objects It Does Not Own</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="example-walkthroughs-managing-access-example4.html">Example 4: Bucket Owner Granting Cross-account Permission to Objects It Does Not Own</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="using-iam-policies.html">Using Bucket Policies and User Policies</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="access-policy-language-overview.html">Access Policy Language Overview</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="s3-arn-format.html">Specifying Resources</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="s3-bucket-user-policy-specifying-principal-intro.html">Specifying a Principal</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="using-with-s3-actions.html">Specifying Permissions</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="amazon-s3-policy-keys.html">Specifying Conditions</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="example-bucket-policies.html">Bucket Policy Examples</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="example-bucket-policies-vpc-endpoint.html">Example Bucket Policies for VPC Endpoints</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="example-policies-s3.html">User Policy Examples</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="walkthrough1.html">An Example Walkthrough: Using user policies to control access to your bucket</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="S3_ACLs_UsingACLs.html">Managing Access with ACLs</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="acl-overview.html">Access Control List (ACL) Overview</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="managing-acls.html">Managing ACLs</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="manage-acls-using-console.html">Managing ACLs in the AWS Management Console</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="acl-using-java-sdk.html">Managing ACLs Using the AWS SDK for Java</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="acl-using-dot-net-sdk.html">Managing ACLs Using the AWS SDK for .NET</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="acl-using-rest-api.html">Managing ACLs Using the REST API</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="DataDurability.html">Protecting Data</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="UsingEncryption.html">Data Encryption</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="serv-side-encryption.html">Server-Side Encryption</a><ul class="awstoc">
                                    <li class="awstoc closed"><a class="awstoc" href="UsingKMSEncryption.html">KMS-Managed Encryption Keys</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="kms-using-sdks.html">SSE-KMS and AWS SDKs</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="KMSUsingRESTAPI.html">SSE-KMS REST API</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc closed"><a class="awstoc" href="UsingServerSideEncryption.html">Amazon S3-Managed Encryption Keys</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="SSEUsingJavaSDK.html">AWS SDK for Java</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="SSEUsingDotNetSDK.html">AWS SDK for .NET</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="SSEUsingPHPSDK.html">AWS SDK for PHP</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="SSEUsingRubySDK.html">AWS SDK for Ruby</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="SSEUsingRESTAPI.html">REST API</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="SSEUsingConsole.html">AWS Management Console</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc closed"><a class="awstoc" href="ServerSideEncryptionCustomerKeys.html">Customer-Provided Encryption Keys</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="sse-c-using-java-sdk.html">Specifying Server-Side Encryption with Customer-Provided Encryption Keys Using the
                                                AWS SDK for Java</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="sse-c-using-dot-net-sdk.html">AWS SDK for .NET</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="ServerSideEncryptionCustomerKeysSSEUsingRESTAPI.html">REST API</a></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li class="awstoc leaf"><a class="awstoc" href="UsingClientSideEncryption.html">Client-Side Encryption</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="Versioning.html">Versioning</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="manage-versioning-examples.html">Examples</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="manage-objects-versioned-bucket.html">Managing Objects in a Versioning-Enabled Bucket</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="AddingObjectstoVersioningEnabledBuckets.html">Adding Objects to Versioning-Enabled Buckets</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="list-obj-version-enabled-bucket.html">Listing Objects in a Versioning-Enabled Bucket</a></li>
                                    <li class="awstoc closed"><a class="awstoc" href="RetrievingObjectVersions.html">Retrieving Object Versions</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="RetMetaOfObjVersion.html">Retrieving the Metadata of an Object Version</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc closed"><a class="awstoc" href="DeletingObjectVersions.html">Deleting Object Versions</a><ul class="awstoc">
                                          <li class="awstoc leaf"><a class="awstoc" href="UsingMFADelete.html">Using MFA Delete</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="DeleteMarker.html">Working with Delete Markers</a></li>
                                          <li class="awstoc leaf"><a class="awstoc" href="RemDelMarker.html">Removing Delete Markers</a></li>
                                       </ul>
                                    </li>
                                    <li class="awstoc leaf"><a class="awstoc" href="transitioning-object-versions.html">Transitioning Object Versions</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="RestoringPreviousVersions.html">Restoring Previous Versions</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="VersionedObjectPermissionsandACLs.html">Versioned Object Permissions</a></li>
                                 </ul>
                              </li>
                              <li class="awstoc closed"><a class="awstoc" href="VersionSuspendedBehavior.html">Managing Objects in a Versioning-Suspended Bucket</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="AddingObjectstoVersionSuspendedBuckets.html">Adding Objects to Versioning-Suspended Buckets</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="RetrievingObjectsfromVersioningSuspendedBuckets.html">Retrieving Objects from Versioning-Suspended Buckets</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="DeletingObjectsfromVersioningSuspendedBuckets.html">Deleting Objects from Versioning-Suspended Buckets</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="WebsiteHosting.html">Hosting a Static Website</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="WebsiteEndpoints.html">Website Endpoints</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="HowDoIWebsiteConfiguration.html">Configuring a Bucket for Website Hosting</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="EnableWebsiteHosting.html">Enabling Website Hosting</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="IndexDocumentSupport.html">Configuring Index Document Support</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="WebsiteAccessPermissionsReqd.html">Permissions Required for Website Access</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="LoggingWebsiteTraffic.html">(Optional) Configuring Web Traffic Logging</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="CustomErrorDocSupport.html">(Optional) Custom Error Document Support</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="how-to-page-redirect.html">(Optional) Configuring a Redirect</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="hosting-websites-on-s3-examples.html">Example Walkthroughs</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="HostingWebsiteOnS3Setup.html">Example: Setting up a Static Website</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="website-hosting-custom-domain-walkthrough.html">Example: Setting up a Static Website Using a Custom Domain</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="website-hosting-cloudfront-walkthrough.html">Example: Speed Up Your Website with Amazon CloudFront</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="getting-started-cleanup.html">Clean Up Example Resources</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc opened"><a class="awstoc selected" href="NotificationHowTo.html">Notifications</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="ways-to-add-notification-config-to-bucket.html">Example Walkthrough 1</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="notification-walkthrough-2.html">Example Walkthrough 2</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="notification-content-structure.html">Event Message Structure</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="crr.html">Cross-Region Replication</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="crr-what-is-isnot-replicated.html">What Does Amazon S3 Replicate?</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="crr-how-setup.html">Overview of Setting Up CRR</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="crr-add-config.html">Replication Configuration Overview</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="setting-repl-config-perm-overview.html">Setting Up Permissions for CRR</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="crr-additional-configs.html">Additional CRR Configurations</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="crr-change-owner.html">CRR Additional Configuration: Changing Replica Owner</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="crr-replication-config-for-kms-objects.html">CRR Additional Configuration: Replicating Encrypted Objects</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="crr-example-walkthroughs.html">CRR Walkthroughs</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="crr-walkthrough1.html">CRR Example 1: Same AWS Account</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="crr-walkthrough-2.html">CRR Example 2: Different AWS Accounts</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="crr-walkthrough-3.html">CRR Example 3: Change Replica Owner</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="crr-walkthrough-4.html">CRR Example 4: Replicating Encrypted Objects</a></li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="crr-status.html">CRR: Status Information</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="crr-troubleshoot.html">CRR: Troubleshooting</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="crr-and-other-bucket-configs.html">CRR: Additional Considerations</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="UsingRouting.html">Request Routing</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="Redirects.html">Request Redirection and the REST API</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="DNSConsiderations.html">DNS Considerations</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="PerformanceOptimization.html">Performance Optimization</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="request-rate-perf-considerations.html">Request Rate and Performance Guidelines</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TCPWindowScaling.html">TCP Window Scaling</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="TCPSelectiveAcknowledgement.html">TCP Selective Acknowledgement</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="monitoring-overview.html">Monitoring</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="monitoring-automated-manual.html">Monitoring Tools</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="cloudwatch-monitoring.html">Monitoring Metrics with CloudWatch</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="metrics-configurations.html">Metrics Configurations for Buckets</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="cloudtrail-logging.html">Logging API Calls with AWS CloudTrail</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="S3Torrent.html">BitTorrent</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="S3TorrentCharge.html">How You are Charged for BitTorrent Delivery</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="S3TorrentRetrieve.html">Using BitTorrent to Retrieve Objects Stored in Amazon S3</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="S3TorrentPublish.html">Publishing Content Using Amazon S3 and BitTorrent</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="HandlingErrors.html">Error Handling</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="UsingRESTError.html">The REST Error Response</a><ul class="awstoc">
                              <li class="awstoc closed"><a class="awstoc" href="ErrorResponse.html">Error Response</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="ErrorCode.html">Error Code</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ErrorMessage.html">Error Message</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="ErrorDetails.html">Further Details</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="awstoc leaf"><a class="awstoc" href="UsingSOAPError.html">The SOAP Error Response</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="ErrorBestPractices.html">Amazon S3 Error Best Practices</a></li>
                     </ul>
                  </li>
                  <li class="awstoc leaf"><a class="awstoc" href="troubleshooting.html">Troubleshooting Amazon S3</a></li>
                  <li class="awstoc closed"><a class="awstoc" href="ServerLogs.html">Server Access Logging</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="enable-logging-console.html">Enabling Logging Using the Console</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="enable-logging-programming.html">Enabling Logging Programmatically</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="LogFormat.html">Log Format</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="deleting-log-files-lifecycle.html">Deleting Log Files</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="UsingAWSSDK.html">AWS SDKs and Explorers</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="setup-aws-cli.html">Setting Up the AWS CLI</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="UsingTheMPJavaAPI.html">Using the AWS SDK for Java</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="UsingTheMPDotNetAPI.html">Using the AWS SDK for .NET</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="UsingTheMPphpAPI.html">Using the AWS SDK for PHP and Running PHP Examples</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="UsingTheMPRubyAPI.html">Using the AWS SDK for Ruby - Version 3</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="UsingTheBotoAPI.html">Using the AWS SDK for Python (Boto)</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="using-mobile-sdks.html">Using the AWS Mobile SDKs for iOS and Android</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="using-aws-amplify.html">Using the AWS Amplify JavaScript Library</a></li>
                     </ul>
                  </li>
                  <li class="awstoc closed"><a class="awstoc" href="Appendices.html">Appendices</a><ul class="awstoc">
                        <li class="awstoc closed"><a class="awstoc" href="SOAPAPI3.html">Appendix A: Using the SOAP API</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="UsingSOAPOperations.html">Common SOAP API Elements</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="SOAPAuthentication.html">Authenticating SOAP Requests</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="SOAPAccessPolicy.html">Setting Access Policy with SOAP</a></li>
                           </ul>
                        </li>
                        <li class="awstoc closed"><a class="awstoc" href="auth-request-sig-v2.html">Appendix B: Authenticating Requests (AWS Signature Version 2)</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="S3_Authentication2.html">Authenticating Requests Using the REST API</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="RESTAuthentication.html">Signing and Authenticating REST Requests</a></li>
                              <li class="awstoc closed"><a class="awstoc" href="UsingHTTPPOST.html">Browser-Based Uploads Using POST</a><ul class="awstoc">
                                    <li class="awstoc leaf"><a class="awstoc" href="HTTPPOSTForms.html">HTML Forms</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="HTTPPOSTExamples.html">Upload Examples</a></li>
                                    <li class="awstoc leaf"><a class="awstoc" href="HTTPPOSTFlash.html">POST with Adobe Flash</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc leaf"><a class="awstoc" href="RelatedResources012.html">Resources</a></li>
                  <li class="awstoc closed"><a class="awstoc" href="s3-glacier-select-sql-reference.html">SQL Reference</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="s3-glacier-select-sql-reference-select.html">SELECT Command</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="s3-glacier-select-sql-reference-data-types.html">Data Types</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="s3-glacier-select-sql-reference-operators.html">Operators</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="s3-glacier-select-sql-reference-keyword-list.html">Reserved Keywords</a></li>
                        <li class="awstoc closed"><a class="awstoc" href="s3-glacier-select-sql-reference-sql-functions.html">SQL Functions</a><ul class="awstoc">
                              <li class="awstoc leaf"><a class="awstoc" href="s3-glacier-select-sql-reference-aggregate.html">Aggregate Functions (Amazon S3 Select only)</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="s3-glacier-select-sql-reference-conditional.html">Conditional Functions</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="s3-glacier-select-sql-reference-conversion.html">Conversion Functions</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="s3-glacier-select-sql-reference-date.html">Date Functions</a></li>
                              <li class="awstoc leaf"><a class="awstoc" href="s3-glacier-select-sql-reference-string.html">String Functions</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="awstoc leaf"><a class="awstoc" href="WhatsNew.html">Document History</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="glossary.html">AWS Glossary</a></li>
                  <li id="toc-additional-links"><a class="btn btn-pdf-link" id="pdf-link-alt" href="s3-dg.pdf#top" target="_blank" title="Open PDF"></a><a class="btn btn-kindle-link" id="kindle-link-alt" target="_blank" href="http://www.amazon.com/dp/B0763Z4YVV" title="Open Kindle"></a><a class="btn btn-rss-link" id="rss-link-alt" target="_blank" href="s3-dev-guide-rss-updates.rss" title="View RSS Feed"></a></li>
               </ul>
            </div>
         </div>
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tr>
                           <td>
                              <div class="breadcrumb"><a href="/index.html">AWS Documentation</a> » <a href="/s3/index.html">Amazon Simple Storage Service (S3)</a> » <a href="index.html">Developer Guide</a> » <span class="breadcrumb"> Configuring Amazon S3 Event Notifications</span></div>
                           </td>
                        </tr>
                     </table>
                     <div></div>
                     <h1 class="topictitle" id="NotificationHowTo"> Configuring Amazon S3 Event Notifications</h1>
                     <p>The Amazon S3 notification feature enables you to receive notifications when certain
                        events
                        happen in your bucket. To enable notifications, you must first add a notification
                        configuration identifying the events you want Amazon S3 to publish, and the destinations
                        where
                        you want Amazon S3 to send the event notifications. You store this configuration in
                        the
                        <em>notification</em> subresource (see <a href="UsingBucket.html#bucket-config-options-intro">Bucket Configuration Options</a>)
                        associated with a bucket. Amazon S3 provides an API for you to manage this subresource.
                        
                     </p>
                     <div class="highlights">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#notification-how-to-overview">Overview</a></li>
                           <li><a href="#how-to-enable-disable-notification-intro">How to Enable Event Notifications </a></li>
                           <li><a href="#notification-how-to-event-types-and-destinations">Event Notification Types and Destinations</a></li>
                           <li><a href="#notification-how-to-filtering">Configuring Notifications with Object Key Name
                                 Filtering</a></li>
                           <li><a href="#grant-destinations-permissions-to-s3">Granting Permissions to Publish Event Notification
                                 Messages to a Destination</a></li>
                           <li><a href="ways-to-add-notification-config-to-bucket.html">Example Walkthrough 1: Configure
                                 a Bucket for Notifications (Message Destination: SNS Topic and SQS Queue)</a></li>
                           <li><a href="notification-walkthrough-2.html">Example Walkthrough 2: Configure a Bucket for
                                 Notifications (Message Destination: AWS Lambda)</a></li>
                           <li><a href="notification-content-structure.html">Event Message Structure</a></li>
                        </ul>
                     </div>        
                     
                     <h2 id="notification-how-to-overview">Overview</h2>        
                     
                     
                     <p> Currently, Amazon S3 can publish the following events:</p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>A new object created event—Amazon S3 supports multiple APIs to create objects.
                                 You can request notification when only a specific API is used (e.g.,
                                 <code class="code">s3:ObjectCreated:Put</code>) or you can use a wildcard (e.g.,
                                 <code class="code">s3:ObjectCreated:*</code>) to request notification when an object is
                                 created regardless of the API used. 
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>An object removal event—Amazon S3 supports deletes of versioned and
                                 unversioned objects. For information about object versioning, see <a href="ObjectVersioning.html">Object Versioning</a> and <a href="Versioning.html">Using Versioning</a>. 
                              </p>
                              
                              <p>You can request notification when an object is deleted or a versioned object
                                 is permanently deleted by using the <code class="code">s3:ObjectRemoved:Delete</code> event
                                 type. Or you can request notification when a delete marker is created for a
                                 versioned object by using <code class="code">s3:ObjectRemoved:DeleteMarkerCreated</code>. You
                                 can also use a wildcard <code class="code">s3:ObjectRemoved:*</code> to request notification
                                 anytime an object is deleted. For information about deleting versioned objects,
                                 see <a href="DeletingObjectVersions.html">Deleting Object Versions</a>. 
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>A Reduced Redundancy Storage (RRS) object lost event—Amazon S3 sends a
                                 notification message when it detects that an object of the RRS storage class has been
                                 lost. 
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     <p>For a list of supported event types, see <a href="NotificationHowTo.html#supported-notification-event-types">Supported Event Types</a>. 
                     </p>
                     
                     <p>Amazon S3 supports the following destinations where it can publish events:</p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>Amazon Simple Notification Service (Amazon SNS) topic</p>
                              
                              <p>Amazon SNS is a flexible, fully managed push messaging service. Using this service,
                                 you can push messages to mobile devices or distributed services. With SNS you
                                 can publish a message once, and deliver it one or more times. An SNS topic is an
                                 access point that recipients can dynamically subscribe to in order to receive event
                                 notifications. For more information about SNS, see the <a href="https://aws.amazon.com/sns/" target="_blank">Amazon SNS</a> product detail page.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Amazon Simple Queue Service (Amazon SQS) queue</p>
                              
                              <p>Amazon SQS is a scalable and fully managed message queuing service. You can use SQS
                                 to
                                 transmit any volume of data without requiring other services to be always available.
                                 In your notification configuration you can request that Amazon S3 publish events to
                                 an
                                 SQS queue. For more information about SQS, see <a href="https://aws.amazon.com/sqs/" target="_blank">Amazon SQS</a> product detail page.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>AWS Lambda</p>
                              
                              <p>AWS Lambda is a compute service that makes it easy for you to build
                                 applications that respond quickly to new information. AWS Lambda runs your code
                                 in response to events such as image uploads, in-app activity, website clicks, or
                                 outputs from connected devices. You can use AWS Lambda to extend other AWS
                                 services with custom logic, or create your own back-end that operates at AWS scale,
                                 performance, and security. With AWS Lambda, you can easily create discrete,
                                 event-driven applications that execute only when needed and scale automatically from
                                 a few requests per day to thousands per second. 
                              </p>
                              
                              <p>AWS Lambda can run custom code in response to Amazon S3 bucket events. You upload
                                 your
                                 custom code to AWS Lambda and create what is called a Lambda function. When Amazon
                                 S3 detects
                                 an event of a specific type (for example, an object created event), it can publish
                                 the event to AWS Lambda and invoke your function in Lambda. In response, AWS Lambda
                                 executes your function. For more information, see <a href="https://aws.amazon.com/lambda/" target="_blank">AWS Lambda</a> product detail page. 
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     <p>The following sections offer more detail about how to enable event notifications on
                        a
                        bucket. The subtopics also provide example walkthroughs to help you explore the
                        notification feature.
                     </p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>
                                 <a href="ways-to-add-notification-config-to-bucket.html">Example Walkthrough 1: Configure
                                    a Bucket for Notifications (Message Destination: SNS Topic and SQS Queue)</a></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>
                                 <a href="notification-walkthrough-2.html">Example Walkthrough 2: Configure a Bucket for
                                    Notifications (Message Destination: AWS Lambda)</a>
                                 
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     <h2 id="how-to-enable-disable-notification-intro">How to Enable Event Notifications </h2>
                     
                     
                     <p>Enabling notifications is a bucket-level operation; that is, you store notification
                        configuration information in the <em>notification</em> subresource
                        associated with a bucket. You can use any of the following methods to manage
                        notification configuration:
                     </p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>Using the Amazon S3 console</p>
                              
                              <p>The console UI enables you to set a notification configuration on a bucket
                                 without having to write any code. For instruction, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/enable-event-notifications.html" target="_blank">How Do I Enable and Configure Event Notifications for an S3 Bucket?</a>
                                 in the <em>Amazon Simple Storage Service Console User Guide</em>.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Programmatically using the AWS SDKs</p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>If you need to, you can also make the Amazon S3 REST API calls directly from
                                    your code. However, this can be cumbersome because it requires you to write
                                    code to authenticate your requests. 
                                 </p>
                              </div>
                              
                              <p>Internally, both the console and the SDKs call the Amazon S3 REST API to manage
                                 <em>notification</em> subresources associated with the bucket.
                                 For notification configuration using AWS SDK examples, see the walkthrough link
                                 provided in the preceding section.
                              </p>
                              
                              <p>Regardless of the method you use, Amazon S3 stores the notification configuration
                                 as XML in the <em>notification</em> subresource associated with a
                                 bucket. For information about bucket subresources, see <a href="UsingBucket.html#bucket-config-options-intro">Bucket Configuration Options</a>). By default, notifications
                                 are not enabled for any type of event. Therefore, initially the
                                 <em>notification</em> subresource stores an empty
                                 configuration.
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="">&lt;NotificationConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/"&gt; 
&lt;/NotificationConfiguration&gt;</code></pre>
                              <p>To enable notifications for events of specific types, you replace the XML with
                                 the appropriate configuration that identifies the event types you want Amazon S3 to
                                 publish and the destination where you want the events published. For each
                                 destination, you add a corresponding XML configuration. For example: 
                              </p>
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p>Publish event messages to an SQS queue—To set an SQS queue as
                                          the notification destination for one or more event types, you add the
                                          <code class="code">QueueConfiguration</code>.
                                       </p>
                                       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">&lt;NotificationConfiguration&gt;
  &lt;QueueConfiguration&gt;
    &lt;Id&gt;<em class="replaceable"><code>optional-id-string</code></em>&lt;/Id&gt;
    &lt;Queue&gt;<em class="replaceable"><code>sqs-queue-arn</code></em>&lt;/Queue&gt;
    &lt;Event&gt;<em class="replaceable"><code>event-type</code></em>&lt;/Event&gt;
    &lt;Event&gt;<em class="replaceable"><code>event-type</code></em>&lt;/Event&gt;
     ...
  &lt;/QueueConfiguration&gt;
   ...
&lt;/NotificationConfiguration&gt;</code></pre>
                                       </li>
                                    <li class="listitem">
                                       
                                       <p>Publish event messages to an SNS topic—To set an SNS topic as
                                          the notification destination for specific event types, you add the
                                          <code class="code">TopicConfiguration</code>.
                                       </p>
                                       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">&lt;NotificationConfiguration&gt;
  &lt;TopicConfiguration&gt;
     &lt;Id&gt;<em class="replaceable"><code>optional-id-string</code></em>&lt;/Id&gt;
     &lt;Topic&gt;<em class="replaceable"><code>sns-topic-arn</code></em>&lt;/Topic&gt;
     &lt;Event&gt;<em class="replaceable"><code>event-type</code></em>&lt;/Event&gt;
     &lt;Event&gt;<em class="replaceable"><code>event-type</code></em>&lt;/Event&gt;
      ...
  &lt;/TopicConfiguration&gt;
   ...
&lt;/NotificationConfiguration&gt;</code></pre>
                                       </li>
                                    <li class="listitem">
                                       
                                       <p>Invoke the AWS Lambda function and provide an event message as an
                                          argument—To set a Lambda function as the notification destination
                                          for specific event types, you add the
                                          <code class="code">CloudFunctionConfiguration</code>.
                                       </p>
                                       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">&lt;NotificationConfiguration&gt;
  &lt;CloudFunctionConfiguration&gt;   
     &lt;Id&gt;<em class="replaceable"><code>optional-id-string</code></em>&lt;/Id&gt;   
     &lt;Cloudcode&gt;<em class="replaceable"><code>cloud-function-arn</code></em>&lt;/Cloudcode&gt;        
     &lt;Event&gt;<em class="replaceable"><code>event-type</code></em>&lt;/Event&gt;      
     &lt;Event&gt;<em class="replaceable"><code>event-type</code></em>&lt;/Event&gt;      
      ...  
  &lt;/CloudFunctionConfiguration&gt;  
   ...
&lt;/NotificationConfiguration&gt;</code></pre>
                                       </li>
                                 </ul>
                              </div>
                              
                              
                              <p>To remove all notifications configured on a bucket, you save an empty
                                 <code class="code">&lt;NotificationConfiguration/&gt;</code> element in the
                                 <em>notification</em> subresource. 
                              </p>
                              
                              <p>When Amazon S3 detects an event of the specific type, it publishes a message with
                                 the event information. For more information, see <a href="notification-content-structure.html">Event Message Structure</a>. 
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     <h2 id="notification-how-to-event-types-and-destinations">Event Notification Types and Destinations</h2>   
                     
                     
                     <p>This section describes the event notification types that are supported by Amazon S3
                        and
                        the type of destinations where the notifications can be published.
                     </p>
                     
                     <h3 id="supported-notification-event-types">Supported Event Types</h3>
                     
                     
                     <p>Amazon S3 can publish events of the following types. You specify these event types
                        in
                        the notification configuration.
                     </p>
                     
                     <div class="table">
                        <div class="table-contents">
                           <table id="w77aac39c11b4b4">
                              
                              <tr>
                                 
                                 <th> Event types</th>
                                 
                                 <th> Description </th>
                                 
                              </tr>
                              
                              
                              <tr>
                                 
                                 <td>
                                    
                                    <p><em>s3:ObjectCreated:*</em></p>
                                    
                                    <p><em>s3:ObjectCreated:Put</em></p>
                                    
                                    <p><em>s3:ObjectCreated:Post</em></p>
                                    
                                    <p><em>s3:ObjectCreated:Copy</em></p>
                                    
                                    <p><em>s3:ObjectCreated:CompleteMultipartUpload</em></p>
                                    
                                 </td>
                                 
                                 <td>
                                    <p>Amazon S3 APIs such as PUT, POST, and COPY can create an object. Using
                                       these event types, you can enable notification when an object is
                                       created using a specific API, or you can use the
                                       <em>s3:ObjectCreated:*</em> event type to request
                                       notification regardless of the API that was used to create an
                                       object. 
                                    </p>
                                    
                                    <p>You will not receive event notifications from failed operations.</p>
                                    
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    
                                    <p><em>s3:ObjectRemoved:*</em></p>
                                    
                                    <p><em>s3:ObjectRemoved:Delete</em></p>
                                    
                                    <p><em>s3:ObjectRemoved:DeleteMarkerCreated</em></p>
                                    
                                 </td>
                                 
                                 <td>
                                    <p>By using the <em>ObjectRemoved</em> event types, 
                                       you can enable notification when an object or a batch of objects is removed from a
                                       bucket.
                                    </p>   
                                    
                                    <p> You can request notification when an object is deleted or
                                       a versioned object is permanently deleted by using the
                                       <em>s3:ObjectRemoved:Delete</em> event type. Or
                                       you can request notification when a delete marker is created for
                                       a versioned object by using
                                       <em>s3:ObjectRemoved:DeleteMarkerCreated</em>.
                                       For information about deleting versioned objects, see <a href="DeletingObjectVersions.html">Deleting Object Versions</a>. You can also use a
                                       wildcard <code class="code">s3:ObjectRemoved:*</code> to request notification
                                       anytime an object is deleted. 
                                    </p>
                                    
                                    <p>You will not receive event notifications from automatic
                                       deletes from lifecycle policies or from failed
                                       operations.
                                    </p>
                                    
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td><em>s3:ReducedRedundancyLostObject</em></td>
                                 
                                 <td>You can use this event type to request Amazon S3 to send a
                                    notification message when Amazon S3 detects that an object of the RRS
                                    storage class is lost.
                                 </td>
                                 
                              </tr>
                              
                           </table>
                        </div>
                     </div>
                     
                     
                     
                     <h3 id="supported-notification-destinations">Supported Destinations </h3>
                     
                     
                     
                     <p>Amazon S3 can send event notification messages to the following destinations. You
                        specify the ARN value of these destinations in the notification
                        configuration.
                     </p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>Publish event messages to an Amazon Simple Notification Service (Amazon SNS) topic</p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Publish event messages to an Amazon Simple Queue Service (Amazon SQS) queue</p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>If the destination queue is SSE enabled, Amazon S3 will need access to the
                                    associated KMS key to enable message encryption.
                                 </p>
                              </div>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Publish event messages to AWS Lambda by invoking a Lambda function and
                                 providing the event message as an argument
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     <p>You must grant Amazon S3 permissions to post messages to an Amazon SNS topic or an
                        Amazon SQS queue.
                        You must also grant Amazon S3 permission to invoke an AWS Lambda function on your
                        behalf. For information about granting these permissions, see
                        <a href="NotificationHowTo.html#grant-destinations-permissions-to-s3">Granting Permissions to Publish Event Notification
                           Messages to a Destination</a>.
                        
                     </p>
                     
                             
                     
                     <h2 id="notification-how-to-filtering">Configuring Notifications with Object Key Name
                        Filtering
                     </h2>        
                     
                     
                     
                     <p>You can configure notifications to be filtered by the prefix and suffix of the key
                        name of objects. For example, you can set up a configuration so that you are sent
                        a
                        notification only when image files with a ".jpg" extension are added to a bucket.
                        Or you
                        can have a configuration that delivers a notification to an Amazon SNS topic when
                        an object
                        with the prefix "images/" is added to the bucket, while having notifications for objects
                        with a "logs/" prefix in the same bucket delivered to an AWS Lambda function. 
                     </p>	
                     
                     <p>You can set up notification configurations that use object key name filtering in the
                        Amazon S3 console and by using Amazon S3 APIs through the AWS SDKs or the REST APIs
                        directly. For
                        information about using the console UI to set a notification configuration on a bucket,
                        see <a href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/enable-event-notifications.html" target="_blank">
                           How Do I Enable and Configure Event Notifications for an S3 Bucket?</a> 
                        in the <em>Amazon Simple Storage Service Console User Guide</em>. 
                     </p>
                     
                     <p>Amazon S3 stores the notification configuration as XML in the
                        <em>notification</em> subresource associated with a bucket as described
                        in <a href="NotificationHowTo.html#how-to-enable-disable-notification-intro">How to Enable Event Notifications </a>. You use the
                        <code class="code">Filter</code> XML structure to define the rules for notifications to be
                        filtered by the prefix and/or suffix of an object key name. For information about
                        the
                        details of the <code class="code">Filter</code> XML structure, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketPUTnotification.html" target="_blank">PUT Bucket notification</a> in
                        the <em>Amazon Simple Storage Service API Reference</em>. 
                     </p>
                     
                     <p>Notification configurations that use <code class="code">Filter</code> cannot define
                        filtering rules with overlapping prefixes, overlapping suffixes, or prefix and suffix
                        overlapping. The following sections have examples of valid notification configurations
                        with object key name filtering and examples of notification configurations that are
                        invalid because
                        of prefix/suffix overlapping. 
                     </p>
                     
                     <h3 id="notification-how-to-filtering-example-valid">Examples of Valid Notification
                        Configurations with Object Key Name Filtering
                     </h3>
                     
                     
                     
                     <p>The following notification configuration contains a queue configuration identifying
                        an Amazon SQS queue 
                        for Amazon S3 to publish events to of the <code class="code">s3:ObjectCreated:Put</code> type. The events will be published 
                        whenever an object that has a prefix of <code class="code">images/</code> and a <code class="code">jpg</code> suffix is PUT to a bucket. 
                        
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">&lt;NotificationConfiguration&gt;
  &lt;QueueConfiguration&gt;
      &lt;Id&gt;1&lt;/Id&gt;
      &lt;Filter&gt;
          &lt;S3Key&gt;
              &lt;FilterRule&gt;
                  &lt;Name&gt;prefix&lt;/Name&gt;
                  &lt;Value&gt;<em class="replaceable"><code>images/</code></em>&lt;/Value&gt;
              &lt;/FilterRule&gt;
              &lt;FilterRule&gt;
                  &lt;Name&gt;suffix&lt;/Name&gt;
                  &lt;Value&gt;<em class="replaceable"><code>jpg</code></em>&lt;/Value&gt;
              &lt;/FilterRule&gt;
          &lt;/S3Key&gt;
     &lt;/Filter&gt;
     &lt;Queue&gt;arn:aws:sqs:us-west-2:444455556666:s3notificationqueue&lt;/Queue&gt;
     &lt;Event&gt;s3:ObjectCreated:Put&lt;/Event&gt;
  &lt;/QueueConfiguration&gt;
  &lt;/NotificationConfiguration&gt;</code></pre>
                     <p>The following notification configuration has multiple non-overlapping prefixes.
                        The configuration defines that notifications for PUT requests in the
                        <code class="code">images/</code> folder will go to queue-A while notifications for PUT
                        requests in the <code class="code">logs/</code> folder will go to queue-B.
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="">&lt;NotificationConfiguration&gt;
  &lt;QueueConfiguration&gt;
     &lt;Id&gt;1&lt;/Id&gt;
     &lt;Filter&gt;
            &lt;S3Key&gt;
                &lt;FilterRule&gt;
                    &lt;Name&gt;prefix&lt;/Name&gt;
                    &lt;Value&gt;images/&lt;/Value&gt;
                &lt;/FilterRule&gt;
            &lt;/S3Key&gt;
     &lt;/Filter&gt;
     &lt;Queue&gt;arn:aws:sqs:us-west-2:444455556666:sqs-queue-A&lt;/Queue&gt;
     &lt;Event&gt;s3:ObjectCreated:Put&lt;/Event&gt;
  &lt;/QueueConfiguration&gt;
  &lt;QueueConfiguration&gt;
     &lt;Id&gt;2&lt;/Id&gt;
     &lt;Filter&gt;
            &lt;S3Key&gt;
                &lt;FilterRule&gt;
                    &lt;Name&gt;prefix&lt;/Name&gt;
                    &lt;Value&gt;logs/&lt;/Value&gt;
                &lt;/FilterRule&gt;
            &lt;/S3Key&gt;
     &lt;/Filter&gt;
     &lt;Queue&gt;arn:aws:sqs:us-west-2:444455556666:sqs-queue-B&lt;/Queue&gt;
     &lt;Event&gt;s3:ObjectCreated:Put&lt;/Event&gt;
  &lt;/QueueConfiguration&gt;
  &lt;/NotificationConfiguration&gt;</code></pre>
                     <p>The following notification configuration has multiple non-overlapping suffixes.
                        The configuration defines that all .jpg images newly added to the bucket will be
                        processed by Lambda cloud-function-A and all newly added .png images will be
                        processed by cloud-function-B. The suffixes .png and .jpg are not overlapping even
                        though they have the same last letter. Two suffixes are considered overlapping if
                        a
                        given string can end with both suffixes. A string cannot end with both .png and .jpg
                        so the suffixes in the example configuration are not overlapping suffixes. 
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="">&lt;NotificationConfiguration&gt;
  &lt;CloudFunctionConfiguration&gt;
     &lt;Id&gt;1&lt;/Id&gt;
     &lt;Filter&gt;
            &lt;S3Key&gt;
                &lt;FilterRule&gt;
                    &lt;Name&gt;suffix&lt;/Name&gt;
                    &lt;Value&gt;.jpg&lt;/Value&gt;
                &lt;/FilterRule&gt;
            &lt;/S3Key&gt;
     &lt;/Filter&gt;
     &lt;Cloudcode&gt;arn:aws:lambda:us-west-2:444455556666:cloud-function-A&lt;/Cloudcode&gt;
     &lt;Event&gt;s3:ObjectCreated:Put&lt;/Event&gt;
  &lt;/CloudFunctionConfiguration&gt;
  &lt;CloudFunctionConfiguration&gt;
     &lt;Id&gt;2&lt;/Id&gt;
     &lt;Filter&gt;
            &lt;S3Key&gt;
                &lt;FilterRule&gt;
                    &lt;Name&gt;suffix&lt;/Name&gt;
                    &lt;Value&gt;.png&lt;/Value&gt;
                &lt;/FilterRule&gt;
            &lt;/S3Key&gt;
     &lt;/Filter&gt;
     &lt;Cloudcode&gt;arn:aws:lambda:us-west-2:444455556666:cloud-function-B&lt;/Cloudcode&gt;
     &lt;Event&gt;s3:ObjectCreated:Put&lt;/Event&gt;
  &lt;/CloudFunctionConfiguration&gt;
  &lt;/NotificationConfiguration&gt;</code></pre>
                     
                     <p>Your notification configurations that use <code class="code">Filter</code> cannot define
                        filtering rules with overlapping prefixes for the same event types, unless the
                        overlapping prefixes are used with suffixes that do not overlap. The following
                        example configuration shows how objects created with a common prefix but
                        non-overlapping suffixes can be delivered to different destinations.
                     </p>
                     
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="">&lt;NotificationConfiguration&gt;
  &lt;CloudFunctionConfiguration&gt;
     &lt;Id&gt;1&lt;/Id&gt;
     &lt;Filter&gt;
            &lt;S3Key&gt;
                &lt;FilterRule&gt;
                    &lt;Name&gt;prefix&lt;/Name&gt;
                    &lt;Value&gt;images&lt;/Value&gt;
                &lt;/FilterRule&gt;
                &lt;FilterRule&gt;
                    &lt;Name&gt;suffix&lt;/Name&gt;
                    &lt;Value&gt;.jpg&lt;/Value&gt;
                &lt;/FilterRule&gt;
            &lt;/S3Key&gt;
     &lt;/Filter&gt;
     &lt;Cloudcode&gt;arn:aws:lambda:us-west-2:444455556666:cloud-function-A&lt;/Cloudcode&gt;
     &lt;Event&gt;s3:ObjectCreated:Put&lt;/Event&gt;
  &lt;/CloudFunctionConfiguration&gt;
  &lt;CloudFunctionConfiguration&gt;
     &lt;Id&gt;2&lt;/Id&gt;
     &lt;Filter&gt;
            &lt;S3Key&gt;
                &lt;FilterRule&gt;
                    &lt;Name&gt;prefix&lt;/Name&gt;
                    &lt;Value&gt;images&lt;/Value&gt;
                &lt;/FilterRule&gt;
                &lt;FilterRule&gt;
                    &lt;Name&gt;suffix&lt;/Name&gt;
                    &lt;Value&gt;.png&lt;/Value&gt;
                &lt;/FilterRule&gt;
            &lt;/S3Key&gt;
     &lt;/Filter&gt;
     &lt;Cloudcode&gt;arn:aws:lambda:us-west-2:444455556666:cloud-function-B&lt;/Cloudcode&gt;
     &lt;Event&gt;s3:ObjectCreated:Put&lt;/Event&gt;
  &lt;/CloudFunctionConfiguration&gt;
&lt;/NotificationConfiguration&gt;</code></pre>
                     
                     
                     <h3 id="notification-how-to-filtering-examples-invalid">Examples of Notification
                        Configurations with Invalid Prefix/Suffix Overlapping 
                     </h3>
                     
                     
                     
                     <p>Your notification configurations that use <code class="code">Filter</code>, for the most
                        part, cannot define filtering rules with overlapping prefixes, overlapping suffixes,
                        or overlapping combinations of prefixes and suffixes for the same event types. (You
                        can have overlapping prefixes as long as the suffixes do not overlap. For an
                        example, see <a href="NotificationHowTo.html#notification-how-to-filtering">Configuring Notifications with Object Key Name
                           Filtering</a>.)
                     </p>
                     
                     <p>You can use overlapping object key name filters with different event types. For
                        example, you could create a notification configuration that uses the prefix
                        <code>image/</code> for the <code class="code">ObjectCreated:Put</code> event type
                        and the prefix <code>image/</code> for the <code class="code">ObjectDeleted:*</code>
                        event type. 
                     </p>
                     
                     <p>You will get an error if you try to save a notification configuration
                        that has invalid overlapping name filters for the same event types, when using the
                        AWS Amazon S3
                        console or when using the Amazon S3 API. This section shows examples of notification
                        configurations that are invalid because of overlapping name filters. 
                     </p> 
                     
                     <p>Any existing notification configuration rule is assumed to have a default prefix
                        and suffix that match any other prefix and suffix respectively. The following
                        notification configuration is invalid because it has overlapping prefixes, where the
                        root prefix overlaps with any other prefix. (The same thing would be true if we were
                        using suffix instead of prefix in this example. The root suffix overlaps with any
                        other suffix.)
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="">&lt;NotificationConfiguration&gt;
     &lt;TopicConfiguration&gt;
         &lt;Topic&gt;arn:aws:sns:us-west-2:444455556666:sns-notification-one&lt;/Topic&gt;
         &lt;Event&gt;s3:ObjectCreated:*&lt;/Event&gt;
    &lt;/TopicConfiguration&gt;
    &lt;TopicConfiguration&gt;
         &lt;Topic&gt;arn:aws:sns:us-west-2:444455556666:sns-notification-two&lt;/Topic&gt;
         &lt;Event&gt;s3:ObjectCreated:*&lt;/Event&gt;
         &lt;Filter&gt;
             &lt;S3Key&gt;
                 &lt;FilterRule&gt;
                     &lt;Name&gt;prefix&lt;/Name&gt;
                     &lt;Value&gt;images&lt;/Value&gt;
                 &lt;/FilterRule&gt;
            &lt;/S3Key&gt;
        &lt;/Filter&gt;
    &lt;/TopicConfiguration&gt;             
    &lt;/NotificationConfiguration&gt;</code></pre>
                     <p>The following notification configuration is invalid because it has overlapping
                        suffixes. Two suffixes are considered overlapping if a given string can end with
                        both suffixes. A string can end with <code class="code">jpg</code> and <code class="code">pg</code> so the
                        suffixes are overlapping. (The same is true for prefixes, two prefixes are
                        considered overlapping if a given string can begin with both prefixes.)
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class=""> &lt;NotificationConfiguration&gt;
     &lt;TopicConfiguration&gt;
         &lt;Topic&gt;arn:aws:sns:us-west-2:444455556666:sns-topic-one&lt;/Topic&gt;
         &lt;Event&gt;s3:ObjectCreated:*&lt;/Event&gt;
         &lt;Filter&gt;
             &lt;S3Key&gt;
                 &lt;FilterRule&gt;
                     &lt;Name&gt;suffix&lt;/Name&gt;
                     &lt;Value&gt;jpg&lt;/Value&gt;
                 &lt;/FilterRule&gt;
            &lt;/S3Key&gt;
        &lt;/Filter&gt;
    &lt;/TopicConfiguration&gt;
    &lt;TopicConfiguration&gt;
         &lt;Topic&gt;arn:aws:sns:us-west-2:444455556666:sns-topic-two&lt;/Topic&gt;
         &lt;Event&gt;s3:ObjectCreated:Put&lt;/Event&gt;
         &lt;Filter&gt;
             &lt;S3Key&gt;
                 &lt;FilterRule&gt;
                     &lt;Name&gt;suffix&lt;/Name&gt;
                     &lt;Value&gt;pg&lt;/Value&gt;
                 &lt;/FilterRule&gt;
            &lt;/S3Key&gt;
        &lt;/Filter&gt;
    &lt;/TopicConfiguration&gt;
&lt;/NotificationConfiguration</code></pre>
                     <p>The following notification configuration is invalid because
                        it has overlapping prefixes and suffixes.
                        
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="">&lt;NotificationConfiguration&gt;
     &lt;TopicConfiguration&gt;
         &lt;Topic&gt;arn:aws:sns:us-west-2:444455556666:sns-topic-one&lt;/Topic&gt;
         &lt;Event&gt;s3:ObjectCreated:*&lt;/Event&gt;
         &lt;Filter&gt;
             &lt;S3Key&gt;
                 &lt;FilterRule&gt;
                     &lt;Name&gt;prefix&lt;/Name&gt;
                     &lt;Value&gt;images&lt;/Value&gt;
                 &lt;/FilterRule&gt;
                 &lt;FilterRule&gt;
                     &lt;Name&gt;suffix&lt;/Name&gt;
                     &lt;Value&gt;jpg&lt;/Value&gt;
                 &lt;/FilterRule&gt;
            &lt;/S3Key&gt;
        &lt;/Filter&gt;
    &lt;/TopicConfiguration&gt;
    &lt;TopicConfiguration&gt;
         &lt;Topic&gt;arn:aws:snsus-west-2:444455556666:sns-topic-two&lt;/Topic&gt;
         &lt;Event&gt;s3:ObjectCreated:Put&lt;/Event&gt;
         &lt;Filter&gt;
             &lt;S3Key&gt;
                 &lt;FilterRule&gt;
                     &lt;Name&gt;suffix&lt;/Name&gt;
                     &lt;Value&gt;jpg&lt;/Value&gt;
                 &lt;/FilterRule&gt;
            &lt;/S3Key&gt;
        &lt;/Filter&gt;
    &lt;/TopicConfiguration&gt;
&lt;/NotificationConfiguration&gt;</code></pre>
                     
                          
                     <h2 id="grant-destinations-permissions-to-s3">Granting Permissions to Publish Event Notification
                        Messages to a Destination
                     </h2>
                     
                     
                     <p>Before Amazon S3 can publish messages to a destination, you must
                        grant the Amazon S3 principal the necessary permissions to call the relevant API to
                        publish
                        messages to an SNS topic, an SQS queue, or a Lambda function. 
                        
                     </p>
                     
                     
                     <h3 id="grant-lambda-invoke-permission-to-s3">Granting Permissions to
                        Invoke an AWS Lambda Function
                     </h3>
                     
                     
                     
                     <p>Amazon S3 publishes event messages to AWS Lambda by invoking a Lambda function and
                        providing the event message as an argument.
                     </p>
                     
                     <p>When you use the Amazon S3 console to configure event notifications on an Amazon S3
                        bucket for a Lambda function, 
                        the Amazon S3 console will set up the necessary permissions on the Lambda function
                        so that Amazon S3 has permissions 
                        to invoke the function from the bucket. For more information, see 
                        <a href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/enable-event-notifications.html" target="_blank">How Do I Enable and Configure Event Notifications for an S3 Bucket?</a>
                        in the <em>Amazon Simple Storage Service Console User Guide</em>.
                        
                     </p>       
                     
                     <p>You can also grant Amazon S3 permissions from AWS Lambda to invoke your Lambda function.
                        For more information, see 
                        <a href="https://docs.aws.amazon.com/lambda/latest/dg/with-s3-example.html" target="_blank">Tutorial: Using AWS Lambda with Amazon S3</a> in the <em>AWS Lambda Developer Guide</em>.
                     </p>
                     
                     
                     
                     <h3 id="grant-sns-sqs-permission-for-s3">Granting Permissions to Publish
                        Messages to an SNS Topic or an SQS Queue
                     </h3>
                     
                     
                     <p>You attach an IAM policy to the destination SNS topic or SQS queue to grant Amazon
                        S3 permissions to publish messages to the SNS topic or SQS queue.       
                        
                     </p>
                     
                     
                     <p>Example of an IAM policy that you attach to the destination SNS topic.</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
 "Version": "2008-10-17",
 "Id": "example-ID",
 "Statement": [
  {
   "Sid": "example-statement-ID",
   "Effect": "Allow",
   "Principal": {
     "Service": "s3.amazonaws.com"  
   },
   "Action": [
    "<em class="replaceable"><code>SNS:Publish</code></em>"
   ],
   "Resource": "<em class="replaceable"><code>SNS-ARN</code></em>",
   "Condition": {
      "ArnLike": { "aws:SourceArn": "arn:aws:s3:*:*:<em class="replaceable"><code>bucket-name</code></em>" }
   }
  }
 ]
}</code></pre>
                     
                     
                     <p>Example of an IAM policy that you attach to the destination SQS queue.</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
 "Version": "2008-10-17",
 "Id": "example-ID",
 "Statement": [
  {
   "Sid": "example-statement-ID",
   "Effect": "Allow",
   "Principal": {
     "AWS": "*"  
   },
   "Action": [
    "<em class="replaceable"><code>SQS:SendMessage</code></em>"
   ],
   "Resource": "<em class="replaceable"><code>SQS-ARN</code></em>",
   "Condition": {
      "ArnLike": { "aws:SourceArn": "arn:aws:s3:*:*:<em class="replaceable"><code>bucket-name</code></em>" }
   }
  }
 ]
}</code></pre>              
                     
                     <p>Note that for both the Amazon SNS and Amazon SQS IAM policies, you can specify the
                        <code class="code">StringLike</code> condition in the policy,
                        instead of the <code class="code">ArnLike</code> condition.
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">"Condition": {         
  "StringLike": { "aws:SourceArn": "arn:aws:s3:*:*:<em class="replaceable"><code>bucket-name</code></em>" }
  }  </code></pre>
                     
                     <p>Example of a key policy that you attach to the associated KMS key if the SQS queue
                        is SSE enabled. 
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="">{
    "Version": "2012-10-17",
    "Id": "example-ID",
    "Statement": [
        {
            "Sid": "example-statement-ID",
            "Effect": "Allow",
            "Principal": {
                "Service": "s3.amazonaws.com"
            },
            "Action": [
                "kms:GenerateDataKey",
                "kms:Decrypt"
            ],
            "Resource": "*"
        }
    ]
}</code></pre>
                     <p>The policy grants Amazon S3 service principal permission for specific KMS actions
                        that
                        are necessary to encrypt messages added to the queue.
                     </p>
                     
                     
                     <p>For an example of how to attach a policy to a SNS topic or an SQS
                        queue, see               
                        <a href="ways-to-add-notification-config-to-bucket.html">Example Walkthrough 1: Configure
                           a Bucket for Notifications (Message Destination: SNS Topic and SQS Queue)</a>.
                     </p>
                     
                     <p>For more information about permissions, see the following topics:</p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="https://docs.aws.amazon.com/sns/latest/dg/AccessPolicyLanguage_UseCases_Sns.html" target="_blank">Example Cases for Amazon SNS Access Control</a> in
                                 the <em>Amazon Simple Notification Service Developer Guide</em></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/UsingIAM.html" target="_blank">Access Control Using AWS
                                    Identity and Access Management (IAM)</a> in the
                                 <em>Amazon Simple Queue Service Developer Guide</em></p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="getting-started-cleanup.html">« Previous </a><a class="awstoc" accesskey="n" href="ways-to-add-notification-config-to-bucket.html">Next »</a></div>
                     <div id="copyright-main-footer">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Overview"><a class="pagetoc" href="#notification-how-to-overview">Overview</a></li>
                        <li class="pagetoc" name="How to Enable Event Notifications "><a class="pagetoc" href="#how-to-enable-disable-notification-intro">How to Enable Event Notifications </a></li>
                        <li class="pagetoc" name="Event Notification Types and Destinations"><a class="pagetoc" href="#notification-how-to-event-types-and-destinations">Event Notification Types and Destinations</a></li>
                        <li class="pagetoc" name="Configuring Notifications with Object Key Name&#xA;            Filtering"><a class="pagetoc" href="#notification-how-to-filtering">Configuring Notifications with Object Key Name
                              Filtering</a></li>
                        <li class="pagetoc" name="Granting Permissions to Publish Event Notification&#xA;                Messages to a Destination"><a class="pagetoc" href="#grant-destinations-permissions-to-s3">Granting Permissions to Publish Event Notification
                              Messages to a Destination</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="cookie-notice">
         <div class="cookie-notice-text">We use cookies to provide and improve our services. By using our site, you consent
            to cookies. <a href="http://aws.amazon.com/legal/cookies">Learn more</a></div>
      </div>
      <div id="footer">
         <div id="footer_short_fb" class="hide" title="Feedback"><a target="_blank" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=http://docs.aws.amazon.com/en_us/AmazonS3/latest/dev/NotificationHowTo.html&amp;hidden_guide_name=Developer Guide&amp;hidden_api_version=2006-03-01&amp;hidden_file_name=NotificationHowTo"><i class="awsdocs-footer-text fa fa-envelope-o"></i></a></div>
         <div id="footer_toggle" class="mediaobject">
            <div id="footer_toggle_img" class="awsdocs-footer-text fa fa-caret-down"></div>
            <div id="footer_toggle_img_collapse" class="hide awsdocs-footer-text fa fa-caret-right"></div>
         </div>
         <div id="footer-left"><a class="awsdocs-footer-text" target="_top" href="http://aws.amazon.com/terms">Terms of Use</a><span class="awsdocs-footer-text"> | </span><a class="awsdocs-footer-text" target="_top" href="http://aws.amazon.com/privacy">Privacy</a><span class="awsdocs-footer-text"> | </span><span class="awsdocs-footer-text">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</span></div>
         <div id="footer-right">
            <div id="feedback">
               <div id="forums"><a id="forum_link" target="_blank" href="http://forums.aws.amazon.com/forum.jspa?forumID=24" class="awsdocs-footer-text">Have a question? Try the Forums.</a></div>
               <div id="feedback-message" class="awsdocs-footer-text">Did this page help you?</div>
               <div id="feedback-yesno-buttons"><a class="awstoc btn btn-default" target="_blank" href="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/AmazonS3/latest/dev/NotificationHowTo.html">Yes</a><a class="awstoc btn btn-default" target="_blank" href="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/AmazonS3/latest/dev/NotificationHowTo.html">No</a></div>
               <div id="feedback-feedback-button"><a class="awstoc btn btn-default" target="_blank" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=http://docs.aws.amazon.com/en_us/AmazonS3/latest/dev/NotificationHowTo.html&amp;hidden_guide_name=Developer Guide&amp;hidden_api_version=2006-03-01&amp;hidden_file_name=NotificationHowTo">Feedback</a></div>
            </div>
         </div>
      </div>
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon Simple Storage Service';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   </body>
</html>